{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?e243","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?9a45","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?3e88","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?9fcf","uni-app:///packageA/search/index.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?dbee","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/search/index.vue?62b0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","loadMoreStatus","searchKey","searchKeyList","showListFlag","hotSearchInfo","hotSearchKeyList","shopListData","screen","page","ruleList","logData","likeGoodsTitle","likeGoodsList","isOnReachBottomFlag","isShowGoodsSpec","goodsSpecSelectItemList","goodsSpecRowsList","currentGoodsName","currentGoodsDescription","currentGoodsImages","currentGoodsId","currentGoodsSelectedNum","loginBoxFlag","onUnload","uni","onLoad","that","goodsId","item","onShow","tem","currentGoods","console","result","showCancel","title","success","methods","refreshFn","getLikeGoodsFn","url","resultObj","likeGoodsObj","resFn","msg","rejFn","ruleClickFn","setShowListFlag","getHotSearchList","Hot","icon","searchFn","getSearchGoodsListFn","loading","param","goodsList","goodsImage","isHot","isNew","goodsName","goodsDescription","goodsTag","isVipPrice","goodsPrice","vipPrice","linePrice","selectedNum","isSpec","tagImg","gysMdId","gysMdName","goodsRule","fn","onReachBottom","hotBtnTxtFn","hisBtnTxtFn","delHistoryKeyFn","content","handleLikeGoodsFn","setGoodsSpec","setSpecFilterItemActiveFn","specFilterIndex","it"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAiuB,CAAgB,svBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACiMrvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;IACA;EACA;EAEAC;IACAC;EACA;EAEAC;IACA;IACAC;IAGAF;IACA;IACAA;MACA;QAAAG;MACAD;QACA;UACAE;QACA;MACA;MAEAF;QACA;UACAE;QACA;MACA;IAEA;EAEA;EACAC;IACA;;IAEA;IACAL;IACAA;MACAE;IACA;IAGAA;IACA;IACA;IACA;MACAI;IACA;MACAA;IACA;IACAJ;;IAIA;IACAF;IACAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAG;gBAEAI,wCACA,2CACA;kBAAA;gBAAA,uCACA;kBAAA;gBAAA,MACA,GACA;gBAEAC;gBACA;;AAEA;AACA;AACA;AACA;AACA;;gBAGAN;gBACAF;gBAEAQ;gBAEAN;gBACAA;gBACAA;;gBAEAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAO;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAP;gBACAF;kBACAU;kBAAA;kBACAC;kBACAC;oBACA;oBACAJ;kBACA;gBACA;gBAAA,iCACA;cAAA;gBAGAN;gBACAA;gBAEAM;gBAEAN;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;IAAA;EACA;EACAW;IACA;IACAC;MACA;MACAZ;MACAA;QACAA;MACA;IACA;IACA;IACAa;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAb;oBACAc;kBACA;gBAAA;kBAFAP;kBAIA;oBACA;sBACAQ;sBACAC;sBAEAC;wBACAC;wBACAX;0BACAtB;0BACAC;wBACA;sBACA;oBACA;sBACAiC;wBACAD;wBACAX;sBACA;oBACA;kBACA;oBACAY;sBACAD;sBACAX;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAa;MACA;MACA;MACApB;MACA;QACA;UACAA;QACA;UACAA;QACA;QACAnB;MACA;QACAA;MACA;MACAmB;MAEAA;QACAA;MACA;MACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAqB;MACA;MACArB;MACAA;IACA;IACA;IACAsB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtB;gBAAA;gBAAA,OACAA;kBACAc;gBACA;cAAA;gBAFAP;gBAIA;kBACA;oBACAQ;oBACAQ;oBACAvB;oBACAA;kBACA;oBACAF;sBACA0B;sBACAf;oBACA;kBACA;gBACA;kBACAX;oBACA0B;oBACAf;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAgB;MACA;MACA;QACAzB;MACA;MACA;MACA;MACA;QACAI;MACA;QACAA;MACA;MACA;QACAA;QACAJ;MACA;MACAF;MACAE;MACAA;MACAA;MACAA;QACAA;QACAA;MACA;IACA;IACA;IACA0B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA1B;gBAAA;gBAAA,OACAA;kBACA2B;kBACAb;kBACAzC;oBACAuD;oBACA/C;oBACAC;kBACA;gBACA;cAAA;gBARAyB;gBASAP;gBAEA;kBACA;oBACAe;oBACAc;sBACA;wBACA5B;wBAAA;wBACA6B;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;sBACA;oBACA;oBACAC;oBACA;sBACA7C;sBACA;wBACAA;sBACA;oBACA;oBACAM;oBACAwC;oBACA9C;oBACA;sBACAA;oBACA;kBACA;oBACAF;sBACA0B;sBACAf;oBACA;kBACA;gBACA;kBACAX;oBACA0B;oBACAf;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAsC;MACA;MAEAzC;MAEA;QACA;MACA;MACAN;MACAA;MACAA;QACA;UACAA;QACA;UACAA;QACA;MACA;IACA;IACAgD;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACApD;QACAW;QACA0C;QACAzC;UACA;YACAZ;YACAE;UACA;QACA;MACA;IACA;IACA;IACAoD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApD;gBAAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAA;gBAAAO;gBACAP;gBAEAd;kBACA;oBACAe;oBAAA;oBACA6B;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;kBACA;gBACA;;gBAEA5C;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;kBACA0B;kBACAf;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA;IACA4C;MACA;MACArD;MACA;QACAA;MACA;IACA;IACA;IACAsD;MACA;MACA;QAAAC;MAEAjD;MAEA;MAEAjB;QACA;UACAa;YACA;cACAsD;YACA;cACAA;YACA;UACA;QACA;MACA;MACAxD;IACA,EACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACznBA;AAAA;AAAA;AAAA;AAA44C,CAAgB,y2CAAG,EAAC,C;;;;;;;;;;;ACAh6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"packageA/search/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './packageA/search/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=16c12a61&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=16c12a61&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16c12a61\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"packageA/search/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=16c12a61&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !!_vm.showListFlag && _vm.shopListData.length > 0\n      ? _vm.__map(_vm.ruleList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m0 = item.is_active\n            ? _vm.hexToRgba(_vm.configInfo.web_site_color, 0.16)\n            : null\n          return {\n            $orig: $orig,\n            m0: m0,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"search-block\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<uni-icons class=\"icon-search\" size=\"20\" :color=\"configInfo.web_site_color\" type=\"search\"></uni-icons>\r\n\t\t\t\t<input\r\n\t\t\t\t\tfocus\r\n\t\t\t\t\tclass=\"inp border-radius\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t@focus=\"setShowListFlag(false)\"\r\n\t\t\t\t\t:placeholder=\"configInfo.search_default_text\"\r\n\t\t\t\t\tv-model=\"searchKey\"\r\n\t\t\t\t\t:style=\"{ border: `1px solid ${configInfo.web_site_color}` }\"\r\n\t\t\t\t/>\r\n\t\t\t\t<view class=\"flex-center text\" @click=\"searchFn\" :style=\"{ background: configInfo.web_site_color }\">\r\n\t\t\t\t\t搜索\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"!showListFlag\">\r\n\t\t\t<view class=\"content-wrap\" v-if=\"searchKeyList.length > 0\">\r\n\t\t\t\t<view class=\"push-msg history-block\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text>历史搜索</text>\r\n\t\t\t\t\t\t<uni-icons @click=\"delHistoryKeyFn\" type=\"trash\" size=\"15\" color=\"#595557\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tag-list\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"history-tag tag-box\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in searchKeyList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"hisBtnTxtFn(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ item }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content-wrap\" v-if=\"hotSearchKeyList.length > 0\" style=\"padding-bottom: 20rpx;\">\r\n\t\t\t\t<view class=\"push-msg hot-block\">\r\n\t\t\t\t\t<view class=\"title\">{{ hotSearchInfo.search_name ? hotSearchInfo.search_name : '热门搜索' }}</view>\r\n\t\t\t\t\t<view class=\"tag-list\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"hot-tag tag-box\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in hotSearchKeyList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"hotBtnTxtFn(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<image v-if=\"item.is_hot - 0\" :src=\"hotSearchInfo.search_hot_image\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<text v-if=\"item.is_hot - 0\" :style=\"{ color: hotSearchInfo.search_hot_font_color }\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<text v-else :style=\"{ color: hotSearchInfo.search_font_color }\">{{ item.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"likeGoodsList.length\" class=\"like-goods-list\">\r\n\t\t\t\t<view class=\"like-goods-list-bar\">\r\n\t\t\t\t\t<view class=\"bar-title\">\r\n\t\t\t\t\t\t<view class=\"after-dom\">\r\n\t\t\t\t\t\t\t<view class=\"icon-O\"></view>\r\n\t\t\t\t\t\t\t<view class=\"icon-I\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"before-dom\">\r\n\t\t\t\t\t\t\t<view class=\"icon-O\"></view>\r\n\t\t\t\t\t\t\t<view class=\"icon-I\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- {{ likeGoodsTitle }} -->\r\n\t\t\t\t\t\t热门搜索\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"bottom-shop-list\">\r\n\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t<view class=\"list-goods-item-div\" v-for=\"(item, index) in likeGoodsList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<list-goods-item\r\n\t\t\t\t\t\t\t\t:goods-id=\"item.goodsId\"\r\n\t\t\t\t\t\t\t\t:goods-image=\"item.goodsImage\"\r\n\t\t\t\t\t\t\t\t:is-hot=\"item.isHot\"\r\n\t\t\t\t\t\t\t\t:is-new=\"item.isNew\"\r\n\t\t\t\t\t\t\t\t:goods-name=\"item.goodsName\"\r\n\t\t\t\t\t\t\t\t:goods-description=\"item.goodsDescription\"\r\n\t\t\t\t\t\t\t\t:goods-tag=\"item.goodsTag\"\r\n\t\t\t\t\t\t\t\t:is-vip-price=\"item.isVipPrice\"\r\n\t\t\t\t\t\t\t\t:goods-price=\"item.goodsPrice\"\r\n\t\t\t\t\t\t\t\t:vip-price=\"item.vipPrice\"\r\n\t\t\t\t\t\t\t\t:line-price=\"item.linePrice\"\r\n\t\t\t\t\t\t\t\t:selected-num=\"item.selectedNum\"\r\n\t\t\t\t\t\t\t\t:is-spec=\"item.isSpec\"\r\n\t\t\t\t\t\t\t\t:tag-img=\"item.tagImg\"\r\n\t\t\t\t\t\t\t\t:gysMdId=\"item.gysMdId\"\r\n\t\t\t\t\t\t\t\t:gysMdName=\"item.gysMdName\"\r\n\t\t\t\t\t\t\t></list-goods-item>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<block v-else>\r\n\t\t\t<view class=\"nav-bar\" v-if=\"shopListData.length > 0\">\r\n\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t<view class=\"nav-bar-block\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in ruleList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\tclass=\"tag-block border-radius\"\r\n\t\t\t\t\t\t\t:class=\"[item.is_active ? 'greenStyle' : 'defaultStyle']\"\r\n\t\t\t\t\t\t\t@click=\"ruleClickFn(item)\"\r\n\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\tbackground: item.is_active ? hexToRgba(configInfo.web_site_color, 0.16) : '#efefef',\r\n\t\t\t\t\t\t\t\tcolor: item.is_active ? configInfo.web_site_color : '#afafaf',\r\n\t\t\t\t\t\t\t\tborder: item.is_active ? '1px solid ' + configInfo.web_site_color : '#efefef'\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t<block v-if=\"item.name == '价格'\">\r\n\t\t\t\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t\t\t\tv-if=\"screen == 'price_up'\"\r\n\t\t\t\t\t\t\t\t\tclass=\"deg180\"\r\n\t\t\t\t\t\t\t\t\ttype=\"arrowdown\"\r\n\t\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t\t\tsize=\"10\"\r\n\t\t\t\t\t\t\t\t></uni-icons>\r\n\t\t\t\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t\t\t\tv-if=\"screen == 'price_next'\"\r\n\t\t\t\t\t\t\t\t\ttype=\"arrowdown\"\r\n\t\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t\t\tsize=\"10\"\r\n\t\t\t\t\t\t\t\t></uni-icons>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-shop-list\" v-if=\"shopListData.length > 0\">\r\n\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t<view class=\"list-goods-item-div\" v-for=\"(item, index) in shopListData\" :key=\"index\">\r\n\t\t\t\t\t\t<list-goods-item\r\n\t\t\t\t\t\t\t:goods-id=\"item.goodsId\"\r\n\t\t\t\t\t\t\t:goods-image=\"item.goodsImage\"\r\n\t\t\t\t\t\t\t:is-hot=\"item.isHot\"\r\n\t\t\t\t\t\t\t:is-new=\"item.isNew\"\r\n\t\t\t\t\t\t\t:goods-name=\"item.goodsName\"\r\n\t\t\t\t\t\t\t:goods-description=\"item.goodsDescription\"\r\n\t\t\t\t\t\t\t:goods-tag=\"item.goodsTag\"\r\n\t\t\t\t\t\t\t:is-vip-price=\"item.isVipPrice\"\r\n\t\t\t\t\t\t\t:goods-price=\"item.goodsPrice\"\r\n\t\t\t\t\t\t\t:vip-price=\"item.vipPrice\"\r\n\t\t\t\t\t\t\t:line-price=\"item.linePrice\"\r\n\t\t\t\t\t\t\t:selected-num=\"item.selectedNum\"\r\n\t\t\t\t\t\t\t:is-spec=\"item.isSpec\"\r\n\t\t\t\t\t\t\t:tag-img=\"item.tagImg\"\r\n\t\t\t\t\t\t\t:gysMdId=\"item.gysMdId\"\r\n\t\t\t\t\t\t\t:gysMdName=\"item.gysMdName\"\r\n\t\t\t\t\t\t></list-goods-item>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<null-block v-else></null-block>\r\n\r\n\t\t\t<view class=\"uni-load-more\" v-if=\"shopListData.length >= 6\">\r\n\t\t\t\t<uni-load-more :status=\"loadMoreStatus\"></uni-load-more>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\r\n\t\t<to-top-btn :flag=\"isShowToTopBtn\"></to-top-btn>\r\n\r\n\r\n\r\n\t\t<!-- 登录框组件 -->\r\n\t\t<login-fn :is-show-login=\"loginBoxFlag\" @loginSuccessCallback=\"refreshFn\" @close=\"closeGlobalLoginFn\"></login-fn>\r\n\r\n\t\t<goods-spec\r\n\t\t\t:is-show=\"isShowGoodsSpec\"\r\n\t\t\t:goods-spec-rows-list=\"goodsSpecRowsList\"\r\n\t\t\t:goods-spec-select-item-list=\"goodsSpecSelectItemList\"\r\n\t\t\t:goods-name=\"currentGoodsName\"\r\n\t\t\t:goods-description=\"currentGoodsDescription\"\r\n\t\t\t:goods-images=\"currentGoodsImages\"\r\n\t\t\t:goods-id=\"currentGoodsId\"\r\n\t\t\t:selected-num=\"currentGoodsSelectedNum\"\r\n\t\t\t@setGoodsSpec=\"setGoodsSpec\"\r\n\t\t\t@setSpecFilterItemActiveFn=\"setSpecFilterItemActiveFn\"\r\n\t\t></goods-spec>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t\r\nimport { assertObject, assertArray, cloneFn, addSpecFilterItemActAttrFn, transNumFn } from '@/tools/tools.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloadMoreStatus: 'more', // 底部网络状态\r\n\t\t\tsearchKey: '', // 关键字\r\n\t\t\tsearchKeyList: [], // 搜索历史 关键字数据\r\n\t\t\tshowListFlag: false, // 是否显示搜索商品列表\r\n\t\t\thotSearchInfo: {}, // 搜索的一些配置信息\r\n\t\t\thotSearchKeyList: [], // 热门搜索关键字数据\r\n\t\t\tshopListData: [], // 搜索结果 商品列表数据\r\n\t\t\tscreen: '',\r\n\t\t\tpage: 1, // 分页数\r\n\t\t\truleList: [], // 规则数据\r\n\t\t\tlogData: {},\r\n\r\n\t\t\tlikeGoodsTitle: '', // 猜你喜欢商品的标题文字\r\n\t\t\tlikeGoodsList: [], // 猜你喜欢商品数据\r\n\t\t\tisOnReachBottomFlag: false, // false 不能下拉加载更多 , true 可以\r\n\r\n\t\t\t// ↓↓↓ 多规格相关--------------------------------------------------------\r\n\t\t\tisShowGoodsSpec: false, // 是否显示多规格弹框\r\n\t\t\tgoodsSpecSelectItemList: [{}], // 多规格项\r\n\t\t\tgoodsSpecRowsList: {}, // 多规格 笛卡尔积项对应的 商品 信息\r\n\t\t\tcurrentGoodsName: '', // 当前弹窗多规格的商品名字\r\n\t\t\tcurrentGoodsDescription: '', // 当前弹窗多规格的商品描述\r\n\t\t\tcurrentGoodsImages: '', // 当前弹窗多规格的商品图片\r\n\t\t\tcurrentGoodsId: '', // 当前弹窗多规格的商品id\r\n\t\t\tcurrentGoodsSelectedNum: '', // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\t\t\t// ↑↑↑ 多规格相关--------------------------------------------------------\r\n\t\t\tloginBoxFlag:false, // 登录框显示隐藏状态\r\n\t\t};\r\n\t},\r\n\r\n\tonUnload() {\r\n\t\tuni.$off('goodsAddCartEd_searchIndex')\r\n\t},\r\n\r\n\tonLoad() {\r\n\t\tlet that = this;\r\n\t\tthat.handleLikeGoodsFn();\r\n\r\n\r\n\t\tuni.$off('goodsAddCartEd_searchIndex');\r\n\t\t// 加入完购物车 修改的数量\r\n\t\tuni.$on('goodsAddCartEd_searchIndex', arg => {\r\n\t\t\tlet { selectedNum, goodsId } = arg;\r\n\t\t\tthat.shopListData.forEach(item => {\r\n\t\t\t\tif (item.goodsId == goodsId) {\r\n\t\t\t\t\titem.selectedNum = selectedNum;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthat.likeGoodsList.forEach(item => {\r\n\t\t\t\tif (item.goodsId == goodsId) {\r\n\t\t\t\t\titem.selectedNum = selectedNum;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t},\r\n\tonShow() {\r\n\t\tlet that = this;\r\n\r\n\t\t// 监听登录框\r\n\t\tuni.$off('setLoginBoxFlag');\r\n\t\tuni.$on('setLoginBoxFlag', loginBoxFlag=>{\r\n\t\t\tthat.loginBoxFlag = loginBoxFlag;\r\n\t\t});\r\n\r\n\r\n\t\tthat.getHotSearchList();\r\n\t\tlet searchKeyList = uni.getStorageSync('homeSearchKeyList');\r\n\t\tlet tem;\r\n\t\tif (searchKeyList) {\r\n\t\t\ttem = JSON.parse(searchKeyList);\r\n\t\t} else {\r\n\t\t\ttem = [];\r\n\t\t}\r\n\t\tthat.searchKeyList = tem;\r\n\r\n\t\r\n\r\n\t\t// 监听多规格弹框事件\r\n\t\tuni.$off('popSpecBlock');\r\n\t\tuni.$on('popSpecBlock', async arg => {\r\n\t\t\tlet { goodsId, page } = arg;\r\n\r\n\t\t\tlet currentGoods = assertObject(\r\n\t\t\t\t[\r\n\t\t\t\t\t...assertArray(that.shopListData.filter(item => item.goodsId == goodsId)),\r\n\t\t\t\t\t...assertArray(that.likeGoodsList.filter(item => item.goodsId == goodsId))\r\n\t\t\t\t][0]\r\n\t\t\t);\r\n\r\n\t\t\tconsole.log('currentGoods', currentGoods);\r\n\t\t\t/* \r\n\r\n\t\t\tif (goodsId == that.currentGoodsId) {\r\n\t\t\t\tthat.currentGoodsSelectedNum = currentGoods.selectedNum; // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\t\t\t\tthat.isShowGoodsSpec = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t */\r\n\r\n\t\t\tthat.currentGoodsId = goodsId;\r\n\t\t\tuni.showLoading({});\r\n\r\n\t\t\tconsole.log('当前点击商品的信息currentGoods', currentGoods);\r\n\r\n\t\t\tthat.currentGoodsName = currentGoods.goodsName; // 当前弹窗多规格的商品名字\r\n\t\t\tthat.currentGoodsDescription = currentGoods.goodsDescription; // 当前弹窗多规格的商品描述\r\n\t\t\tthat.currentGoodsImages = currentGoods.goodsImage; // 当前弹窗多规格的商品图片\r\n\r\n\t\t\tthat.currentGoodsSelectedNum = currentGoods.selectedNum; // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\r\n\t\t\tlet result = await that.getSpecInfoFn(that.currentGoodsId);\r\n\t\t\tif (result.type != 'success') {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\ttitle: result.msg,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthat.goodsSpecSelectItemList = result.result.goodsSpecSelectItemList;\r\n\t\t\tthat.goodsSpecRowsList = result.result.goodsSpecRowsList;\r\n\r\n\t\t\tconsole.log(`${that.currentGoodsId} 商品的规格信息`, result);\r\n\r\n\t\t\tthat.isShowGoodsSpec = true;\r\n\t\t\tthat.hideAllFn();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\t// 刷新页面\r\n\t\trefreshFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.page = 1;\r\n\t\t\tthat.getSearchGoodsListFn(() => {\r\n\t\t\t\tthat.shopListData = [];\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取猜你喜欢 的 商品数据\r\n\t\tgetLikeGoodsFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async (resFn, rejFn) => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\turl: `/api/Cart/likeGoods`\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\t\t\t\t\t\tlet likeGoodsObj = assertObject(resultObj.like);\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tlikeGoodsTitle: likeGoodsObj.name,\r\n\t\t\t\t\t\t\t\tlikeGoodsList: assertArray(likeGoodsObj.value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trejFn({\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\trejFn({\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 按照对应 规则 来排序\r\n\t\truleClickFn(item) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet screen;\r\n\t\t\tthat.page = 1;\r\n\t\t\tif (item.is_active) {\r\n\t\t\t\tif (!that.logData[item.name]) {\r\n\t\t\t\t\tthat.logData[item.name] = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.logData[item.name]++;\r\n\t\t\t\t}\r\n\t\t\t\tscreen = item.param[that.logData[item.name] % item.param.length];\r\n\t\t\t} else {\r\n\t\t\t\tscreen = item.param[0];\r\n\t\t\t}\r\n\t\t\tthat.screen = screen;\r\n\r\n\t\t\tthat.getSearchGoodsListFn(() => {\r\n\t\t\t\tthat.shopListData = [];\r\n\t\t\t});\r\n\t\t\tfor (let i in that.logData) {\r\n\t\t\t\tif (i != item.name) {\r\n\t\t\t\t\tdelete that.logData[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 设置搜索列表的显示隐藏\r\n\t\tsetShowListFlag(flag) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.showListFlag = flag;\r\n\t\t\tthat.isOnReachBottomFlag = flag;\r\n\t\t},\r\n\t\t// 获取热门搜索列表\r\n\t\tasync getHotSearchList() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\turl: '/api/Index/HotSearchList'\r\n\t\t\t});\r\n\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\t\t\t\t\tlet Hot = assertObject(resultObj.Hot);\r\n\t\t\t\t\tthat.hotSearchKeyList = assertArray(Hot.list);\r\n\t\t\t\t\tthat.hotSearchInfo = Hot;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 根据关键字去搜索商品\r\n\t\tsearchFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.searchKey || that.searchKey.length <= 0) {\r\n\t\t\t\tthat.searchKey = that.configInfo.search_default_text;\r\n\t\t\t}\r\n\t\t\tlet searchKeyList = uni.getStorageSync('homeSearchKeyList');\r\n\t\t\tlet tem;\r\n\t\t\tif (searchKeyList) {\r\n\t\t\t\ttem = JSON.parse(searchKeyList);\r\n\t\t\t} else {\r\n\t\t\t\ttem = [];\r\n\t\t\t}\r\n\t\t\tif (!tem.includes(that.searchKey)) {\r\n\t\t\t\ttem.push(that.searchKey);\r\n\t\t\t\tthat.searchKeyList.push(that.searchKey);\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('homeSearchKeyList', JSON.stringify(tem));\r\n\t\t\tthat.page = 1;\r\n\t\t\tthat.logData = {};\r\n\t\t\tthat.screen = '';\r\n\t\t\tthat.getSearchGoodsListFn(() => {\r\n\t\t\t\tthat.isOnReachBottomFlag = true;\r\n\t\t\t\tthat.shopListData = [];\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\t// 根据关键字搜索对应的商品列表\r\n\t\tasync getSearchGoodsListFn(fn, isShowLoading) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\tloading: !!isShowLoading,\r\n\t\t\t\turl: '/api/Index/GoodsList',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tparam: that.searchKey,\r\n\t\t\t\t\tscreen: that.screen,\r\n\t\t\t\t\tpage: that.page\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.setShowListFlag(true);\r\n\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\t\t\t\t\tlet goodsList = assertArray(resultObj.goods).map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoodsId: item.goods_id, // 商品id\r\n\t\t\t\t\t\t\tgoodsImage: item.image, // 商品图片\r\n\t\t\t\t\t\t\tisHot: item.is_hot == 1, // 是否热销爆款\r\n\t\t\t\t\t\t\tisNew: item.is_new == 1, // 是否新品\r\n\t\t\t\t\t\t\tgoodsName: item.goods_name, // 商品名称\r\n\t\t\t\t\t\t\tgoodsDescription: item.goods_remark, // 商品描述\r\n\t\t\t\t\t\t\tgoodsTag: item.activity, // 商品标签文字\r\n\t\t\t\t\t\t\tisVipPrice: item.is_vip_price == 1, // 是否会员专享\r\n\t\t\t\t\t\t\tgoodsPrice: item.shop_price, // 商品价格\r\n\t\t\t\t\t\t\tvipPrice: item.vip_market_price, // 会员价\r\n\t\t\t\t\t\t\tlinePrice: item.vip_market_price, // 划线价\r\n\t\t\t\t\t\t\tselectedNum: item.selectedNum, // 已经添加到购物车的数量\r\n\t\t\t\t\t\t\tisSpec: item.is_guige == 1, // 商品是否多规格\r\n\t\t\t\t\t\t\ttagImg: item.top_left_tag_img, // 商品左上的图片标签\r\n\t\t\t\t\t\t\tgysMdId: transNumFn(item.supp_id), // 供应商门店id\r\n\t\t\t\t\t\t\tgysMdName: item.dp_name // 供应商门店名字\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet goodsRule = assertArray(resultObj.rule);\r\n\t\t\t\t\tif (goodsList.length < 1) {\r\n\t\t\t\t\t\tthat.page--;\r\n\t\t\t\t\t\tif (that.page <= 1) {\r\n\t\t\t\t\t\t\tthat.page = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('获取的商品数据', goodsList);\r\n\t\t\t\t\tfn && fn(goodsList);\r\n\t\t\t\t\tthat.shopListData = that.shopListData.concat(goodsList);\r\n\t\t\t\t\tif (goodsRule.length > 0) {\r\n\t\t\t\t\t\tthat.ruleList = goodsRule;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 加载更多\r\n\t\tonReachBottom() {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\tconsole.log('that.isOnReachBottomFlag', that.isOnReachBottomFlag);\r\n\r\n\t\t\tif (!that.isOnReachBottomFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.page++;\r\n\t\t\tthat.loadMoreStatus = 'loading';\r\n\t\t\tthat.getSearchGoodsListFn(list => {\r\n\t\t\t\tif (list.length <= 0) {\r\n\t\t\t\t\tthat.loadMoreStatus = 'noMore';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.loadMoreStatus = 'more';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\thotBtnTxtFn(item) {\r\n\t\t\tthis.hisBtnTxtFn(item.name);\r\n\t\t},\r\n\t\thisBtnTxtFn(txt) {\r\n\t\t\tthis.searchKey = txt;\r\n\t\t\tthis.searchFn();\r\n\t\t},\r\n\t\tdelHistoryKeyFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '删除历史记录',\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tif (e.confirm) {\r\n\t\t\t\t\t\tuni.setStorageSync('homeSearchKeyList', '');\r\n\t\t\t\t\t\tthat.searchKeyList.splice(0, that.searchKeyList.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 处理购物车页面底部的猜你喜欢商品\r\n\t\tasync handleLikeGoodsFn() {\r\n\t\t\tlet that = this;\r\n\t\t\ttry {\r\n\t\t\t\tlet { result } = await that.getLikeGoodsFn();\r\n\t\t\t\tthat.likeGoodsTitle = result.likeGoodsTitle;\r\n\r\n\t\t\t\tlet likeGoodsList = result.likeGoodsList.map(item => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tgoodsId: item.goods_id, // 商品id\r\n\t\t\t\t\t\tgoodsImage: item.original_img, // 商品图片\r\n\t\t\t\t\t\tisHot: item.is_hot == 1, // 是否热销爆款\r\n\t\t\t\t\t\tisNew: item.is_new == 1, // 是否新品\r\n\t\t\t\t\t\tgoodsName: item.goods_name, // 商品名称\r\n\t\t\t\t\t\tgoodsDescription: item.goods_remark, // 商品描述\r\n\t\t\t\t\t\tgoodsTag: item.tag_name, // 商品标签文字\r\n\t\t\t\t\t\tisVipPrice: item.is_vip_price == 1, // 是否会员专享\r\n\t\t\t\t\t\tgoodsPrice: item.shop_price, // 商品价格\r\n\t\t\t\t\t\tvipPrice: item.vip_market_price, // 会员价\r\n\t\t\t\t\t\tlinePrice: item.vip_market_price, // 划线价\r\n\t\t\t\t\t\tselectedNum: item.selectedNum, // 已经添加到购物车的数量\r\n\t\t\t\t\t\tisSpec: item.is_guige == 1, // 商品是否多规格\r\n\t\t\t\t\t\ttagImg: item.topLeftTag, // 商品左上的图片标签\r\n\t\t\t\t\t\tgysMdId: transNumFn(item.supp_id), // 供应商门店id\r\n\t\t\t\t\t\tgysMdName: item.dp_name // 供应商门店名字\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthat.likeGoodsList = likeGoodsList;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: e.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// ↓↓↓ 多规格相关方法 --------------------------------------------------------\r\n\t\t// 设置规格框的显示隐藏\r\n\t\tsetGoodsSpec(bool) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isShowGoodsSpec = bool;\r\n\t\t\tif (!bool) {\r\n\t\t\t\tthat.goodsSpecSelectItemList = addSpecFilterItemActAttrFn(cloneFn(that.goodsSpecSelectItemList));\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 选择规格项 改变展示 状态\r\n\t\tsetSpecFilterItemActiveFn(arg) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { index, specFilterIndex } = arg;\r\n\r\n\t\t\tconsole.log('外部列表修改', index, specFilterIndex);\r\n\r\n\t\t\tlet goodsSpecSelectItemList = cloneFn(that.goodsSpecSelectItemList);\r\n\r\n\t\t\tgoodsSpecSelectItemList.forEach((item, inde) => {\r\n\t\t\t\tif (inde == index) {\r\n\t\t\t\t\titem.item.forEach((it, inx) => {\r\n\t\t\t\t\t\tif (inx == specFilterIndex) {\r\n\t\t\t\t\t\t\tit.active = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tit.active = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.goodsSpecSelectItemList = goodsSpecSelectItemList;\r\n\t\t}\r\n\t\t// ↑↑↑ 多规格相关方法 --------------------------------------------------------\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.uni-load-more {\r\n\tbackground: $bg-grey-color;\r\n}\r\n\r\n.search-block {\r\n\tposition: sticky;\r\n\tz-index: 20;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tbackground: #ffffff;\r\n\r\n\t.content-wrap {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\theight: 88rpx;\r\n\r\n\t\t.icon-search {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 42rpx;\r\n\t\t}\r\n\r\n\t\t.inp {\r\n\t\t\tflex: 1;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 0 1em 0 3em;\r\n\t\t\theight: 60rpx;\r\n\t\t\tline-height: 60rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: $grey2-color;\r\n\t\t\tbackground: #f7f7f7;\r\n\t\t}\r\n\r\n\t\t.text {\r\n\t\t\tmargin-left: 14rpx;\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tborder-radius: 10000px;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.push-msg {\r\n\t.title {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 28rpx;\r\n\t\tcolor: $grey1-color;\r\n\t\tline-height: 48rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n}\r\n\r\n.tag-list {\r\n\tfont-size: 0;\r\n\r\n\t.tag-box {\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: $grey1-color;\r\n\t\tbackground: #f7f7f7;\r\n\t\tpadding: 0.2em 0.6em;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 10rpx;\r\n\t}\r\n\r\n\t.hot-tag {\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tcolor: $red-color;\r\n\r\n\t\timage {\r\n\t\t\twidth: 24rpx;\r\n\t\t\theight: 30rpx;\r\n\t\t\tmargin-right: 0.2em;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.like-goods-list-bar {\r\n\tline-height: 88rpx;\r\n\ttext-align: center;\r\n\tfont-size: 30rpx;\r\n\tfont-weight: 600;\r\n\tcolor: $grey1-color;\r\n\tbackground: $bg-grey-color;\r\n\t.bar-title {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tpadding: 0 20rpx;\r\n\t\t.before-dom,\r\n\t\t.after-dom {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t}\r\n\t\t.icon-O {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\twidth: 7rpx;\r\n\t\t\theight: 7rpx;\r\n\t\t\tbackground: $grey1-color;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t\t.icon-I {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\twidth: 50rpx;\r\n\t\t\theight: 2rpx;\r\n\t\t}\r\n\r\n\t\t.before-dom {\r\n\t\t\tleft: 0;\r\n\t\t\ttransform: translateY(-50%) translateX(-100%);\r\n\t\t\t.icon-I {\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbackground: linear-gradient(90deg, rgba(0, 0, 0, 0), $grey1-color);\r\n\t\t\t}\r\n\t\t\t.icon-O {\r\n\t\t\t\tright: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.after-dom {\r\n\t\t\tright: 0;\r\n\t\t\ttransform: translateY(-50%) translateX(100%);\r\n\t\t\t.icon-I {\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbackground: linear-gradient(-90deg, rgba(0, 0, 0, 0), $grey1-color);\r\n\t\t\t}\r\n\t\t\t.icon-O {\r\n\t\t\t\tleft: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.like-goods-list {\r\n\tbackground: $bg-grey-color;\r\n\tfont-size: 0;\r\n\r\n\t.list-goods-item-div {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 19rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t&:nth-child(2n) {\r\n\t\t\tmargin-right: 0;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.bottom-shop-list {\r\n\tmin-height: 90vh;\r\n\tbackground: $bg-grey-color;\r\n\tpadding-top: 20rpx;\r\n\tmargin-bottom: -20rpx;\r\n\tfont-size: 0;\r\n\r\n\t.list-goods-item-div {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 19rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t&:nth-child(2n) {\r\n\t\t\tmargin-right: 0;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.nav-bar {\r\n\tposition: sticky;\r\n\tz-index: 20;\r\n\ttop: 88rpx;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tbackground: #ffffff;\r\n\r\n\t.nav-bar-block {\r\n\t\theight: 88rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\r\n\t\t.tag-block {\r\n\t\t\t@include flex-center;\r\n\t\t\tmargin-left: 55rpx;\r\n\t\t\twidth: 90rpx;\r\n\t\t\theight: 44rpx;\r\n\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t.deg180 {\r\n\t\t\t\ttransform: rotate(180deg);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=16c12a61&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=16c12a61&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502567213\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}