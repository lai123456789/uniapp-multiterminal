{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?133d","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?ffb1","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?ae83","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?6d11","uni-app:///packageA/everyday-buy/everyday-buy.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?1bab","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/everyday-buy/everyday-buy.vue?3176"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","listGoodsItemRows","data","screenShowNum","rightGoodsListScrollTop","rightGoodsListScroll","systemInfoWindowHeight","isShowLoading","leftSmallClassData","leftSmallClassActive","classPageGoodsList","rightGoodsListPage","loadMoreStatus","pageLoad","goodsLoading","isShowGoodsSpec","goodsSpecSelectItemList","goodsSpecRowsList","currentGoodsName","currentGoodsDescription","currentGoodsImages","currentGoodsId","currentGoodsSelectedNum","loginBoxFlag","onUnload","uni","onLoad","goodsId","that","item","onReady","onShow","currentGoods","console","result","showCancel","title","success","methods","getLeftMenuListDataFn","method","url","resultObject","leftMenuListData","id","leftMenuItemTitle","resFn","type","msg","getRightGoodsListDataFn","par","page","rightGoodsListData","goodsImage","isHot","isNew","goodsName","goodsDescription","isVipPrice","goodsPrice","vipPrice","linePrice","goodsTag","selectedNum","isSpec","tagImg","gysMdId","gysMdName","loadFn","icon","leftSmallClassClickFn","refreshFn","isShowFixedFn","scrolltolowerFn","bottomBtnClickToNextFn","setGoodsSpec","setSpecFilterItemActiveFn","specFilterIndex","it","rightContentStartFn","clientX","clientY","rightContentEndFn","setTimeout","selectAll","boundingClientRect","height","exec","computed","calcIsCanToNext","calcShowNextText","calcMainStyle"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAwuB,CAAgB,6vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4H5vB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA;AAAA;EAAA;IAAA;EAAA;AAAA;AAIA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;IACA;EACA;EAEAC;IACAC;EACA;EACAC;IACA;IACA;IACAD;IACAA;MACA;QAAAE;MACAC;QACA;UACAC;QACA;MACA;IACA;IACAD;EACA;EACAE;IACA;IACA;EACA;EACAC;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAH;IACA;IACAH;IACAA;MACAG;IACA;;IAEA;IACAH;IACAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAE;gBAEAK,wCACA;kBAAA;gBAAA,OACA;gBAEA;;AAEA;AACA;AACA;AACA;AACA;gBAEAJ;gBACAH;gBAEAQ;gBAEAL;gBACAA;gBACAA;;gBAEAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAM;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAN;gBACAH;kBACAU;kBAAA;kBACAC;kBACAC;oBACA;oBACAJ;kBACA;gBACA;gBAAA,iCACA;cAAA;gBAGAL;gBACAA;gBAEAK;gBAEAL;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;IAAA;EACA;EAEAU;IACA;IACAC;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAX;oBACAY;oBACAC;kBACA;gBAAA;kBAHAP;kBAKA;oBACA;sBACAQ;sBAEAC;wBACA;0BACAC;0BACAC;wBACA;sBACA;sBAEAC;wBACAC;wBACAC;wBACAd;sBACA;oBACA;sBACAY;wBACAC;wBACAC;wBACAd;sBACA;oBACA;kBACA;oBACAY;sBACAC;sBACAC;sBACAd;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAe;MAAA;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACArB;oBACAY;oBACAC;oBACAvC;sBACAgD;sBACAC;oBACA;kBACA;gBAAA;kBAPAjB;kBASA;oBACA;sBACAQ;sBAEAU;wBACA;wBACA;0BACAzB;0BAAA;0BACA0B;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;wBACA;sBACA;;sBAEArB;wBACAC;wBACAC;wBACAd;sBACA;oBACA;sBACAY;wBACAC;wBACAC;wBACAd;sBACA;oBACA;kBACA;oBACAY;sBACAC;sBACAC;sBACAd;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAkC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxC;gBACAA;gBACAA;gBACAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAe;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAf;gBACAgB;gBAAA;gBAAA,OACAhB;cAAA;gBAAAwB;gBAEA;kBACAxB;gBACA;kBACAK,YACA,iFACAmB,mBACA;kBACA3B;oBACA4C;oBACAjC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAH,YACA,qEACAU,iBACA;gBACAlB;kBACA4C;kBACAjC;gBACA;cAAA;gBAGAR;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA0C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA1C;gBACAA;gBACAA;gBACAA;gBACAA;gBAAA;gBAAA,OAEAA,6BACAA,uDACAA,wBACA;cAAA;gBAHAwB;gBAIA;kBACAxB;gBACA;kBACAK,YACA,iFACAmB,mBACA;kBAEA3B;oBACA4C;oBACAjC;kBACA;gBACA;gBACAR;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA2C;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA7C;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;cAAA;gBAAA,MAGAA,sCACAA,sCACAA;kBAAA;kBAAA;gBAAA;gBAAA,kCAEA;cAAA;gBAGAA;gBAEAA;gBAEAgB;gBAAA;gBAAA,OAEAhB;cAAA;gBAAAwB;gBAEA;kBACA;oBACAxB;oBAEAA;kBACA;oBACAA;oBACA;sBACAA;oBACA;oBACAA;kBACA;gBACA;kBACAK,YACA,iFACAmB,mBACA;kBACA3B;oBACA4C;oBACAjC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAsC;MACA;MACA;QACA9C;QACA;QACAA;QACAA;MACA;IACA;IAEA;IAEA;IACA+C;MACA;MACA/C;MACA;QACAA;MACA;IACA;IACA;IACAgD;MACA;MACA;QAAAC;MAEA5C;MAEA;MAEAjB;QACA;UACAa;YACA;cACAiD;YACA;cACAA;YACA;UACA;QACA;MACA;MACAlD;IACA;IACA;IACAmD;MACAC;MACAC;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;UACAjD;UAEA;YACAL;YACA;YACAA;YACAA;UACA;;UAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;QAGA;UACAK;UACA;;UAEAA,yDAEAL,qEACAA,yEACAA,4EACAA,4CAEA;UAEA;YACA;cACAA;cACA;YACA;YACA,IACAA,sCACAA,sCACAA,8BACA;cACAA;cACA;YACA;YAEA;cACA;;cAEAuD;gBACA1D,0BACA2D,kCACAC;kBACA;kBACA;oBACAzD;kBACA;kBACAK,wDAEAqD,yEACA1D,qGACAA,iEAEA;gBACA,GACA2D;cACA;YACA;UACA;QACA;MACA;QACA;UACAtD;QACA;UACAA;QACA;UACAA;QACA;MACA;IACA;EACA;EACA;EACAuD;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC,yCAWA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClpBA;AAAA;AAAA;AAAA;AAAm5C,CAAgB,g3CAAG,EAAC,C;;;;;;;;;;;ACAv6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"packageA/everyday-buy/everyday-buy.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './packageA/everyday-buy/everyday-buy.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./everyday-buy.vue?vue&type=template&id=4a584fae&scoped=true&\"\nvar renderjs\nimport script from \"./everyday-buy.vue?vue&type=script&lang=js&\"\nexport * from \"./everyday-buy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./everyday-buy.vue?vue&type=style&index=0&id=4a584fae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a584fae\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"packageA/everyday-buy/everyday-buy.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./everyday-buy.vue?vue&type=template&id=4a584fae&scoped=true&\"","var components\ntry {\n  components = {\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./everyday-buy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./everyday-buy.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"class-page-root\" :style=\"{ height: `${systemInfoWindowHeight}px` }\" @touchmove.stop=\"catchTouchMove\">\r\n\t\t<loading-css :is-show=\"isShowLoading\"></loading-css>\r\n\t\t<!-- main 主体 部分 -->\r\n\t\t<view class=\"main\" @click.stop=\"catchTouchMove\" :style=\"calcMainStyle\" @touchmove.stop=\"catchTouchMove\">\r\n\t\t\t<scroll-view :scroll-y=\"true\" class=\"left-menu-list\">\r\n\t\t\t\t<!-- :style=\"{ 'padding-bottom': isiPhoneX ? '71px' : '56px' }\" -->\r\n\t\t\t\t<view\r\n\t\t\t\t\tv-for=\"(item, index) in leftSmallClassData\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"menu-btn-link\"\r\n\t\t\t\t\t:class=\"[index == leftSmallClassActive ? 'act' : '']\"\r\n\t\t\t\t\t@click=\"leftSmallClassClickFn(item, index)\"\r\n\t\t\t\t\t:style=\"{ color: index == leftSmallClassActive ? configInfo.web_site_color : '#374050' }\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"after\" :style=\"{ background: configInfo.web_site_color }\"></view>\r\n\t\t\t\t\t{{ item.leftMenuItemTitle }}\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<scroll-view\r\n\t\t\t\t:scroll-y=\"true\"\r\n\t\t\t\tclass=\"right-content-block\"\r\n\t\t\t\t@scroll=\"isShowFixedFn\"\r\n\t\t\t\t@scrolltolower=\"scrolltolowerFn\"\r\n\t\t\t\t@touchstart=\"rightContentStartFn\"\r\n\t\t\t\t@touchend=\"rightContentEndFn\"\r\n\t\t\t>\r\n\t\t\t\t<!-- :style=\"{ 'padding-bottom': isiPhoneX ? '71px' : '56px' }\" -->\r\n\t\t\t\t<view class=\"loading-wrap\" v-if=\"goodsLoading\">\r\n\t\t\t\t\t<view class=\"loading-block\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"loading-item loading-item1\"\r\n\t\t\t\t\t\t\t:style=\"{ borderColor: `${configInfo.web_site_color} transparent transparent transparent` }\"\r\n\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"loading-item loading-item2\"\r\n\t\t\t\t\t\t\t:style=\"{ borderColor: `${configInfo.web_site_color} transparent transparent transparent` }\"\r\n\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"loading-item loading-item3\"\r\n\t\t\t\t\t\t\t:style=\"{ borderColor: `${configInfo.web_site_color} transparent transparent transparent` }\"\r\n\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"loading-item loading-item4\"\r\n\t\t\t\t\t\t\t:style=\"{ borderColor: `${configInfo.web_site_color} transparent transparent transparent` }\"\r\n\t\t\t\t\t\t></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<block v-if=\"!goodsLoading\">\r\n\t\t\t\t\t<list-goods-item-rows\r\n\t\t\t\t\t\tv-for=\"(goodsItem, index) in classPageGoodsList\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:goods-id=\"goodsItem.goodsId\"\r\n\t\t\t\t\t\t:goods-image=\"goodsItem.goodsImage\"\r\n\t\t\t\t\t\t:is-hot=\"goodsItem.isHot\"\r\n\t\t\t\t\t\t:is-new=\"goodsItem.isNew\"\r\n\t\t\t\t\t\t:goods-name=\"goodsItem.goodsName\"\r\n\t\t\t\t\t\t:goods-description=\"goodsItem.goodsDescription\"\r\n\t\t\t\t\t\t:goods-tag=\"goodsItem.goodsTag\"\r\n\t\t\t\t\t\t:is-vip-price=\"goodsItem.isVipPrice\"\r\n\t\t\t\t\t\t:goods-price=\"goodsItem.goodsPrice\"\r\n\t\t\t\t\t\t:vip-price=\"goodsItem.vipPrice\"\r\n\t\t\t\t\t\t:line-price=\"goodsItem.linePrice\"\r\n\t\t\t\t\t\t:selected-num=\"goodsItem.selectedNum\"\r\n\t\t\t\t\t\t:is-spec=\"goodsItem.isSpec\"\r\n\t\t\t\t\t\t:tag-img=\"goodsItem.tagImg\"\r\n\t\t\t\t\t\t:gysMdId=\"goodsItem.gysMdId\"\r\n\t\t\t\t\t\t:gysMdName=\"goodsItem.gysMdName\"\r\n\t\t\t\t\t></list-goods-item-rows>\r\n\r\n\t\t\t\t\t<null-block\r\n\t\t\t\t\t\tv-if=\"classPageGoodsList.length == 0\"\r\n\t\t\t\t\t\t:text=\"calcIsCanToNext ? `上划 查看分类${calcShowNextText}` : '空空如也~'\"\r\n\t\t\t\t\t\tmin-height=\"460rpx\"\r\n\t\t\t\t\t\t:image-size=\"{ width: '570rpx', height: '300rpx' }\"\r\n\t\t\t\t\t></null-block>\r\n\r\n\t\t\t\t\t<view class=\"uni-load-more\" v-if=\"classPageGoodsList.length >= 6\">\r\n\t\t\t\t\t\t<uni-load-more v-if=\"loadMoreStatus != 'noMore'\" :status=\"loadMoreStatus\"></uni-load-more>\r\n\t\t\t\t\t\t<view v-else class=\"to-next-tips\">\r\n\t\t\t\t\t\t\t{{ calcIsCanToNext ? `上划 查看分类${calcShowNextText}` : '没有更多数据了' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<block\r\n\t\t\t\t\t\tv-if=\"classPageGoodsList.length < 6 && classPageGoodsList.length > 0 && rightGoodsListPage == 1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view v-if=\"calcIsCanToNext\" class=\"to-next-tips\">\r\n\t\t\t\t\t\t\t{{ calcIsCanToNext ? `上划 查看分类${calcShowNextText}` : '没有更多数据了' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t<view class=\"item\" style=\"opacity: 0;\"></view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</block>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 登录框组件 -->\r\n\t\t<login-fn\r\n\t\t\t:is-show-login=\"loginBoxFlag\"\r\n\t\t\t@loginSuccessCallback=\"refreshFn\"\r\n\t\t\t@close=\"closeGlobalLoginFn\"\r\n\t\t></login-fn>\r\n\r\n\t\t<goods-spec\r\n\t\t\t:is-show=\"isShowGoodsSpec\"\r\n\t\t\t:goods-spec-rows-list=\"goodsSpecRowsList\"\r\n\t\t\t:goods-spec-select-item-list=\"goodsSpecSelectItemList\"\r\n\t\t\t:goods-name=\"currentGoodsName\"\r\n\t\t\t:goods-description=\"currentGoodsDescription\"\r\n\t\t\t:goods-images=\"currentGoodsImages\"\r\n\t\t\t:goods-id=\"currentGoodsId\"\r\n\t\t\t:selected-num=\"currentGoodsSelectedNum\"\r\n\t\t\t@setGoodsSpec=\"setGoodsSpec\"\r\n\t\t\t@setSpecFilterItemActiveFn=\"setSpecFilterItemActiveFn\"\r\n\t\t></goods-spec>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n// 工具库 相关\r\nimport { assertObject, assertArray, cloneFn, addSpecFilterItemActAttrFn, transNumFn } from '@/tools/tools';\r\nimport { success, error } from '@/tools/const.js';\r\nimport listGoodsItemRows from '@/df-components/global-components/list-goods-item-row-class-page.vue';\r\nlet clientX, clientY;\r\nexport default {\r\n\tcomponents: {\r\n\t\tlistGoodsItemRows\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tscreenShowNum: 8, // 一屏可以展示8个商品\r\n\t\t\trightGoodsListScrollTop: 0, // 顶部距离\r\n\t\t\trightGoodsListScroll: 0, // 右边的商品列表滑动的距离\r\n\r\n\t\t\tsystemInfoWindowHeight: 0, // 当前可用空间的屏幕高度 (不算浏览器搜索栏 不算公众号顶部title 不算小程序顶部那块)\r\n\r\n\t\t\tisShowLoading: true, // 开屏动画\r\n\r\n\t\t\tleftSmallClassData: [], // 左侧的小分类数据\r\n\r\n\t\t\tleftSmallClassActive: 0, // 左侧的小分类数据索引\r\n\r\n\t\t\tclassPageGoodsList: [], // 商品列表\r\n\t\t\trightGoodsListPage: 1, // 右侧的商品分页索引\r\n\r\n\t\t\tloadMoreStatus: 'more', // 底部状态\r\n\t\t\tpageLoad: 0, // 页面加载次数\r\n\r\n\t\t\tgoodsLoading: true, // 是否在加载商品中 控制右边loading显示隐藏状态\r\n\r\n\t\t\t// ↓↓↓ 多规格相关数据 --------------------------------------------------------\r\n\t\t\tisShowGoodsSpec: false, // 是否显示多规格弹框\r\n\t\t\tgoodsSpecSelectItemList: [{}], // 多规格项\r\n\t\t\tgoodsSpecRowsList: {}, // 多规格 笛卡尔积项对应的 商品 信息\r\n\t\t\tcurrentGoodsName: '', // 当前弹窗多规格的商品名字\r\n\t\t\tcurrentGoodsDescription: '', // 当前弹窗多规格的商品描述\r\n\t\t\tcurrentGoodsImages: '', // 当前弹窗多规格的商品图片\r\n\t\t\tcurrentGoodsId: '', // 当前弹窗多规格的商品id\r\n\t\t\tcurrentGoodsSelectedNum: '', // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\t\t\t// ↑↑↑ 多规格相关数据 --------------------------------------------------------\r\n\t\t\tloginBoxFlag: false // 登录框显示隐藏状态\r\n\t\t};\r\n\t},\r\n\r\n\tonUnload() {\r\n\t\tuni.$off('goodsAddCartEd_everydayBuy');\r\n\t},\r\n\tonLoad() {\r\n\t\tlet that = this;\r\n\t\t// 加入购物车成功后\r\n\t\tuni.$off('goodsAddCartEd_everydayBuy');\r\n\t\tuni.$on('goodsAddCartEd_everydayBuy', arg => {\r\n\t\t\tlet { selectedNum, goodsId } = arg;\r\n\t\t\tthat.classPageGoodsList.forEach(item => {\r\n\t\t\t\tif (item.goodsId == goodsId) {\r\n\t\t\t\t\titem.selectedNum = selectedNum;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthat.loadFn();\r\n\t},\r\n\tonReady() {\r\n\t\tlet systemInfo = uni.getSystemInfoSync();\r\n\t\tthis.systemInfoWindowHeight = systemInfo.windowHeight;\r\n\t},\r\n\tonShow() {\r\n\t\tlet that = this;\r\n\t\t/*\r\n\t\tlet str = `\r\n\t\t\tsystemInfo.screenHeight: ${systemInfo.screenHeight}\r\n\t\t\tsystemInfo.screenWidth: ${systemInfo.screenWidth}\r\n\t\t\tsystemInfo.windowWidth: ${systemInfo.windowWidth}\r\n\t\t\tsystemInfo.windowHeight: ${systemInfo.windowHeight}\r\n\t\t\tsystemInfo.windowTop: ${systemInfo.windowTop}\r\n\t\t\tsystemInfo.windowBottom: ${systemInfo.windowBottom}\r\n\t\t`;\r\n\t\tconsole.log(str);\r\n\t\tthat.str = str;\r\n\t\t*/\r\n\t\tthat.pageLoad++;\r\n\t\t// 监听登录框\r\n\t\tuni.$off('setLoginBoxFlag');\r\n\t\tuni.$on('setLoginBoxFlag', loginBoxFlag => {\r\n\t\t\tthat.loginBoxFlag = loginBoxFlag;\r\n\t\t});\r\n\r\n\t\t// 监听多规格弹框事件\r\n\t\tuni.$off('popSpecBlock');\r\n\t\tuni.$on('popSpecBlock', async arg => {\r\n\t\t\tlet { goodsId, page } = arg;\r\n\r\n\t\t\tlet currentGoods = assertObject(\r\n\t\t\t\tassertArray(that.classPageGoodsList.filter(item => item.goodsId == goodsId))[0]\r\n\t\t\t);\r\n\r\n\t\t\t/*\r\n\r\n\t\t\tif (goodsId == that.currentGoodsId) {\r\n\t\t\t\tthat.currentGoodsSelectedNum = currentGoods.selectedNum; // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\t\t\t\tthat.isShowGoodsSpec = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tthat.currentGoodsId = goodsId;\r\n\t\t\tuni.showLoading({});\r\n\r\n\t\t\tconsole.log('当前点击商品的信息currentGoods', currentGoods);\r\n\r\n\t\t\tthat.currentGoodsName = currentGoods.goodsName; // 当前弹窗多规格的商品名字\r\n\t\t\tthat.currentGoodsDescription = currentGoods.goodsDescription; // 当前弹窗多规格的商品描述\r\n\t\t\tthat.currentGoodsImages = currentGoods.goodsImage; // 当前弹窗多规格的商品图片\r\n\r\n\t\t\tthat.currentGoodsSelectedNum = currentGoods.selectedNum; // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\r\n\t\t\tlet result = await that.getSpecInfoFn(that.currentGoodsId);\r\n\t\t\tif (result.type != 'success') {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\ttitle: result.msg,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthat.goodsSpecSelectItemList = result.result.goodsSpecSelectItemList;\r\n\t\t\tthat.goodsSpecRowsList = result.result.goodsSpecRowsList;\r\n\r\n\t\t\tconsole.log(`${that.currentGoodsId} 商品的规格信息`, result);\r\n\r\n\t\t\tthat.isShowGoodsSpec = true;\r\n\t\t\tthat.hideAllFn();\r\n\t\t});\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t// 获取左侧分类数据\r\n\t\tgetLeftMenuListDataFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/User/flOftenbuy'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data);\r\n\r\n\t\t\t\t\t\tlet leftMenuListData = assertArray(resultObject.list).map(item => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\tleftMenuItemTitle: item.name\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: success,\r\n\t\t\t\t\t\t\tmsg: '获取左侧分类数据成功',\r\n\t\t\t\t\t\t\tresult: leftMenuListData\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: error,\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: error,\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取右侧分类数据\r\n\t\tgetRightGoodsListDataFn(id, page = 1) {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/User/goodsOftenbuy',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpar: id,\r\n\t\t\t\t\t\tpage: page\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data);\r\n\r\n\t\t\t\t\t\tlet rightGoodsListData = assertArray(resultObject.list).map(item => {\r\n\t\t\t\t\t\t\t// 商品列表\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tgoodsId: item.goods_id, // 商品id\r\n\t\t\t\t\t\t\t\tgoodsImage: item.image, // 商品图片\r\n\t\t\t\t\t\t\t\tisHot: item.is_hot == 1, // 是否热销爆款\r\n\t\t\t\t\t\t\t\tisNew: item.is_new == 1, // 是否新品\r\n\t\t\t\t\t\t\t\tgoodsName: item.goods_name, // 商品名字\r\n\t\t\t\t\t\t\t\tgoodsDescription: item.goods_remark, // 商品描述\r\n\t\t\t\t\t\t\t\tisVipPrice: item.is_vip_price == 1, // 是否会员专享\r\n\t\t\t\t\t\t\t\tgoodsPrice: item.shop_price, // 商品价格\r\n\t\t\t\t\t\t\t\tvipPrice: item.vip_market_price, // vip专享价\r\n\t\t\t\t\t\t\t\tlinePrice: item.vip_market_price, // 划线价\r\n\t\t\t\t\t\t\t\tgoodsTag: item.activity, // 商品标签\r\n\t\t\t\t\t\t\t\tselectedNum: item.selectedNum, // 加入到购物车里的数量\r\n\t\t\t\t\t\t\t\tisSpec: item.is_guige == 1, // 商品是否多规格\r\n\t\t\t\t\t\t\t\ttagImg: item.top_left_tag_img, // 商品左上的图片标签\r\n\t\t\t\t\t\t\t\tgysMdId: transNumFn(item.supp_id), // 供应商门店id\r\n\t\t\t\t\t\t\t\tgysMdName: item.dp_name // 供应商门店名字\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: success,\r\n\t\t\t\t\t\t\tmsg: '获取当前分类商品数据成功',\r\n\t\t\t\t\t\t\tresult: rightGoodsListData\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: error,\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: error,\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 页面 load 执行\r\n\t\tasync loadFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.leftSmallClassActive = 0; // 左侧的小分类数据索引\r\n\t\t\tthat.rightGoodsListPage = 1; // 右侧的商品分页索引\r\n\t\t\tthat.goodsLoading = true;\r\n\r\n\t\t\tlet leftMenuListData = await that.getLeftMenuListDataFn();\r\n\t\t\tif (leftMenuListData.type == success) {\r\n\t\t\t\tthat.leftSmallClassData = leftMenuListData.result;\r\n\t\t\t\tlet { id } = that.leftSmallClassData[that.leftSmallClassActive];\r\n\t\t\t\tlet rightGoodsListData = await that.getRightGoodsListDataFn(id, that.rightGoodsListPage);\r\n\r\n\t\t\t\tif (rightGoodsListData.type == success) {\r\n\t\t\t\t\tthat.classPageGoodsList = rightGoodsListData.result; // 商品列表\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'that.getRightGoodsListDataFn 函数 根据分类id获取当前分类下商品 /api/User/goodsOftenbuy 接口 报错',\r\n\t\t\t\t\t\trightGoodsListData\r\n\t\t\t\t\t);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: rightGoodsListData.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t'that.getLeftMenuListDataFn 函数 获取左侧分类数据 /api/User/flOftenbuy 接口 报错',\r\n\t\t\t\t\tleftMenuListData\r\n\t\t\t\t);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: leftMenuListData.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthat.isShowLoading = false;\r\n\t\t\tthat.goodsLoading = false;\r\n\t\t},\r\n\r\n\t\t// 点击左侧的小分类\r\n\t\tasync leftSmallClassClickFn(item, index) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.leftSmallClassActive = index;\r\n\t\t\tthat.rightGoodsListPage = 1;\r\n\t\t\tthat.goodsLoading = true;\r\n\t\t\tthat.loadMoreStatus = 'more'; // 底部状态\r\n\r\n\t\t\tlet rightGoodsListData = await that.getRightGoodsListDataFn(\r\n\t\t\t\tthat.leftSmallClassData[that.leftSmallClassActive].id,\r\n\t\t\t\tthat.rightGoodsListPage\r\n\t\t\t);\r\n\t\t\tif (rightGoodsListData.type == success) {\r\n\t\t\t\tthat.classPageGoodsList = rightGoodsListData.result; // 商品列表\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t'that.getRightGoodsListDataFn 函数 根据分类id获取当前分类下商品 /api/User/goodsOftenbuy 接口 报错',\r\n\t\t\t\t\trightGoodsListData\r\n\t\t\t\t);\r\n\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: rightGoodsListData.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.goodsLoading = false;\r\n\t\t},\r\n\t\t// 重新登录后刷新页面\r\n\t\trefreshFn() {\r\n\t\t\tthis.loadFn();\r\n\t\t},\r\n\t\t// 记录当前商品列表滑动距离\r\n\t\tisShowFixedFn(e) {\r\n\t\t\tthis.rightGoodsListScroll = e.target.scrollHeight - e.target.scrollTop;\r\n\t\t\tthis.rightGoodsListScrollTop = e.target.scrollTop;\r\n\t\t},\r\n\r\n\t\t// 触底事件 onReachBottom 加载更多数据\r\n\t\tasync scrolltolowerFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.loadMoreStatus == 'noMore') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tthat.classPageGoodsList.length < 6 &&\r\n\t\t\t\tthat.classPageGoodsList.length > 0 &&\r\n\t\t\t\tthat.rightGoodsListPage == 1\r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthat.rightGoodsListPage++;\r\n\r\n\t\t\tthat.loadMoreStatus = 'loading';\r\n\r\n\t\t\tlet { id } = that.leftSmallClassData[that.leftSmallClassActive];\r\n\r\n\t\t\tlet rightGoodsListData = await that.getRightGoodsListDataFn(id, that.rightGoodsListPage);\r\n\r\n\t\t\tif (rightGoodsListData.type == success) {\r\n\t\t\t\tif (rightGoodsListData.result.length) {\r\n\t\t\t\t\tthat.loadMoreStatus = 'more';\r\n\r\n\t\t\t\t\tthat.classPageGoodsList = that.classPageGoodsList.concat(rightGoodsListData.result); // 商品列表\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.rightGoodsListPage--;\r\n\t\t\t\t\tif (that.rightGoodsListPage <= 1) {\r\n\t\t\t\t\t\tthat.rightGoodsListPage = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.loadMoreStatus = 'noMore';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t'that.getRightGoodsListDataFn 函数 根据分类id获取当前分类下商品 /api/User/goodsOftenbuy 接口 报错',\r\n\t\t\t\t\trightGoodsListData\r\n\t\t\t\t);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: rightGoodsListData.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 右边商品列表 底部按钮点击 进入下一个分类\r\n\t\tbottomBtnClickToNextFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.calcIsCanToNext) {\r\n\t\t\t\tthat.leftSmallClassActive++;\r\n\t\t\t\tlet item = that.leftSmallClassData[that.leftSmallClassActive];\r\n\t\t\t\tthat.leftSmallClassClickFn(item, that.leftSmallClassActive);\r\n\t\t\t\tthat.loadMoreStatus = 'more';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// ↓↓↓ 多规格相关方法 --------------------------------------------------------\r\n\r\n\t\t// 设置规格框的显示隐藏\r\n\t\tsetGoodsSpec(bool) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isShowGoodsSpec = bool;\r\n\t\t\tif (!bool) {\r\n\t\t\t\tthat.goodsSpecSelectItemList = addSpecFilterItemActAttrFn(cloneFn(that.goodsSpecSelectItemList));\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 选择规格项 改变展示 状态\r\n\t\tsetSpecFilterItemActiveFn(arg) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { index, specFilterIndex } = arg;\r\n\r\n\t\t\tconsole.log('外部列表修改', index, specFilterIndex);\r\n\r\n\t\t\tlet goodsSpecSelectItemList = cloneFn(that.goodsSpecSelectItemList);\r\n\r\n\t\t\tgoodsSpecSelectItemList.forEach((item, inde) => {\r\n\t\t\t\tif (inde == index) {\r\n\t\t\t\t\titem.item.forEach((it, inx) => {\r\n\t\t\t\t\t\tif (inx == specFilterIndex) {\r\n\t\t\t\t\t\t\tit.active = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tit.active = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.goodsSpecSelectItemList = goodsSpecSelectItemList;\r\n\t\t},\r\n\t\t// ↑↑↑ 多规格相关方法 --------------------------------------------------------\r\n\t\trightContentStartFn(e) {\r\n\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t},\r\n\t\trightContentEndFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tconst subX = e.changedTouches[0].clientX - clientX;\r\n\t\t\tconst subY = e.changedTouches[0].clientY - clientY;\r\n\t\t\tif (subY > 50 || subY < -50) {\r\n\t\t\t\tif (subY > 50) {\r\n\t\t\t\t\tconsole.log('下滑');\r\n\r\n\t\t\t\t\tif (that.rightGoodsListScrollTop <= 0 && that.leftSmallClassActive > 0) {\r\n\t\t\t\t\t\tthat.leftSmallClassActive--;\r\n\t\t\t\t\t\tlet item = that.leftSmallClassData[that.leftSmallClassActive];\r\n\t\t\t\t\t\tthat.leftSmallClassClickFn(item, that.leftSmallClassActive);\r\n\t\t\t\t\t\tthat.loadMoreStatus = 'more';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t.selectAll('.right-content-block')\r\n\t\t\t\t\t\t.boundingClientRect(rect => {\r\n\t\t\t\t\t\t\tlet height = transNumFn(assertObject(assertArray(rect)[0]).height);\r\n\t\t\t\t\t\t\tif (that.rightGoodsListScroll - height < 0) {\r\n\t\t\t\t\t\t\t\tthat.bottomBtnClickToNextFn();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.exec();\r\n\r\n\t\t\t\t\t\t */\r\n\t\t\t\t} else if (subY < -50) {\r\n\t\t\t\t\tconsole.log('上滑');\r\n\t\t\t\t\t// 处理上划操作\r\n\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t\tthat.loadMoreStatus: ${that.loadMoreStatus},\r\n\t\t\t\t\t\tthat.calcIsCanToNext: ${that.calcIsCanToNext},\r\n\t\t\t\t\t\tthat.classPageGoodsList: ${that.classPageGoodsList},\r\n\t\t\t\t\t\tthat.rightGoodsListPage: ${that.rightGoodsListPage},\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (that.calcIsCanToNext) {\r\n\t\t\t\t\t\tif (that.classPageGoodsList.length <= 0) {\r\n\t\t\t\t\t\t\tthat.bottomBtnClickToNextFn();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tthat.classPageGoodsList.length < 6 &&\r\n\t\t\t\t\t\t\tthat.classPageGoodsList.length > 0 &&\r\n\t\t\t\t\t\t\tthat.rightGoodsListPage == 1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tthat.bottomBtnClickToNextFn();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (that.loadMoreStatus == 'noMore') {\r\n\t\t\t\t\t\t\t// 判断到底部才执行\r\n\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t\t\t\t.selectAll('.right-content-block')\r\n\t\t\t\t\t\t\t\t\t.boundingClientRect(rect => {\r\n\t\t\t\t\t\t\t\t\t\tlet height = transNumFn(assertObject(assertArray(rect)[0]).height) + 1;\r\n\t\t\t\t\t\t\t\t\t\tif (that.rightGoodsListScroll - height <= 5) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.bottomBtnClickToNextFn();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: ${height},\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.rightGoodsListScroll: ${that.rightGoodsListScroll},\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.rightGoodsListScroll - height: ${that.rightGoodsListScroll - height},\r\n\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.exec();\r\n\t\t\t\t\t\t\t}, 80);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (subX > 100) {\r\n\t\t\t\t\tconsole.log('右滑');\r\n\t\t\t\t} else if (subX < -100) {\r\n\t\t\t\t\tconsole.log('左滑');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('无效');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// ↑↑↑↑↑ methods 结束\r\n\tcomputed: {\r\n\t\t/*\r\n\t\t  @description 是否可以再次下滑动作\r\n\t\t  @return <Boolean>\r\n\t\t\ttrue可以下滑\r\n\t\t\tfalse已经是最后一个了不能再下滑\r\n\t\t*/\r\n\t\tcalcIsCanToNext() {\r\n\t\t\treturn this.leftSmallClassData.length - 1 > this.leftSmallClassActive;\r\n\t\t},\r\n\t\t// 根据当前分类的索引 返回显示 下一分类名称还是 没有更多数据了\r\n\t\tcalcShowNextText() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.calcIsCanToNext) {\r\n\t\t\t\treturn `“${that.leftSmallClassData[that.leftSmallClassActive + 1].leftMenuItemTitle}”`;\r\n\t\t\t}\r\n\t\t\treturn '没有更多数据了';\r\n\t\t},\r\n\r\n\t\t// 根据当前平台来返回main的样式\r\n\t\tcalcMainStyle() {\r\n\t\t\t// #ifdef MP-WEIXIN || APP-PLUS\r\n\t\t\treturn `height: 100vh;`;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (this.globalBrowserIsWx) {\r\n\t\t\t\treturn `height: 100vh;`;\r\n\t\t\t} else {\r\n\t\t\t\treturn `height: ${this.systemInfoWindowHeight}px`;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.class-page-root {\r\n\tposition: relative;\r\n\twidth: 100vw;\r\n\tbackground: $bg-grey-color;\r\n\r\n\t.main {\r\n\t\tdisplay: flex;\r\n\t\tposition: absolute;\r\n\t\tz-index: 5;\r\n\t\ttop: 0;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-top: 1px solid #efefef;\r\n\t\t.left-menu-list {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\twidth: 181rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tborder-right: 1px solid #efefef;\r\n\r\n\t\t\t& ::-webkit-scrollbar {\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tcolor: transparent;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t.menu-btn-link {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t.after {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.act {\r\n\t\t\t\t\t.after {\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\t\twidth: 4rpx;\r\n\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.right-content-block {\r\n\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tcolor: transparent;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\t\t\twidth: 569rpx;\r\n\t\t\t// padding-bottom: 96rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.loading-wrap {\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 100;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground-color: #ffffff;\r\n\t\t\t\t.loading-block {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\twidth: 80px;\r\n\t\t\t\t\theight: 80px;\r\n\t\t\t\t\ttransform: scale(0.5);\r\n\r\n\t\t\t\t\t@keyframes lds-ring {\r\n\t\t\t\t\t\t0% {\r\n\t\t\t\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.loading-item {\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\twidth: 64px;\r\n\t\t\t\t\t\theight: 64px;\r\n\t\t\t\t\t\tmargin: 8px;\r\n\t\t\t\t\t\tborder: 8px solid red;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tanimation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n\t\t\t\t\t\tborder-color: #fff transparent transparent transparent;\r\n\t\t\t\t\t\t&1 {\r\n\t\t\t\t\t\t\tanimation-delay: -0.45s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&2 {\r\n\t\t\t\t\t\t\tanimation-delay: -0.3s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&3 {\r\n\t\t\t\t\t\t\tanimation-delay: -0.15s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.to-next-tips {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tcolor: #777777;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./everyday-buy.vue?vue&type=style&index=0&id=4a584fae&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./everyday-buy.vue?vue&type=style&index=0&id=4a584fae&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502567184\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}