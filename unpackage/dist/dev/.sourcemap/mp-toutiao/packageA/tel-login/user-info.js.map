{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?d5d1","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?e1db","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?4e8f","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?ef03","uni-app:///packageA/tel-login/user-info.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?8667","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/packageA/tel-login/user-info.vue?575c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isShowLoading","avatar","nickname","mobile","wechat","bindTelModalFlag","changeNameModalFlag","newNameStr","changeAvatarFlag","serverUrl","intervalTime","sendIng","bindTelStr","showTimeStr","sendCodeCont","codeStr","onUnload","clearInterval","onLoad","that","uni","computed","calcText","methods","bindWxFn","icon","title","userProfileObject","avatarUrl","nickName","province","city","gender","success","console","code","iv","encryptedData","platform","area","sex","loading","method","url","header","result","fail","commitFn","path","commitObj","filePath","name","token","formData","setTimeout","file","wxBindTelEndFn","bindTelFn","captcha","countDownFn","timer","sendCodeFn","event","uploadImgFn","count","setBindTelModalFlagFn","setNameModalFlagFn","userinfoPageGetFn","dataObj","resultObj","userInfoObj","closeGetTelModalFn"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAquB,CAAgB,0vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACuIzvB;AACA;AAAA;AAAA;AACA;AAAA,eACA;EACAC;IACA;MACA;MACAC;MAEA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MAEA;MACAC;MACA;MACAC;MACA;MACAC;MAEA;MACAC;MACA;MACAC;MAEA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;IACAC;IACAC;IACAA;MACAD;IACA;EACA;EACAE;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;EACA;EACAC;IAmBA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAL;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBACAC;kBACAK;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAAA;gBAAA,OAWAP;cAAA;gBAAAQ;gBAAA,MAIAA;kBAAA;kBAAA;gBAAA;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBAAA;gBAAA;cAAA;gBAEAZ;kBACAK;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAGAN;kBACAa;oBACAC;oBAEAd;sBACA;sBACAa;wBAAA;0BAAA;0BAAA;4BAAA;8BAAA;gCAAA;kCACAC;kCACA;kCAEAC;kCACAC;kCACAC;kCAEAtC;oCACAuC;oCACAH;oCACAC;oCACAC;oCACApC;oCACAC;oCACAqC;oCACAC;kCACA;kCACAN;kCAAA;kCAAA,OAGAf;oCACAsB;oCACAC;oCACAC;oCACA5C;oCACA6C;sCACA;oCACA;kCACA;gCAAA;kCARAC;kCASAX;kCAEA;oCACA;sCACAf;sCACAC;wCACAK;wCACAC;sCACA;oCACA;sCACAN;wCACAK;wCACAC;sCACA;oCACA;kCACA;oCACAN;sCACAK;sCACAC;oCACA;kCACA;gCAAA;gCAAA;kCAAA;8BAAA;4BAAA;0BAAA;wBAAA;sBACA;sBACAoB;wBACAZ;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAa;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA5B;gBACA6B;gBACAL;gBAEAM;kBACA;kBACA/C;gBACA;gBAAA,KAEAiB;kBAAA;kBAAA;gBAAA;gBACAC;kBACAuB;kBACAO;kBACAC;kBACAP;oBACAQ;kBACA;kBACAC,4BACAJ,UACA;kBACAhB;oBACAC;oBACA;oBACAd;sBACAK;sBACAC;oBACA;oBAEA4B;sBACAnC;oBACA;kBACA;kBACA2B;oBACAZ;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEAf;kBACAuB;kBACAC;kBACA5C;oBACAG;oBACAqD;kBACA;gBACA;cAAA;gBAPAV;gBAQA;gBACA;kBACA;oBACAzB;sBACAK;sBACAC;oBACA;oBACA4B;sBACAnC;oBACA;kBACA;oBACAC;sBACAK;sBACAC;oBACA;kBACA;gBACA;kBACAN;oBACAK;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACA8B;MACA;MACA;QACA;UACArC;QACA;UACAC;YACAK;YACAC;UACA;QACA;MACA;QACAN;UACAK;UACAC;QACA;MACA;IACA;IACA;IACA+B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtC;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAC;kBACAK;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAN;kBACAK;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAAA;gBAAA,OAEAP;kBACAuB;kBACAC;kBACA5C;oBACAI;oBACAuD;kBACA;gBACA;cAAA;gBAPAb;gBAQA;gBACA;kBACA;oBACAzB;sBACAK;sBACAC;oBACA;oBACAP;oBACAA;oBACAA;oBACAF;oBACAE;oBACAA;kBACA;oBACAC;sBACAK;sBACAC;oBACA;kBACA;gBACA;kBACAN;oBACAK;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAiC;MACA;MACAxC;MACAF;MACA2C;QACAzC;QACA;UACAA;UACAF;QACA;MACA;IACA;IACA;IACA4C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA1C;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAC;kBACAK;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAAA,KAEAP;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;cAAA;gBAAA;gBAAA,OAEAA;kBACAuB;kBACAC;kBACA5C;oBACAI;oBACA2D;kBACA;gBACA;cAAA;gBAPAjB;gBAQA;gBACA;kBACA;oBACAzB;sBACAK;sBACAC;oBACA;oBACAP;oBACAA;oBACAA;kBACA;oBACAC;sBACAK;sBACAC;oBACA;kBACA;gBACA;kBACAN;oBACAK;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAqC;MACA;MACA7B;MACAd;QACA4C;QACA/B;UAAA;YAAA;cAAA;gBAAA;kBAAA;oBACAd;oBACAA;oBACAA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA;QACA;QACA2B;UACAZ;QACA;MACA;IACA;IACA;IACA+B;MACA;MACA;QACA9C;QACAA;MACA;MACA;QACAA;QAEA;MACA;MACAA;IACA;IACA;IACA+C;MACA;MACA;QACA/C;MACA;QACA;UACAA;QACA;QACAA;MACA;MACAA;IACA;IACA;IACAgD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAhD;gBACAA;gBAEAiD;gBAAA;gBAAA,OAiBAjD;kBACAuB;kBACAC;kBACA5C;gBACA;cAAA;gBAJA8C;gBAKA;gBACA;kBACA;oBACAwB;oBACAC,wDAEA;oBACAnD;oBACA;oBACAA;oBACA;oBACAA;oBACA;oBACAA;kBACA;oBACAC;sBACAK;sBACAC;oBACA;kBACA;gBACA;kBACAN;oBACAK;oBACAC;kBACA;gBACA;gBACAP;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAoD;MACA;MACApD;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvnBA;AAAA;AAAA;AAAA;AAAg5C,CAAgB,62CAAG,EAAC,C;;;;;;;;;;;ACAp6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"packageA/tel-login/user-info.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './packageA/tel-login/user-info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user-info.vue?vue&type=template&id=785459d2&scoped=true&\"\nvar renderjs\nimport script from \"./user-info.vue?vue&type=script&lang=js&\"\nexport * from \"./user-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user-info.vue?vue&type=style&index=0&id=785459d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"785459d2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"packageA/tel-login/user-info.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-info.vue?vue&type=template&id=785459d2&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-info.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"line-group\">\r\n\t\t\t<view class=\"line-item\" @click=\"uploadImgFn\">\r\n\t\t\t\t<view class=\"left-title-text\">头像</view>\r\n\t\t\t\t<view class=\"right-content\">\r\n\t\t\t\t\t<view class=\"content-block\">\r\n\t\t\t\t\t\t<view class=\"img-block\" @click.stop=\"lookBigImgFn([avatar])\">\r\n\t\t\t\t\t\t\t<image :src=\"avatar\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"more-icon\"><uni-icons type=\"arrowright\"></uni-icons></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"line-item\" @click=\"setBindTelModalFlagFn(true)\">\r\n\t\t\t\t<view class=\"left-title-text\">手机号</view>\r\n\t\t\t\t<view class=\"right-content\">\r\n\t\t\t\t\t<view class=\"content-block\">{{ mobile ? mobile : '未绑定' }}</view>\r\n\t\t\t\t\t<view class=\"more-icon\"><uni-icons type=\"arrowright\"></uni-icons></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"line-item\" @click=\"setNameModalFlagFn(true)\">\r\n\t\t\t\t<view class=\"left-title-text\">昵称</view>\r\n\t\t\t\t<view class=\"right-content\">\r\n\t\t\t\t\t<view class=\"content-block\">{{ nickname }}</view>\r\n\t\t\t\t\t<view class=\"more-icon\"><uni-icons type=\"arrowright\"></uni-icons></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"wechat\" class=\"line-item\" @click=\"bindWxFn\" style=\"background: #ffffff;\">\r\n\t\t\t\t<view class=\"left-title-text\">绑定微信</view>\r\n\t\t\t\t<view class=\"right-content\">\r\n\t\t\t\t\t<view class=\"content-block\">{{ wechat ? '已绑定' : '未绑定' }}</view>\r\n\t\t\t\t\t<view class=\"more-icon\"><uni-icons type=\"arrowright\"></uni-icons></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<button\r\n\t\t\t\tv-if=\"!wechat\"\r\n\t\t\t\topen-type=\"getUserInfo\"\r\n\t\t\t\tclass=\"line-item\"\r\n\t\t\t\t@click=\"bindWxFn\"\r\n\t\t\t\tstyle=\"background: #ffffff; border-radius: 0;\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"left-title-text\">绑定微信</view>\r\n\t\t\t\t<view class=\"right-content\">\r\n\t\t\t\t\t<view class=\"content-block\">{{ wechat ? '已绑定' : '未绑定' }}</view>\r\n\t\t\t\t\t<view class=\"more-icon\"><uni-icons type=\"arrowright\"></uni-icons></view>\r\n\t\t\t\t</view>\r\n\t\t\t</button>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"commit-block\">\r\n\t\t\t<view\r\n\t\t\t\tclass=\"commit-btn flex-center\"\r\n\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t\t@click=\"commitFn\"\r\n\t\t\t>\r\n\t\t\t\t提交修改\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex-center modal-class\" v-if=\"bindTelModalFlag\">\r\n\t\t\t<view class=\"modal-box\">\r\n\t\t\t\t<view class=\"title\">{{ mobile ? '修改手机号' : '绑定手机号' }}</view>\r\n\r\n\t\t\t\t<view class=\"input-group\" v-if=\"calcIsOpenSMFlag\">\r\n\t\t\t\t\t<view class=\"input-item border-radius\">\r\n\t\t\t\t\t\t<input class=\"input-dom\" type=\"text\" placeholder=\"请输入手机号\" v-model=\"bindTelStr\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"input-item border-radius\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"input-dom\"\r\n\t\t\t\t\t\t\tstyle=\"padding-right: 2em;\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"请输入验证码\"\r\n\t\t\t\t\t\t\tv-model=\"codeStr\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<view class=\"get-code-btn\" @click=\"sendCodeFn\">{{ calcText }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn-group\">\r\n\t\t\t\t\t<view v-if=\"calcIsOpenSMFlag\" class=\"sm-bind-btn border-radius flex-center\" @click=\"bindTelFn\">\r\n\t\t\t\t\t\t{{ mobile ? '修改手机号' : '绑定手机号' }}\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\topen-type=\"getPhoneNumber\"\r\n\t\t\t\t\t\t@getphonenumber=\"wxGetTelFn\"\r\n\t\t\t\t\t\tclass=\"clear-btn-style wx-bind-btn border-radius flex-center \"\r\n\t\t\t\t\t\tstyle=\"display: flex;border-radius: 1000px;\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"icon-block\" style=\"margin: 0 .2em;\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"weixin\" color=\"#ffffff\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text\">微信一键绑定</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"clear-btn-style wx-bind-btn border-radius flex-center \"\r\n\t\t\t\t\t\tstyle=\"display: flex;border-radius: 1000px;\"\r\n\t\t\t\t\t\t@click=\"getPhoneOneClick\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"text\">获取本机手机号</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"clone-btn\" @click=\"setBindTelModalFlagFn(false)\">\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"30\" color=\"#ffffff\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex-center modal-class\" v-if=\"changeNameModalFlag\">\r\n\t\t\t<view class=\"modal-box\">\r\n\t\t\t\t<view class=\"title\">修改昵称</view>\r\n\t\t\t\t<view class=\"input-group\">\r\n\t\t\t\t\t<view class=\"input-item border-radius\">\r\n\t\t\t\t\t\t<input class=\"input-dom\" type=\"text\" placeholder=\"请输入新昵称\" v-model=\"newNameStr\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"clone-btn\" @click=\"setNameModalFlagFn(false)\">\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"30\" color=\"#ffffff\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<loading-css :is-show=\"isShowLoading\"></loading-css>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { assertObject, assertString, checkAvatarPath, en2ch } from '@/tools/tools.js';\r\nimport { host } from '@/tools/siteinfo';\r\nlet timer;\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 开屏动画\r\n\t\t\tisShowLoading: true,\r\n\r\n\t\t\t// 头像地址\r\n\t\t\tavatar: '',\r\n\t\t\t// 用户名\r\n\t\t\tnickname: '',\r\n\t\t\t// 手机号\r\n\t\t\tmobile: '',\r\n\t\t\t// 是否绑定过微信\r\n\t\t\twechat: '',\r\n\r\n\t\t\t// 绑定手机号的模态框\r\n\t\t\tbindTelModalFlag: false,\r\n\t\t\t// 修改名字的模态框\r\n\t\t\tchangeNameModalFlag: false,\r\n\t\t\t// 新修改的名字\r\n\t\t\tnewNameStr: '',\r\n\r\n\t\t\t// 是否修改过头像\r\n\t\t\tchangeAvatarFlag: false,\r\n\t\t\t// 给服务器的临时路径\r\n\t\t\tserverUrl: '',\r\n\r\n\t\t\t// 验证码倒计时 60秒 重新发送\r\n\t\t\tintervalTime: 60,\r\n\t\t\t// 是否在发送中\r\n\t\t\tsendIng: false,\r\n\t\t\t// 要绑定的手机号\r\n\t\t\tbindTelStr: '',\r\n\t\t\t// 显示在页面上的倒计时\r\n\t\t\tshowTimeStr: 0,\r\n\t\t\t// 发送验证码的次数\r\n\t\t\tsendCodeCont: 0,\r\n\t\t\t// 双向绑定的验证码 字符串\r\n\t\t\tcodeStr: ''\r\n\t\t};\r\n\t},\r\n\tonUnload() {\r\n\t\tclearInterval(timer);\r\n\t},\r\n\tonLoad() {\r\n\t\tlet that = this;\r\n\t\tthat.userinfoPageGetFn();\r\n\t\tuni.$off('wxBindTel');\r\n\t\tuni.$on('wxBindTel', result => {\r\n\t\t\tthat.wxBindTelEndFn(result);\r\n\t\t});\r\n\t},\r\n\tcomputed: {\r\n\t\t/*\r\n\t\t\t展示在页面上的 倒计时文字\r\n\t\t\t如果第一次发验证码 显示 '获取验证码'\r\n\t\t\t点击后 显示 '重新发送(59)' 重新发送+倒计时  (倒计时期间不能再次发送)\r\n\t\t\t可以再次发送 显示 重新发送\r\n\t\t*/\r\n\t\tcalcText() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.sendCodeCont == 0) {\r\n\t\t\t\treturn '获取验证码';\r\n\t\t\t}\r\n\t\t\tif (that.sendIng) {\r\n\t\t\t\treturn `重新发送(${that.showTimeStr})`;\r\n\t\t\t}\r\n\t\t\treturn '重新发送';\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// #ifdef APP-PLUS\r\n\t\tgetPhoneOneClick() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (plus.os.name == 'Android') {\r\n\t\t\t\tlet mainActivity = plus.android.runtimeMainActivity();\r\n\t\t\t\tlet Context = new plus.android.importClass('android.content.Context');\r\n\t\t\t\tlet TelephonyManager = new plus.android.importClass('android.telephony.TelephonyManager');\r\n\t\t\t\tlet tm = mainActivity.getSystemService(Context.TELEPHONY_SERVICE);\r\n\t\t\t\tlet number = tm.getLine1Number();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: '请验证并绑定'\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('获取到的手机号', number);\r\n\t\t\t\tthat.bindTelStr = number;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// 绑定微信\r\n\t\tasync bindWxFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.wechat) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '已绑定微信'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tuni.showModal({\r\n\t\t\t\tshowCancel: false,\r\n\t\t\t\ttitle: '请使用小程序或app绑定',\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t\t// #endif\r\n\r\n\t\t\tlet userProfileObject = await that.getUserProfileFn();\r\n\r\n\t\t\tlet avatarUrl, nickName, province, city, gender;\r\n\r\n\t\t\tif (userProfileObject.type == 'success') {\r\n\t\t\t\tavatarUrl = userProfileObject.result.avatarUrl;\r\n\t\t\t\tnickName = userProfileObject.result.nickName;\r\n\t\t\t\tprovince = userProfileObject.result.province;\r\n\t\t\t\tcity = userProfileObject.result.city;\r\n\t\t\t\tgender = userProfileObject.result.gender;\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '获取个人信息失败'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tuni.login({\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tconsole.log('先获取code那堆数据', e);\r\n\r\n\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t//获取用户信息\r\n\t\t\t\t\t\tasync success(userInfoRes) {\r\n\t\t\t\t\t\t\tconsole.log('uni.getUserInfo 成功的数据', userInfoRes, '\\n');\r\n\t\t\t\t\t\t\t//第一次提示用户授权 成功后的回调 授权后再点直接成功 拿回来用户信息\r\n\r\n\t\t\t\t\t\t\tlet code = e.code;\r\n\t\t\t\t\t\t\tlet iv = encodeURIComponent(userInfoRes.iv);\r\n\t\t\t\t\t\t\tlet encryptedData = encodeURIComponent(userInfoRes.encryptedData);\r\n\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tplatform: 'wechat_applet',\r\n\t\t\t\t\t\t\t\tcode,\r\n\t\t\t\t\t\t\t\tiv,\r\n\t\t\t\t\t\t\t\tencryptedData,\r\n\t\t\t\t\t\t\t\tavatar: avatarUrl,\r\n\t\t\t\t\t\t\t\tnickname: nickName,\r\n\t\t\t\t\t\t\t\tarea: `${en2ch(province)}-${en2ch(city)}`,\r\n\t\t\t\t\t\t\t\tsex: gender\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconsole.log('用户登录时带的参数', data);\r\n\r\n\r\n\t\t\t\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\t\turl: '/api/User/wechatBin',\r\n\t\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log('用户登录时带的参数', data, '\\n', '返回的结果', result, '\\n');\r\n\r\n\t\t\t\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\t\t\t\tthat.wechat = 1;\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\t\tconsole.log('登录失败 小程序 getUserInfo 接口fail ', e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提交信息\r\n\t\tasync commitFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet path = '/api/User/subUserinfo';\r\n\t\t\tlet url = `${host}${path}`;\r\n\r\n\t\t\tlet commitObj = {\r\n\t\t\t\t// 发给服务器的 json数据\r\n\t\t\t\tnickname: that.nickname\r\n\t\t\t};\r\n\r\n\t\t\tif (that.changeAvatarFlag) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tfilePath: that.serverUrl,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\ttoken: that.globalToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t...commitObj\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\tconsole.log(e, '成功', '\\n');\r\n\t\t\t\t\t\tlet res = JSON.parse(e.data);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: res.code == 200 ? 'success' : 'none',\r\n\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t\t\t}, 800);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(e, '失败', '\\n');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: path,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tnickname: that.nickname,\r\n\t\t\t\t\t\tfile: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//数据返回后 处理方式  处理数据\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t\t\t}, 800);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 通过 微信提供的 授权 获取到手机号之后\r\n\t\twxBindTelEndFn(result) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tthat.userinfoPageGetFn();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 点击 绑定手机号\r\n\t\tasync bindTelFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.regTel(that.bindTelStr)) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '号码格式错误'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (assertString(that.codeStr).length <= 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '请输入验证码'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: '/api/User/mobileBin',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tmobile: that.bindTelStr,\r\n\t\t\t\t\tcaptcha: that.codeStr\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//数据返回后 处理方式  处理数据\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.codeStr = '';\r\n\t\t\t\t\tthat.bindTelStr = '';\r\n\t\t\t\t\tthat.sendIng = false;\r\n\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\tthat.sendCodeCont = 0;\r\n\t\t\t\t\tthat.userinfoPageGetFn();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 倒计时开始\r\n\t\tcountDownFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.showTimeStr = that.intervalTime;\r\n\t\t\tclearInterval(timer);\r\n\t\t\ttimer = setInterval(() => {\r\n\t\t\t\tthat.showTimeStr--;\r\n\t\t\t\tif (that.showTimeStr <= 0) {\r\n\t\t\t\t\tthat.sendIng = false;\r\n\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t// 发送验证码函数\r\n\t\tasync sendCodeFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.regTel(that.bindTelStr)) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '号码格式错误'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (that.sendIng) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: '/api/Sms/sendCaptcha',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tmobile: that.bindTelStr,\r\n\t\t\t\t\tevent: 'binmobile'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//数据返回后 处理方式  处理数据\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.sendIng = true;\r\n\t\t\t\t\tthat.sendCodeCont++;\r\n\t\t\t\t\tthat.countDownFn();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 上传图片\r\n\t\tuploadImgFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tconsole.log('上传图片', '\\n');\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1,\r\n\t\t\t\tasync success(e) {\r\n\t\t\t\t\tthat.changeAvatarFlag = true;\r\n\t\t\t\t\tthat.avatar = e.tempFilePaths[0];\r\n\t\t\t\t\tthat.serverUrl = e.tempFiles[0].path;\r\n\t\t\t\t},\r\n\t\t\t\tfail(e) {\r\n\t\t\t\t\tconsole.log(e, '选择图片失败', '\\n');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 设置绑定手机号的模态框 显示 隐藏\r\n\t\tsetBindTelModalFlagFn(flag) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!flag) {\r\n\t\t\t\tthat.bindTelStr = '';\r\n\t\t\t\tthat.codeStr = '';\r\n\t\t\t}\r\n\t\t\tif (flag && that.mobile.length > 0) {\r\n\t\t\t\tthat.bindTelModalFlag = flag;\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.bindTelModalFlag = flag;\r\n\t\t},\r\n\t\t// 设置 新昵称的的模态框 显示 隐藏\r\n\t\tsetNameModalFlagFn(flag) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (flag) {\r\n\t\t\t\tthat.newNameStr = '';\r\n\t\t\t} else {\r\n\t\t\t\tif (that.strTrimFn(that.newNameStr).length > 0) {\r\n\t\t\t\t\tthat.nickname = that.newNameStr;\r\n\t\t\t\t}\r\n\t\t\t\tthat.newNameStr = '';\r\n\t\t\t}\r\n\t\t\tthat.changeNameModalFlag = flag;\r\n\t\t},\r\n\t\t// 获取 个人资料 页面 用户信息\r\n\t\tasync userinfoPageGetFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.bindTelModalFlag = false;\r\n\r\n\t\t\tlet dataObj = {};\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tdataObj.Platform = 'App';\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tdataObj.Platform = 'wxMiniProgram';\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (that.globalBrowserIsWx) {\r\n\t\t\t\tdataObj.Platform = 'wxOfficialAccount';\r\n\t\t\t} else {\r\n\t\t\t\tdataObj.Platform = 'H5';\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: `/api/User/getUserinfo`,\r\n\t\t\t\tdata: dataObj\r\n\t\t\t});\r\n\t\t\t//数据返回后 处理方式  处理数据\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\t\t\t\t\tlet userInfoObj = assertObject(resultObj.info);\r\n\r\n\t\t\t\t\t// 头像地址\r\n\t\t\t\t\tthat.avatar = checkAvatarPath(userInfoObj.avatar);\r\n\t\t\t\t\t// 用户名\r\n\t\t\t\t\tthat.nickname = userInfoObj.nickname;\r\n\t\t\t\t\t// 手机号\r\n\t\t\t\t\tthat.mobile = userInfoObj.mobile;\r\n\t\t\t\t\t// 是否绑定过微信\r\n\t\t\t\t\tthat.wechat = userInfoObj.wechat;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: result.data.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.isShowLoading = false;\r\n\t\t},\r\n\t\t// 关闭绑定手机号的 弹框\r\n\t\tcloseGetTelModalFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.showGetTelModal = false;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page {\r\n\tbackground: $bg-grey-color;\r\n\tmin-height: 100vh;\r\n\r\n\t.line-group {\r\n\t\tbackground: #ffffff;\r\n\t\t.line-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin: 0 30rpx;\r\n\t\t\tpadding: 14rpx 0;\r\n\t\t\tborder-top: 1px solid #eaeaea;\r\n\t\t\t&:first-child {\r\n\t\t\t\tborder-top: none;\r\n\t\t\t}\r\n\t\t\t.left-title-text {\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmin-height: 76rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #414959;\r\n\t\t\t}\r\n\t\t\t.right-content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t.content-block {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\tmargin-right: 0.5em;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #7f7f7f;\r\n\r\n\t\t\t\t\t.img-block {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\t\tborder-radius: 10px;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.more-icon {\r\n\t\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.red-price {\r\n\t\t\t\tcolor: $red-color;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.commit-block {\r\n\t\tpadding: 10vh 23rpx;\r\n\t\t.commit-btn {\r\n\t\t\theight: 84rpx;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #ffffff;\r\n\t\t}\r\n\t}\r\n\r\n\t.modal-class {\r\n\t\tposition: fixed;\r\n\t\tz-index: 20;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tbackground: rgba(148, 148, 148, 0.87);\r\n\t\t.modal-box {\r\n\t\t\tposition: relative;\r\n\t\t\tmargin: 0 38rpx;\r\n\t\t\tpadding: 0 40rpx 20rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tbackground: #ffffff;\r\n\t\t\t.title {\r\n\t\t\t\tline-height: 134rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t\t.input-group {\r\n\t\t\t\t.input-item {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\t\theight: 90rpx;\r\n\t\t\t\t\tbackground: #eeeeee;\r\n\t\t\t\t\t.input-dom {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.get-code-btn {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\twidth: 190rpx;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\t\t\twidth: 1px;\r\n\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t\tbackground: #afafaf;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.btn-group {\r\n\t\t\t\tpadding: 0 6rpx;\r\n\t\t\t\t.sm-bind-btn,\r\n\t\t\t\t.wx-bind-btn {\r\n\t\t\t\t\theight: 88rpx;\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.sm-bind-btn {\r\n\t\t\t\t\tbackground: #dfdfdf;\r\n\t\t\t\t}\r\n\t\t\t\t.wx-bind-btn {\r\n\t\t\t\t\tbackground: #89d151;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.clone-btn {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: -130rpx;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-info.vue?vue&type=style&index=0&id=785459d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-info.vue?vue&type=style&index=0&id=785459d2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502581398\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}