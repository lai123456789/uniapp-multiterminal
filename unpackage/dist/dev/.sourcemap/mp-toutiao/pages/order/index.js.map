{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?9677","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?f449","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?23d8","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?18a6","uni-app:///pages/order/index.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?7a84","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/order/index.vue?a710"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","youhuiquan","vipCard","myPickerComp","peiType","userAddress","zitidianShow","duozitiModal","zitidianShowSeller","data","isShowLoading","payTypeyve","payTypeWxxcx","payTypeWxapp","payTypeZfbapp","payTypeWxgzh","payTypeH5wx","payTypeH5zfb","payTypeEnumObj","peiTypeShangjia","peiTypeZiti","peiTypeKuaidi","peiTypeDada","peiTypeShansong","peiTypeDuozitidian","peiTypeEnumObj","peiTypeArr","peiTypeActive","postFeeData","cartPageGoodsList","selectGoods","invalidGoods","addressIsSet","addressUserName","addressUserTel","addressText","addressTagName","addressId","addressCoordinate","addressArea","sellerImage","sellerName","sellerMobile","sellerOpenTime","sellerAddress","freePost","postFee","postage","freePostage","postTime","peisongTimeLater","quehuo","price","yve","previousInputUserName","previousInputUserPhone","quehuoIsOpen","quehuoCurr","payFlag","couponJSON","coupon","goods_coupon","coupon_user_id","good_coupon_id","couponCount","goodsCouponCount","isShowCouponModal","isShowGoodsCouponModal","textarea","beizhuInputFlag","defaultStatus","shouhuoren","haoma","temObj","pageCont","templateId","getOrderInfoLastTime","errorMsg","isHas","msg","qvZhiFuBtnFlag","qiToTime","qiOffTime","isOpenyvyueFun","yvyueDays","hoursArr","newToDayHourArr","newHours","newMinutes","daysIndex","hoursIndex","cancelIndexDays","cancelIndexhours","isTomorrowStr","pickerSelectHour","vipOptionCardIsSelect","vipOptionCardIsOpen","vipOptionCardId","vipOptionCardName","vipOptionCardTagBgColor","vipOptionCardTagIconImg","vipOptionCardTagText","vipOptionCardTagTextColor","vipOptionCardTipBgColor","vipOptionCardTipText","vipOptionCardTipTextColor","vipOptionCardTime","vipOptionCardPrice","localhostLon","localhostLat","zitidianList","zitidianActive","duozitiModalFlag","onLoad","that","console","uni","onShow","icon","title","methods","setDefaultPayTypeFn","setBeizhuInputFlagFn","setPayFlagFn","getChaiFenFn","url","result","resObj","resultObj","addressObj","isSet","addressHousenumber","sellerInfo","isPreparePeisong","prepareDays","userName","userPhone","resFn","type","getNewHoursFn","loadFn","chaifen","chaifenResult","startEndTimeArr","newToDayTime","newToDayTimeStr","textStr","toHoursBefore","offHoursBefore","zitidianIsAllNotRange","getOrderInfoFn","id","num","cartId","opt","loading","from","prom_type","cart_id","post_type","Platform","is_send_immediately","peisong_time","vip_id","priceInfo","goods","filter","map","item","i","invalidGoodsList","goodsCoupon","result_prepay_dada","setTimeout","showCancel","success","vipOptionCard","fn","setPeiTypeIndexFn","calcPeiTypeId","quehuoItemFn","openCouponModalFn","selectCouponFn","closeCouponModalFn","notUseCoupon_cloneFn","setCouponFn","openGoodsCouponModalFn","selectGoodsCouponFn","selectGood_coupon_id","closeGoodsCouponModalFn","notUseGoodsCoupon_cloneFn","setGoodsCouponFn","switchChangeFn","getTemplateId","tmplIds","fail","rejFn","getDaDadeliveryNoFn","totalWeight","addressJSON","user_area","user_address","address_jingweidu","user_name","user_phone","ord_bh","ord_price","address","weight","DaDadeliveryNoResult","deliveryNo","fee","payFn","userInfoObj","dada_shansongObj","Math","getDaDadeliveryNoResult","checkRangeResult","dingDanJine","shiFuJine","balance_price","pay_price","pay_type","isSendImmediately","peisongTime","newDate","objs","address_id","comment","method","goodsId","selectedNum","selectVipOptionCardFn","pickerViewChangeFn","pickerViewClickFn","pickerViewCancelFn","pickerViewColumnchangeFn","value","isTomorrowStrFn","setduozitiModalFlagFn","selectZitiFn","checkUseYve","computed","calcPostFee","calcShowtextarea","mianpeisong","miankuaidi","couponMsg","goodsCouponMsg","price_hy_yh","price_goods_spyh","price_sfje","hejiPrice","isShowAddress","currentzitidianInfo","checkIsMustAddress"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvIA;AAAA;AAAA;AAAA;AAAiuB,CAAgB,svBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACmrBrvB;AAsBA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAEA;AAAA,eACA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MACAC;MAEAC;MAAA;;MAEA;MACAC;MACA;MACAC;MACA;MACAC;MAEA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MAAA;MACAC;MAAA;;MAEAC;MACAC;MAEAC;MAEAC;MACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAEA;MACAC;MAEA;MACAC;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACA;MACAC;MAEA;MACAC;MAEA;MACAC;MACAC;MACAC;MAAA;MACAC;QACA;QACAC;QACAC;MACA;MAEAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACAC;IAGAA;IAEA;IACA;IACAA;IACAC;IACAD;IACAE;;IAEA;IACA;IACAF;IACAA;IACAE;IACA;AACA;AACA;AACA;AACA;EACA;EACAC;IACA;IACAD;IACAA;IACA;IACA;IACA;MACAF;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;;MAEA,IACAA,mEACAA,qEACA;QACA;QACAA;UACAE;YACAE;YACAC;UACA;QACA;MACA;MACAH;IACA;EACA;EACAI;IACA;IACAC;MACA;IAiCA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAV;oBACAW;kBACA;gBAAA;kBAFAC;kBAGA;oBACA;sBACA;sBACAC;sBACAC,wDAEA;sBACAC;sBACA;wBACAF;0BACAG;0BACA7F;0BAAA;0BACAJ;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAgG;0BAAA;0BACA7F;0BAAA;0BACAC;0BAAA;0BACAH;wBACA;sBACA;wBACA2F;0BACAG;wBACA;sBACA;;sBAEA;sBACA/E;sBACA4E;;sBAEA;sBACArG;wBAAA;sBAAA;sBAEAqG;;sBAEA;sBACAK;sBAEAL;wBACAlF;wBAAA;wBACAC;wBAAA;wBACAG;wBAAA;wBACAF;wBAAA;wBACAC;wBAAA;wBACAqF;wBAAA;wBACAC;wBAAA;wBACApF;wBAAA;;wBAEA;wBACAV;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;wBAAA;wBACAC;sBACA;sBACAS;sBACA0E;sBAAA,gBAEA;sBACAA;wBACA;wBACAQ;wBACAC;sBACA;sBAEAC;wBACAC;wBACA3D;wBACA+C;sBACA;oBACA;sBACAW;wBACAC;wBACAZ;wBACA/C;sBACA;oBACA;kBACA;oBACA0D;sBACAC;sBACAZ;sBACA/C;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA4D;MACA;MACA;MACAzB;MACAA;IACA;IACA;IACA0B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA1B;gBAAA;gBAAA,OACAA;cAAA;gBAAA2B;gBAAA;gBACA1B;gBAAA,MACA0B;kBAAA;kBAAA;gBAAA;gBACAC,gCACA;gBACA5B;;gBAEA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;;gBAEA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;;gBAEAA;gBACAA;gBACAA;gBACAA;gBACAA;;gBAEAA;gBACAA;gBACAA;;gBAEA;gBACA6B;gBACA7B;gBACAA;;gBAEAA;gBAEAA;gBAEA8B;gBAEAC,kHACAD,0BACA;gBAEA1D;gBAEA4B,uBACA5B,6BACAA,kBACA,CACA;kBACA4D,+FACAhC,gBACA,yGACAA,6BACA;kBACAiC;kBACAC;gBACA,EACA;;gBAEA;gBACAlC;;gBAEA;gBACAA;;gBAGAA;gBACAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAJ;gBACAK;gBACA;kBACAD;kBAEAmC;oBAAA;kBAAA;kBAEA;oBACAnC;sBAAA;oBAAA;kBACA;kBAEAA;gBACA;kBACAA;kBACAE;oBACAE;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAL;gBACAE;kBACAE;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA+B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApC,eACA;gBACAe;gBACA,IACAf,mEACAA,qEACA;kBACA;oBACAe;kBACA;oBACAA;kBACA;gBACA;gBAEApG;kBAAA;oBACA0H;oBACAC;kBACA;gBAAA;gBACAC;gBAYAC;kBACAC;kBACA9B;kBACApH,sCACAwH;oBACA2B;oBACAC;oBACAC;oBACAhG;oBACAD;oBACAkG;oBACAC;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;kBAAA;gBAEA;gBACAhD;gBAAA;gBAAA,OACAD;cAAA;gBAAAY;gBACAX;gBAEA;kBACA;oBACAa;oBAEAoC;oBACAC,kDAEA;oBACAlD;oBACArF,qCACAwI;sBAAA,2CACAD;wBAAA;sBAAA;wBAAA;0BAAA;0BACA;4BACA;0BACA;wBACA;sBAAA;wBAAA;sBAAA;wBAAA;sBAAA;oBACA,GACAE;sBAAA,4CACAF;wBAAA;sBAAA;wBAAA;0BAAA;0BACA;4BACA,uCACAG,OACAC;0BAEA;wBACA;sBAAA;wBAAA;sBAAA;wBAAA;sBAAA;oBACA;oBACAvD;oBACAC;oBAEAuD;oBACAvD;oBAEApF,sCACAuI;sBAAA,4CACAI;wBAAA;sBAAA;wBAAA;0BAAA;0BACA;4BACA;0BACA;wBACA;sBAAA;wBAAA;sBAAA;wBAAA;sBAAA;oBACA,GACAH;sBAAA,4CACAG;wBAAA;sBAAA;wBAAA;0BAAA;0BACA;4BACAF;4BACA,uCACAA,OACAC;0BAEA;wBACA;sBAAA;wBAAA;sBAAA;wBAAA;sBAAA;oBACA;oBACAvD;oBACAC;oBACAD;oBACA;oBACA;;oBAEA;oBACA;sBACAA;sBAEAtD,sCAEA;sBACA;wBACA;0BACAA;4BACA4G;4BACA;8BACAA;8BACAA;4BACA;0BACA;wBACA;sBACA;wBACAxG;wBACAJ;0BACA;4BACA4G;4BACAxG;4BACAkD;4BACAA;0BACA;4BACAsD;0BACA;wBACA;sBACA;sBACAtD;;sBAEA;oBACA;sBACAtD;sBAEA;wBACAA;0BACA4G;0BACA;4BACAA;4BACAA;0BACA;wBACA;sBACA;wBACA;0BACAxG;0BACAJ;4BACA;8BACA4G;8BACAxG;8BACAkD;8BACAA;4BACA;8BACAsD;4BACA;0BACA;wBACA;0BACAxG;0BACAkD;0BACAA;0BAEAtD;4BACA4G;0BACA;wBACA;0BACAtD;0BACAtD;4BACA;8BACA4G;4BACA;8BACAA;4BACA;0BACA;wBACA;sBACA;sBAEAtD;oBACA;;oBAEA;oBACA;sBACA;sBACAnD;sBAEA4G;sBAEAA;wBACAzD;0BACA;4BACArD;0BACA;wBACA;wBACAA;wBACAE;sBACA;sBAEAoD;sBAEAD;sBACAA;oBACA;;oBAEA;oBACA;;oBAEA;oBACAA;;oBAEA;oBACA;sBACA;sBAEA0D;sBACA;wBACA1D;wBACAA;wBACAA;wBACAA;wBAEAA;wBACAA;sBACA;wBACAA;wBACAA;wBACA2D;0BACAzD;0BAEAA;4BACA0D;4BAAA;4BACAvD;4BACAwD;8BACA;8BACA5D;4BACA;0BACA;;0BAEA;0BACA;0BACA;0BACA;wBACA;sBACA;oBACA;;oBAEA;sBACA;sBACAyD;sBACA;wBACA1D;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;sBACA;wBACAA;wBACAA;wBACA2D;0BACAzD;0BACAA;4BACA0D;4BAAA;4BACAvD;4BACAwD;8BACA;8BACA5D;4BACA;0BACA;;0BAEA;0BACA;0BACA;0BACA;wBACA;sBACA;oBACA;;oBAEA;oBACA6D;oBACA9D;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;;oBAEA;oBACA;sBACAvC,2DACA2F;wBACA;sBACA,GACAC;wBACA;sBACA;sBACArD;oBACA;oBAEA+D;oBAEA9D,YACAD,aACA,YACA,4BACAA,cACA,cACA,MACAA,oBACA,cACA,MACAA,eACA,UACA,KACA;oBACAA;oBACAC;kBACA;oBACAA;oBACAC;sBACA0D;sBAAA;sBACAvD;sBACAwD;wBACA;wBACA;sBAAA;oBAEA;kBACA;gBACA;kBACA3D;oBACA0D;oBAAA;oBACAvD;oBACAwD;sBACA;sBACA7D;oBACA;kBACA;gBACA;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAgE;MACA;MACAhE;MACAA;MACAA;MACAA;MACAA;MACAA;MAEAA;QACAE;UACAE;UACAC;QACA;;QAEA;;QAEAJ;UACA;UACAgE;UACA7H;UACAC;QACA;QAEA,IACA2D,0EACAA,8BACAA,+BACA,oBACA,eACAA,mEACAA,8BACAA,+BACA,oBACA,aACA;UACAA;UACAA;QACA;MACA;IACA;IAEA;IACAkE;MACA;MACAlE;MACAA;IACA;IACA;IACAmE;MACA;MACA;QACAzH;MACA;MACAsD;MACAA;IACA;IACA;IACAoE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACApE;QACA;UACAA;QACA;UACAA;QACA;MACA;;MAEA;MACA;MACAA;QACA;UACAlD;QACA;MACA;MACAkD;;MAEA;;MAEA;QACA;MACA;MACAC;MAEA;QACAD;MACA;QACAA;MACA;IACA;IAEA;IACAqE;MACA;MACA;QAAA3H;MACAsD;MACAA;IACA;IACA;IACAsE;MACA;MACAtE;MAEAA;QACAsD;MACA;MACAtD;IACA;IACA;IACAuE;MACA;MACAvE;MAEAA;IACA;IACA;IACAwE;MACA;MACA;QACA7H;MACA;MACAqD;MACAA;IACA;IAEA;IACAyE;MACA;MACA;MACAzE;;MAEA;MACA;QACA0E;MAEA1E;QACAC;QACA;UACAlD;UACA2H;QACA;MACA;MACA1E;MACA;QACAA;MACA;QACAA;MACA;MAEAC;IACA;IACA;IACA0E;MACA;MACA;QAAAhI;MACAqD;MACAA;IACA;IAEA;IACA4E;MACA;MACA5E;MACAA;QACAsD;MACA;MACAtD;IACA;IACA;IACA6E;MACA;MACA7E;MACA;MACAA;IACA;IAEA;IACA8E;MACA;MACA;QACA;MACA;QACA;QACA5E;UACAG;UACAD;QACA;MACA;IACA;IACA;IACA2E;MACA;MACA;QACA7E;UACA8E;UACAnB;YACA5D;YACAA;YACAsB;UACA;UACA0D;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBACArE;kBAAA,KAEAd;oBAAA;oBAAA;kBAAA;kBACAoF;kBACApF;oBACA;sBACAoF;kBACA;kBAEAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;kBACA;kBAAA;kBAAA,OAEA1F;oBACAW;oBACApH;sBACAoM;sBACAC;sBACAC;sBACAC;oBACA;kBACA;gBAAA;kBARAC;kBAUA;oBACA;sBACA9F;sBAEA;wBACAa;0BACAU;0BACAZ;4BACAoF;4BACAC;0BACA;0BACApI;wBACA;sBACA;wBACAiD;0BACAU;0BACAZ;0BACA/C;wBACA;sBACA;oBACA;sBACAiD;wBACAU;wBACAZ;wBACA/C;sBACA;oBACA;kBACA;oBACAiD;sBACAU;sBACAZ;sBACA/C;oBACA;kBACA;kBAAA;kBAAA;gBAAA;kBAEAiD;oBACAU;oBACAZ;oBACA/C;kBACA;gBAAA;kBAGA0D;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA2E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAlG;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;cAAA;gBAEAA;;gBAEA;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACA0D;kBAAA;kBACAvD;kBACAwD;oBACA;oBACA5D;kBACA;gBACA;gBACAD;gBAAA,kCACA;cAAA;gBAGA;gBACAmG,kBAEA;gBACAC,uBAEA;gBAAA,MAEApG,mEACAA;kBAAA;kBAAA;gBAAA;gBAAA,MAqBAA,mEACAqG;kBAAA;kBAAA;gBAAA;gBAEApG;gBAEAD;gBACAE;gBAAA;gBAAA,OAEAF;cAAA;gBAAAsG;gBAAA,MAGAA;kBAAA;kBAAA;gBAAA;gBACAtG;gBACAA;gBACAA;gBAAA;gBAAA;cAAA;gBAEAA;gBACAE;kBACAG;kBACAD;gBACA;gBACAJ;gBAAA,kCACA;cAAA;gBAAA,KAIAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACA0D;kBAAA;kBACAvD;kBACAwD;oBACA;oBACA5D;kBACA;gBACA;gBACAD;gBAAA,kCACA;cAAA;gBAEAoG;gBACAA;gBACAA;gBAAA;gBAAA;cAAA;gBAEAA;cAAA;gBAAA,MAIApG;kBAAA;kBAAA;gBAAA;gBAAA,IAEAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAE;kBACAC;gBACA;gBACAL;gBAAA,kCACA;cAAA;gBAAA,KAIAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAE;kBACAC;gBACA;gBACAL;gBAAA,kCACA;cAAA;gBAAA,MAOAA,mEACAA;kBAAA;kBAAA;gBAAA;gBAAA,MAEAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAG;kBACAD;gBACA;gBACAJ;gBAAA,kCACA;cAAA;gBAAA,IAGAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAG;kBACAD;gBACA;gBACAJ;gBAAA,kCACA;cAAA;gBAEAmG;gBACAA;cAAA;gBAAA,MAIAnG;kBAAA;kBAAA;gBAAA;gBACAE;kBACAE;kBACAC;gBACA;gBACAL;gBAAA,kCACA;cAAA;gBAAA,MAIAzF;kBAAA;kBAAA;gBAAA;gBACA0F;gBAAA;gBAAA,OACAD;cAAA;gBAAAuG;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACArG;kBACA0D;kBAAA;kBACAvD;kBACAwD;oBACA;oBACA5D;kBACA;gBACA;gBACAD;gBAAA,kCACA;cAAA;gBAUAwG;gBACAC;gBACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;gBAGA;gBACAb;;gBAEA;;gBAEA;kBACAc;kBACAC;kBACAC;gBACA;kBACAF;kBACAC;kBACAC;gBACA;gBAGA;kBACAhK;gBACA;kBACAA;gBACA;kBACAA;gBACA;;gBAQA;gBACAiK;kBACA;oBACA;oBACA;sBACA;oBACA;sBACA;wBACA;sBACA;wBACA;0BACA;wBACA;0BACA;wBACA;sBACA;oBACA;kBACA;oBACA;kBACA;gBACA,KAEA;gBACAC;kBACA;kBAEA;oBACA;oBACAC;oBACAA;kBACA;kBAEA;kBAEA;kBACA;;kBAEA;kBACA;gBACA;gBAEA5L;kBACA;oBACA;kBACA;oBACA;sBACA;oBACA;oBACA;kBACA;gBACA;gBA6FA6L,qDACAZ;kBACAxD,wBACA5C;oBAAA;sBACAqC;sBACAC;oBACA;kBAAA,GACA;kBACAK;kBACAD;kBACAuE;kBAEAhL;kBAEAiL;kBAEA;kBACAtB;kBAEA;kBACAe;kBAEA;kBACAD;kBAEAE;kBAEA/D;gBAAA,GAEAsD;kBAEAxJ;kBACAC;kBACAoG;kBACAD;kBACAE;gBAAA;gBAWAjD;gBACAE;gBAEAD;gBACA;AACA;AACA;AACA;AACA;gBAJA;gBAAA,OAKAD;kBACAmH;kBACAxG;kBACApH;gBACA;cAAA;gBAJAqH;gBAMAX;gBAEA;kBACA;oBACA;sBACAD;wBACAE;0BACAkH;0BACAC;wBACA;sBACA;sBAEApH;sBACAD;sBACAA;sBACAA;wBACAW;wBACAa;sBACA;oBACA;sBACAxB;sBACAE;wBACA0D;wBAAA;wBACAvD;wBACAwD;0BACA;0BACA5D;0BACAD;wBACA;sBACA;oBACA;kBACA;oBACAA;oBACAA;oBACAE;sBACA0D;sBAAA;sBACAvD;sBACAwD;wBACA;wBACA7D;sBACA;oBACA;kBACA;gBACA;kBACAA;kBAEAE;oBACAE;oBACAC;kBACA;gBACA;gBAEAL;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAsH;MACA;MACAtH;MACAA;MACAA;MACAA;IACA;IACA;IACAuH;MACA;MACA;QAAA/I;MACAwB;MACAA;IACA;IACAwH;MACA;MACAxH;MACAA;IACA;IACAyH;MACA;MACAzH;MACAA;IACA;IACA0H;MACA;MACA;QAAAC;MACA3H;IACA;IACA4H;MACA;MACA;QAAAhJ;MACAoB;MACAA;IACA;IACA;IACA;IACA6H;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MAEA;;MAEA;MACA;QACA;UACAnH;QACA;MACA;QACA;QACA;QACA;UACAP;QACA;UACA;UACA;YACAA;UACA;YACA;UAAA;QAeA;QACA;UACAO;UACA/C;QACA;MACA;IACA;EACA;EACA;EACAmK;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA/D;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAgE;MACA;MACA;QACA;MAAA,CACA;QACA;MAAA;MAEA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;YACA;UACA;YACA;cACA;YACA;YAEA;cACA;gBACA;cACA;gBACA;cACA;YACA;YACA;UACA;YACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;;MAEA;MACA;;MAEA;QACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MAEA,kFACApO,kGACAA,kGACAA,8FACAA,gGACAA,+FACAA,uEACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA4H;MACA;QAAA;MAAA;IACA;IACAyG;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA,sEACAtO,8FACAA,4FACAA,0FACAA,8FAEAA,2FACAA,mEACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjkFA;AAAA;AAAA;AAAA;AAA44C,CAAgB,y2CAAG,EAAC,C;;;;;;;;;;;ACAh6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca91b30\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.selectGoods.length >= 1\n      ? _vm.__map(_vm.selectGoods, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var f0 = _vm._f(\"filterSpecName\")(\n            item.isGuige ? item.keyName : item.goodsRemark\n          )\n          return {\n            $orig: $orig,\n            f0: f0,\n          }\n        })\n      : null\n  var l1 =\n    _vm.invalidGoods.length > 0\n      ? _vm.__map(_vm.invalidGoods, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var f1 = _vm._f(\"filterSpecName\")(\n            item.isGuige ? item.keyName : item.goodsRemark\n          )\n          return {\n            $orig: $orig,\n            f1: f1,\n          }\n        })\n      : null\n  var f2 =\n    _vm.price_hy_yh > 0 ? _vm._f(\"filterTransNum\")(_vm.price_hy_yh) : null\n  var f3 =\n    _vm.price_goods_spyh > 0\n      ? _vm._f(\"filterTransNum\")(_vm.price_goods_spyh)\n      : null\n  var f4 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    (_vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeShangjia] ||\n      _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeDuozitidian]) &&\n    _vm.mianpeisong &&\n    _vm.postFee > 0\n      ? _vm._f(\"filterTransNum\")(_vm.freePost)\n      : null\n  var f5 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    (_vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeShangjia] ||\n      _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeDuozitidian]) &&\n    !_vm.mianpeisong\n      ? _vm._f(\"filterTransNum\")(_vm.postFee)\n      : null\n  var f6 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeKuaidi] &&\n    _vm.miankuaidi &&\n    _vm.postage > 0\n      ? _vm._f(\"filterTransNum\")(_vm.freePostage)\n      : null\n  var f7 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeKuaidi] &&\n    !_vm.miankuaidi\n      ? _vm._f(\"filterTransNum\")(_vm.postage)\n      : null\n  var f8 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeDada] &&\n    !_vm.errorMsg.isHas\n      ? _vm._f(\"filterTransNum\")(_vm.postFeeData.fee)\n      : null\n  var f9 =\n    _vm.calcPeiTypeId != _vm.peiTypeEnumObj[_vm.peiTypeZiti] &&\n    _vm.calcPeiTypeId == _vm.peiTypeEnumObj[_vm.peiTypeShansong] &&\n    !_vm.errorMsg.isHas\n      ? _vm._f(\"filterTransNum\")(_vm.postFeeData.fee)\n      : null\n  var f10 = _vm._f(\"filterTransNum\")(_vm.price_sfje)\n  var f11 = _vm.yve > 0 ? _vm._f(\"filterTransNum\")(_vm.yve) : null\n  var f12 = _vm.yve == 0 ? _vm._f(\"filterTransNum\")(_vm.yve) : null\n  var f13 = _vm._f(\"filterTransNum\")(_vm.hejiPrice)\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.quehuoIsOpen = !_vm.quehuoIsOpen\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        f2: f2,\n        f3: f3,\n        f4: f4,\n        f5: f5,\n        f6: f6,\n        f7: f7,\n        f8: f8,\n        f9: f9,\n        f10: f10,\n        f11: f11,\n        f12: f12,\n        f13: f13,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<!-- this 移动到函数里版本 -->\r\n<template>\r\n\t<view class=\"page\">\r\n\t\t<loading-css :is-show=\"isShowLoading\"></loading-css>\r\n\r\n\t\t<!-- 选择 配送方式 组件 -->\r\n\t\t<pei-type\r\n\t\t\t:pei-type-arr=\"peiTypeArr\"\r\n\t\t\t:pei-type-active=\"peiTypeActive\"\r\n\t\t\t@setPeiTypeIndexFn=\"setPeiTypeIndexFn\"\r\n\t\t></pei-type>\r\n\t\t<!--\r\n\t\t\t到店自提 展示的数据\r\n\t\t-->\r\n\t\t<zitidian-show-seller\r\n\t\t\tv-if=\"calcPeiTypeId == peiTypeEnumObj[peiTypeZiti]\"\r\n\t\t\t:seller-image=\"sellerImage\"\r\n\t\t\t:seller-name=\"sellerName\"\r\n\t\t\t:seller-tel=\"sellerMobile\"\r\n\t\t\t:seller-open-time=\"sellerOpenTime\"\r\n\t\t\t:seller-address=\"sellerAddress\"\r\n\t\t></zitidian-show-seller>\r\n\r\n\t\t<!-- 展示用户地址组件 -->\r\n\t\t<user-address\r\n\t\t\t:is-show-address=\"isShowAddress\"\r\n\t\t\t:address-is-set=\"addressIsSet\"\r\n\t\t\t:address-user-name=\"addressUserName\"\r\n\t\t\t:address-user-tel=\"addressUserTel\"\r\n\t\t\t:address-text=\"addressText\"\r\n\t\t\t:address-tag-name=\"addressTagName\"\r\n\t\t></user-address>\r\n\r\n\t\t<!-- 展示在页面上的自提点 -->\r\n\t\t<zitidian-show\r\n\t\t\tv-if=\"calcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]\"\r\n\t\t\t:zitidian-info=\"currentzitidianInfo\"\r\n\t\t\t:zitidian-is-all-not-range=\"zitidianIsAllNotRange\"\r\n\t\t\t@openListModalFn=\"setduozitiModalFlagFn(true)\"\r\n\t\t></zitidian-show>\r\n\r\n\t\t<!-- 自提点列表的模态框组件 -->\r\n\t\t<duoziti-modal\r\n\t\t\t:is-show=\"duozitiModalFlag\"\r\n\t\t\t:zitidian-list=\"zitidianList\"\r\n\t\t\t@closeFn=\"setduozitiModalFlagFn(false)\"\r\n\t\t\t@selectZitiFn=\"selectZitiFn\"\r\n\t\t></duoziti-modal>\r\n\r\n\t\t<!-- 可以结算的 商品列表 -->\r\n\t\t<view class=\"goods-list-block\" v-if=\"selectGoods.length >= 1\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<!-- 预约配送组件 -->\r\n\t\t\t\t<my-picker-comp\r\n\t\t\t\t\t:calc-post-type=\"calcPeiTypeId\"\r\n\t\t\t\t\t:is-openyvyue-fun=\"isOpenyvyueFun\"\r\n\t\t\t\t\t:yvyue-days=\"yvyueDays\"\r\n\t\t\t\t\t:hours-arr=\"hoursArr\"\r\n\t\t\t\t\t:new-to-day-hour-arr=\"newToDayHourArr\"\r\n\t\t\t\t\t:days-index=\"daysIndex\"\r\n\t\t\t\t\t:hours-index=\"hoursIndex\"\r\n\t\t\t\t\t@pickerViewChangeFn=\"pickerViewChangeFn\"\r\n\t\t\t\t\t@pickerViewClickFn=\"pickerViewClickFn\"\r\n\t\t\t\t\t@pickerViewCancelFn=\"pickerViewCancelFn\"\r\n\t\t\t\t\t@pickerViewColumnchangeFn=\"pickerViewColumnchangeFn\"\r\n\t\t\t\t\t@isTomorrowStrFn=\"isTomorrowStrFn\"\r\n\t\t\t\t></my-picker-comp>\r\n\r\n\t\t\t\t<view class=\"goods-list\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(item, index) in selectGoods\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"item-image-block\"><image :src=\"item.originalImg\"></image></view>\r\n\t\t\t\t\t\t<view class=\"item-description-block\">\r\n\t\t\t\t\t\t\t<view class=\"item-name\">\r\n\t\t\t\t\t\t\t\t<text class=\"name-\">{{ item.goodsName }}</text>\r\n\t\t\t\t\t\t\t\t<text>¥{{ item.shopPrice }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-description\">\r\n\t\t\t\t\t\t\t\t<text class=\"description-\">\r\n\t\t\t\t\t\t\t\t\t{{ (item.isGuige ? item.keyName : item.goodsRemark) | filterSpecName }}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t<text>×{{ item.number }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"tag-wrap\" v-if=\"item.tagName\">\r\n\t\t\t\t\t\t\t\t<view class=\"tag-block\">{{ item.tagName }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"price-info-block\" v-if=\"item.sale_money > 0\">\r\n\t\t\t\t\t\t\t\t优惠金额:\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥{{ item.sale_money }}</text>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t优惠后:\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥{{ item.after_sale_money }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 不能结算的 商品列表 -->\r\n\t\t<view class=\"goods-list-block\" v-if=\"invalidGoods.length > 0\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<view class=\"title\"><div class=\"h3\">失效商品</div></view>\r\n\r\n\t\t\t\t<view class=\"goods-list\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(item, index) in invalidGoods\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"item-image-block\">\r\n\t\t\t\t\t\t\t<image style=\"opacity: .8;\" :src=\"item.originalImg\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-description-block\">\r\n\t\t\t\t\t\t\t<view class=\"item-name\">\r\n\t\t\t\t\t\t\t\t<text class=\"name-\">{{ item.goodsName }}</text>\r\n\t\t\t\t\t\t\t\t<text>¥{{ item.shopPrice }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"item-description\">\r\n\t\t\t\t\t\t\t\t<text class=\"description-\">\r\n\t\t\t\t\t\t\t\t\t{{ (item.isGuige ? item.keyName : item.goodsRemark) | filterSpecName }}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t<text>×{{ item.number }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"tag-wrap\" v-if=\"item.tagName\">\r\n\t\t\t\t\t\t\t\t<view class=\"tag-block\">{{ item.tagName }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"item-description errorText\" style=\"color: #ff6128\">{{ item.isShowText }}</view>\r\n\r\n\t\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t\t<view class=\"tag-wrap\" v-if=\"item.tag_name\">\r\n\t\t\t\t\t\t\t\t<view class=\"tag-block\">{{ item.tag_name }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"price-info-block\" v-if=\"item.sale_money > 0\">\r\n\t\t\t\t\t\t\t\t优惠金额:\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥{{ item.sale_money }}</text>\r\n\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t优惠后:\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥{{ item.after_sale_money }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 购物车传过来的 商品列表 -->\r\n\t\t<view class=\"goods-list-block\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<view class=\"goods-list order-info-line-wrap\">\r\n\t\t\t\t\t<view class=\"line-block\" v-if=\"price_hy_yh > 0\">\r\n\t\t\t\t\t\t<view class=\"h5\">会员优惠</view>\r\n\t\t\t\t\t\t<view class=\"h6 tip-red-text\">￥{{ price_hy_yh | filterTransNum }}</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"line-block\" v-if=\"price_goods_spyh > 0\">\r\n\t\t\t\t\t\t<view class=\"h5\">商品优惠</view>\r\n\t\t\t\t\t\t<view class=\"h6 tip-red-text\">￥{{ price_goods_spyh | filterTransNum }}</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 优惠券wxml -->\r\n\t\t\t\t\t<view class=\"line-block\" @click=\"openCouponModalFn\">\r\n\t\t\t\t\t\t<view class=\"h5\">优惠券</view>\r\n\t\t\t\t\t\t<view class=\"h6\">\r\n\t\t\t\t\t\t\t<text class=\"tip-red-text\">\r\n\t\t\t\t\t\t\t\t<block v-if=\"coupon.length <= 0\">(无可用优惠券)</block>\r\n\t\t\t\t\t\t\t\t<block v-else>{{ couponMsg }}</block>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t\t\t无可用 优惠券\r\n\t\t\t\t\t\t\t\t3张优惠券可用\r\n\t\t\t\t\t\t\t\t已减 ¥22.88\r\n\t\t\t\t\t\t\t -->\r\n\t\t\t\t\t\t\t<!-- <uni-icons size=\"13\" color=\"#374050\" type=\"arrowright\"></uni-icons> -->\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"iconfont icon-arrow-right-copy-copy\"\r\n\t\t\t\t\t\t\t\tcolor=\"#374050\"\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 16px;\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 商品券wxml -->\r\n\t\t\t\t\t<view class=\"line-block\" @click=\"openGoodsCouponModalFn\">\r\n\t\t\t\t\t\t<view class=\"h5\">商品券</view>\r\n\t\t\t\t\t\t<view class=\"h6\">\r\n\t\t\t\t\t\t\t<text class=\"tip-red-text\">\r\n\t\t\t\t\t\t\t\t<block v-if=\"goods_coupon.length == 0\">(无可用商品券)</block>\r\n\t\t\t\t\t\t\t\t<block v-else>{{ goodsCouponMsg }}</block>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"iconfont icon-arrow-right-copy-copy\"\r\n\t\t\t\t\t\t\t\tcolor=\"#374050\"\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 16px;\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"line-block\" v-if=\"calcPeiTypeId != peiTypeEnumObj[peiTypeZiti]\">\r\n\t\t\t\t\t\t<view class=\"h5\">\r\n\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeDada] ||\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeShansong] ||\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeShangjia] ||\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]\r\n\t\t\t\t\t\t\t\t\t? '配送费'\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t{{ calcPeiTypeId == peiTypeEnumObj[peiTypeKuaidi] ? '快递费' : '' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"h6\"\r\n\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeShangjia] ||\r\n\t\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<block v-if=\"mianpeisong\">\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥0.00</text>\r\n\t\t\t\t\t\t\t\t<block v-if=\"postFee > 0\">订单金额满{{ freePost | filterTransNum }}元</block>\r\n\t\t\t\t\t\t\t\t已免配送费\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>¥{{ postFee | filterTransNum }}</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"h6\" v-if=\"calcPeiTypeId == peiTypeEnumObj[peiTypeKuaidi]\">\r\n\t\t\t\t\t\t\t<block v-if=\"miankuaidi\">\r\n\t\t\t\t\t\t\t\t<text class=\"red-price\">¥0.00</text>\r\n\t\t\t\t\t\t\t\t<block v-if=\"postage > 0\">订单金额满{{ freePostage | filterTransNum }}元</block>\r\n\t\t\t\t\t\t\t\t已免快递费\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>¥{{ postage | filterTransNum }}</block>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"h6\" v-if=\"calcPeiTypeId == peiTypeEnumObj[peiTypeDada] && !errorMsg.isHas\">\r\n\t\t\t\t\t\t\t¥{{ postFeeData.fee | filterTransNum }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"h6\" v-if=\"calcPeiTypeId == peiTypeEnumObj[peiTypeShansong] && !errorMsg.isHas\">\r\n\t\t\t\t\t\t\t¥{{ postFeeData.fee | filterTransNum }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"h6 text-red-price errorMsg\"\r\n\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t(calcPeiTypeId == peiTypeEnumObj[peiTypeDada] ||\r\n\t\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeShansong]) &&\r\n\t\t\t\t\t\t\t\t\terrorMsg.isHas\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ errorMsg.msg }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<block\r\n\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeZiti] ||\r\n\t\t\t\t\t\t\t\tcalcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"line-block\">\r\n\t\t\t\t\t\t\t<view class=\"h5\">收货人</view>\r\n\t\t\t\t\t\t\t<view class=\"inp-block\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"收货人\" v-model=\"shouhuoren\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"line-block\">\r\n\t\t\t\t\t\t\t<view class=\"h5\">手机号码</view>\r\n\t\t\t\t\t\t\t<view class=\"inp-block\"><input type=\"text\" placeholder=\"手机号码\" v-model=\"haoma\" /></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<view class=\"line-block\">\r\n\t\t\t\t\t\t<view class=\"h5\">订单备注</view>\r\n\r\n\t\t\t\t\t\t<view class=\"h6\">\r\n\t\t\t\t\t\t\t<view class=\"input-beizhu-block\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"show-style input-beizhu\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t:style=\"{ opacity: beizhuInputFlag ? 1 : 0 }\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t@blur=\"setBeizhuInputFlagFn(false)\"\r\n\t\t\t\t\t\t\t\t\t@focus=\"setBeizhuInputFlagFn(true)\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\tclass=\"show-style input-beizhu-text-view\"\r\n\t\t\t\t\t\t\t\t\t:style=\"{ opacity: beizhuInputFlag ? 0 : 1 }\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ textarea ? textarea : '示例:订单备注' }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclass=\"textarea\"\r\n\t\t\t\t\t\tv-model=\"textarea\"\r\n\t\t\t\t\t\tplaceholder=\"示例:订单备注\"\r\n\t\t\t\t\t\tv-show=\"calcShowtextarea\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t -->\r\n\t\t\t\t\t<view class=\"line-block\" @click=\"quehuoIsOpen = !quehuoIsOpen\">\r\n\t\t\t\t\t\t<view class=\"h5\">如遇缺货</view>\r\n\t\t\t\t\t\t<view class=\"h6\">\r\n\t\t\t\t\t\t\t{{ quehuo[quehuoCurr].name }}\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"iconfont icon-arrow-right-copy-copy\"\r\n\t\t\t\t\t\t\t\t:class=\"[quehuoIsOpen ? 'deg90' : '']\"\r\n\t\t\t\t\t\t\t\tcolor=\"#374050\"\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 16px;\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"line-cont-block\" v-if=\"quehuoIsOpen\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"line-cont\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in quehuo\"\r\n\t\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t\t@click=\"quehuoItemFn(index)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text>{{ item.name }}</text>\r\n\t\t\t\t\t\t\t<uni-icons v-show=\"quehuoCurr != index\" size=\"22\" type=\"circle\" color=\"#c7c7c7\"></uni-icons>\r\n\t\t\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t\t\tv-show=\"quehuoCurr == index\"\r\n\t\t\t\t\t\t\t\tsize=\"22\"\r\n\t\t\t\t\t\t\t\ttype=\"circle-filled\"\r\n\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"line-block\">\r\n\t\t\t\t\t\t<view class=\"h5\"></view>\r\n\t\t\t\t\t\t<view class=\"h6\">\r\n\t\t\t\t\t\t\t<text>实付金额:</text>\r\n\t\t\t\t\t\t\t<view class=\"price\">¥{{ price_sfje | filterTransNum }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 会员卡组件 -->\r\n\t\t<vip-card\r\n\t\t\t@selectVipOptionCardFn=\"selectVipOptionCardFn\"\r\n\t\t\t:vipOptionCardIsSelect=\"vipOptionCardIsSelect\"\r\n\t\t\t:vipOptionCardIsOpen=\"vipOptionCardIsOpen\"\r\n\t\t\t:vipOptionCardId=\"vipOptionCardId\"\r\n\t\t\t:vipOptionCardName=\"vipOptionCardName\"\r\n\t\t\t:vipOptionCardTagBgColor=\"vipOptionCardTagBgColor\"\r\n\t\t\t:vipOptionCardTagIconImg=\"vipOptionCardTagIconImg\"\r\n\t\t\t:vipOptionCardTagText=\"vipOptionCardTagText\"\r\n\t\t\t:vipOptionCardTagTextColor=\"vipOptionCardTagTextColor\"\r\n\t\t\t:vipOptionCardTipBgColor=\"vipOptionCardTipBgColor\"\r\n\t\t\t:vipOptionCardTipText=\"vipOptionCardTipText\"\r\n\t\t\t:vipOptionCardTipTextColor=\"vipOptionCardTipTextColor\"\r\n\t\t\t:vipOptionCardTime=\"vipOptionCardTime\"\r\n\t\t\t:vipOptionCardPrice=\"vipOptionCardPrice\"\r\n\t\t></vip-card>\r\n\r\n\t\t<view class=\"pay-type\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<view class=\"cont-block\">\r\n\t\t\t\t\t<view class=\"h3\">支付方式</view>\r\n\r\n\t\t\t\t\t<view class=\"line-block-list\">\r\n\t\t\t\t\t\t<view class=\"line-block\">\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\"><yve-icon></yve-icon></view>\r\n\r\n\t\t\t\t\t\t\t\t\t<text>\r\n\t\t\t\t\t\t\t\t\t\t储值余额\r\n\t\t\t\t\t\t\t\t\t\t<block v-if=\"yve > 0\">({{ yve | filterTransNum }})</block>\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"yve == 0\">{{ yve | filterTransNum }}</block>\r\n\t\t\t\t\t\t\t\t\t<switch\r\n\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"transform: translateX(20rpx) scale(0.7)\"\r\n\t\t\t\t\t\t\t\t\t\t:checked=\"defaultStatus\"\r\n\t\t\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"switchChangeFn\"\r\n\t\t\t\t\t\t\t\t\t></switch>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t<view class=\"line-block\" @click=\"setPayFlagFn(payTypeWxxcx)\" v-if=\"calcWeixinPayMiniprogram\">\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-weixin\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: #6ccc4e;font-size: 60rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeWxxcx]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeWxxcx]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t\t<view class=\"line-block\" @click=\"setPayFlagFn(payTypeWxapp)\" v-if=\"calcWeixinPayAndroidApp\">\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-weixin\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: #6ccc4e;font-size: 60rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeWxapp]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeWxapp]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"line-block\" @click=\"setPayFlagFn(payTypeZfbapp)\" v-if=\"calcZhifubaoPayAndroidApp\">\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-zhifubao\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: #5a9ef7;font-size: 60rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text>支付宝</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeZfbapp]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeZfbapp]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t\t<!-- 公众号微信支付 -->\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"line-block\"\r\n\t\t\t\t\t\t\t:data-f=\"payFlag\"\r\n\t\t\t\t\t\t\tv-if=\"globalBrowserIsWx && calcWeixinofficialaccount\"\r\n\t\t\t\t\t\t\t@click=\"setPayFlagFn(payTypeWxgzh)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-weixin\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: #6ccc4e;font-size: 60rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeWxgzh]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeWxgzh]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 普通浏览器微信支付 -->\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"line-block\"\r\n\t\t\t\t\t\t\tv-if=\"!globalBrowserIsWx && calcWeixinPayH5\"\r\n\t\t\t\t\t\t\t@click=\"setPayFlagFn(payTypeH5wx)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-weixin\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: #6ccc4e;font-size: 60rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeH5wx]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeH5wx]\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t 普通浏览器(非微信客户端浏览器) 暂时取消支付宝支付\r\n\t\t\t\t\t\t <view class=\"line-block\" v-if=\"!globalBrowserIsWx\" @click=\"setPayFlagFn(payTypeH5zfb)\">\r\n\t\t\t\t\t\t \t<view class=\"content-wrap\">\r\n\t\t\t\t\t\t \t\t<view class=\"left-block\">\r\n\t\t\t\t\t\t \t\t\t<view class=\"image-block\">\r\n\t\t\t\t\t\t \t\t\t\t<view\r\n\t\t\t\t\t\t \t\t\t\t\tclass=\"iconfont icon-zhifubao\"\r\n\t\t\t\t\t\t \t\t\t\t\tstyle=\"color: #5a9ef7;font-size: 60rpx;\"\r\n\t\t\t\t\t\t \t\t\t\t></view>\r\n\t\t\t\t\t\t \t\t\t</view>\r\n\t\t\t\t\t\t \t\t\t<text>支付宝</text>\r\n\t\t\t\t\t\t \t\t</view>\r\n\t\t\t\t\t\t \t\t<view>\r\n\t\t\t\t\t\t \t\t\t<view\r\n\t\t\t\t\t\t \t\t\t\tv-show=\"payFlag == payTypeEnumObj[payTypeH5zfb]\"\r\n\t\t\t\t\t\t \t\t\t\tclass=\"iconfont icon-circle\"\r\n\t\t\t\t\t\t \t\t\t\t:style=\"{ 'font-size': '22px', color: configInfo.web_site_color }\"\r\n\t\t\t\t\t\t \t\t\t></view>\r\n\t\t\t\t\t\t \t\t\t<view\r\n\t\t\t\t\t\t \t\t\t\tv-show=\"payFlag != payTypeEnumObj[payTypeH5zfb]\"\r\n\t\t\t\t\t\t \t\t\t\tclass=\"iconfont icon-circle1\"\r\n\t\t\t\t\t\t \t\t\t\t:style=\"{ 'font-size': '20px', color: '#c7c7c7' }\"\r\n\t\t\t\t\t\t \t\t\t></view>\r\n\t\t\t\t\t\t \t\t</view>\r\n\t\t\t\t\t\t \t</view>\r\n\t\t\t\t\t\t </view>\r\n\t\t\t\t\t\t -->\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"bottom-commit-order-bar\">\r\n\t\t\t<view class=\"order-btn-block\">\r\n\t\t\t\t<view class=\"price-all\">\r\n\t\t\t\t\t待支付 合计:\r\n\t\t\t\t\t<view class=\"shop-price-block-lr\">\r\n\t\t\t\t\t\t<view class=\"origin-price\">\r\n\t\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t\t<text>{{ hejiPrice | filterTransNum }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"order-btn\"\r\n\t\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t\t@click=\"$onceClick(payFn)\"\r\n\t\t\t\t\t:style=\"{ background: configInfo.web_site_color, opacity: qvZhiFuBtnFlag ? 1 : 0.8 }\"\r\n\t\t\t\t>\r\n\t\t\t\t\t提交订单\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 优惠券模态框 -->\r\n\t\t<view :class=\"['couponModal']\" v-if=\"isShowCouponModal\">\r\n\t\t\t<view class=\"top\" @click=\"closeCouponModalFn\"></view>\r\n\t\t\t<view class=\"bottom\">\r\n\t\t\t\t<view class=\"icon-block\" @click=\"notUseCoupon_cloneFn\">\r\n\t\t\t\t\t<text>不使用优惠券</text>\r\n\t\t\t\t\t<uni-icons color=\"#bbbdc0\" size=\"20\" type=\"closeempty\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"title-h4\">选择优惠券</view>\r\n\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"card-wrap\">\r\n\t\t\t\t\t\t<view class=\"card-block\">\r\n\t\t\t\t\t\t\t<view class=\"title-h5\">优惠券</view>\r\n\t\t\t\t\t\t\t<block v-for=\"(item, indexs) in coupon\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<youhuiquan :coupon=\"item\" :indexs=\"indexs\" @selectCouponFn=\"selectCouponFn\" />\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nav-bar-block\">\r\n\t\t\t\t\t<text class=\"bar-text\">已选择{{ couponCount }}张</text>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"bar-btn\"\r\n\t\t\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t\t\t@click=\"setCouponFn\"\r\n\t\t\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 商品券模态框 -->\r\n\t\t<view :class=\"['couponModal']\" v-if=\"isShowGoodsCouponModal\">\r\n\t\t\t<view class=\"top\" @click=\"closeGoodsCouponModalFn\"></view>\r\n\t\t\t<view class=\"bottom\">\r\n\t\t\t\t<view class=\"icon-block\" @click=\"notUseGoodsCoupon_cloneFn\">\r\n\t\t\t\t\t<text>不使用商品券</text>\r\n\t\t\t\t\t<uni-icons color=\"#bbbdc0\" size=\"20\" type=\"closeempty\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"title-h4\">选择商品券</view>\r\n\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"card-wrap\">\r\n\t\t\t\t\t\t<view class=\"card-block\">\r\n\t\t\t\t\t\t\t<view class=\"title-h5\">商品券</view>\r\n\r\n\t\t\t\t\t\t\t<block v-for=\"(item, index) in goods_coupon\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<!-- <view :class=\"['item',item.is_use?'':'filterGray']\" @click=\"selectGoodsCouponFn(item,index)\"> -->\r\n\t\t\t\t\t\t\t\t<view :class=\"['item']\" @click=\"selectGoodsCouponFn(item, index)\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.isSelect\" class=\"isSelectBlock\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"checkmarkempty\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"checkmarkempty\" color=\"#ffffff\" size=\"15\"></uni-icons>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"gb-sanjiao\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-top-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-image-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image :src=\"item.original_img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-description\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-name\">{{ item.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"shop-price-block-lr\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"origin-price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>￥{{ item.money }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"use-btn\" @click=\"useFn(item)\">立即使用</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-bottom-block\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"card-name\">{{ item.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time-block\"><!-- 有效期: 2020.05.01-2020.07.01 --></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nav-bar-block\">\r\n\t\t\t\t\t<text class=\"bar-text\">已选择{{ goodsCouponCount }}张</text>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"bar-btn\"\r\n\t\t\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t\t\t@click=\"setGoodsCouponFn\"\r\n\t\t\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tbigDiv,\r\n\ttransNumFn,\r\n\tcheckTypeFn,\r\n\tbigPlus,\r\n\tbigMinus,\r\n\tassertArray,\r\n\tassertObject,\r\n\tcloneFn,\r\n\tnum2zeroStr,\r\n\tcreateHoursArr\r\n} from '@/tools/tools';\r\nimport youhuiquan from '@/df-components/youhuiquan-block/dingdan'; // 优惠券组件\r\nimport peiType from '@/pages/order/order-components/pei-type.vue'; // 配送方式组件\r\nimport userAddress from '@/pages/order/order-components/user-address.vue'; // 展示用户地址组件\r\nimport vipCard from '@/pages/order/order-components/vip-card.vue'; // 开通会员卡组件\r\nimport myPickerComp from '@/pages/order/order-components/my-picker-comp.vue'; // 选时间组件\r\nimport zitidianShow from '@/pages/order/order-components/duozitidian/zitidian-show.vue'; // 展示在页面上的自提点\r\nimport duozitiModal from '@/pages/order/order-components/duozitidian/duoziti-modal.vue'; // 自提点列表的模态框组件\r\n\r\nimport zitidianShowSeller from '@/pages/order/order-components/zitidian-show-seller.vue'; // 展示在页面上的自提点 商家自提类型\r\n\r\nimport {\r\n\t// ↓↓ 支付方式 ===========================\r\n\tpayTypeyve,\r\n\tpayTypeWxxcx,\r\n\tpayTypeWxapp,\r\n\tpayTypeZfbapp,\r\n\tpayTypeWxgzh,\r\n\tpayTypeH5wx,\r\n\tpayTypeH5zfb,\r\n\tpayTypeEnumObj,\r\n\t// ↓↓ 配送方式 ===========================\r\n\tpeiTypeShangjia,\r\n\tpeiTypeZiti,\r\n\tpeiTypeKuaidi,\r\n\tpeiTypeDada,\r\n\tpeiTypeShansong,\r\n\tpeiTypeDuozitidian,\r\n\tpeiTypeEnumObj\r\n} from '@/tools/const.js';\r\n\r\nlet that;\r\nexport default {\r\n\tname: 'order-index',\r\n\tcomponents: {\r\n\t\tyouhuiquan,\r\n\t\tvipCard,\r\n\t\tmyPickerComp,\r\n\t\tpeiType,\r\n\t\tuserAddress,\r\n\t\tzitidianShow,\r\n\t\tduozitiModal,\r\n\t\tzitidianShowSeller\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisShowLoading: true, // 开屏动画\r\n\t\t\t// ↓↓ 支付方式 ===========================\r\n\t\t\tpayTypeyve,\r\n\t\t\tpayTypeWxxcx,\r\n\t\t\tpayTypeWxapp,\r\n\t\t\tpayTypeZfbapp,\r\n\t\t\tpayTypeWxgzh,\r\n\t\t\tpayTypeH5wx,\r\n\t\t\tpayTypeH5zfb,\r\n\t\t\tpayTypeEnumObj,\r\n\r\n\t\t\t// ↓↓ 配送方式 ===========================\r\n\t\t\tpeiTypeShangjia,\r\n\t\t\tpeiTypeZiti,\r\n\t\t\tpeiTypeKuaidi,\r\n\t\t\tpeiTypeDada,\r\n\t\t\tpeiTypeShansong,\r\n\t\t\tpeiTypeDuozitidian,\r\n\t\t\tpeiTypeEnumObj,\r\n\r\n\t\t\t// 配送方法\r\n\t\t\tpeiTypeArr: [{}],\r\n\t\t\tpeiTypeActive: 0,\r\n\r\n\t\t\tpostFeeData: {}, // 达达和闪送 的数据\r\n\r\n\t\t\t// 从购物车列表里带过来的商品数据\r\n\t\t\tcartPageGoodsList: [{}],\r\n\t\t\t// 选中结算的商品列表\r\n\t\t\tselectGoods: [{}],\r\n\t\t\t// 选中结算的商品列表 (限购次数的商品列表)\r\n\t\t\tinvalidGoods: [{}],\r\n\r\n\t\t\t// 地址相关\r\n\t\t\taddressIsSet: false,\r\n\t\t\taddressUserName: '', // 收货人名字\r\n\t\t\taddressUserTel: '', // 收货人电话\r\n\t\t\taddressText: '', // 收货人地址描述\r\n\t\t\taddressTagName: '', // 地址标签\r\n\t\t\taddressId: null, // 收货地址id\r\n\t\t\taddressCoordinate: '', // 收货地址经纬度\r\n\t\t\taddressArea: '', // 收货地址的 市\r\n\r\n\t\t\t// 处理商家的一些信息\r\n\t\t\tsellerImage: '', // 商家门店图片\r\n\t\t\tsellerName: '', // 商家店名称\r\n\t\t\tsellerMobile: '', // 商家电话\r\n\t\t\tsellerOpenTime: '', // 商家营业时间\r\n\t\t\tsellerAddress: '', // 商家店地址\r\n\r\n\t\t\tfreePost: 0, // 满多少免配送费\r\n\t\t\tpostFee: 0, // 骑手配送费\r\n\t\t\tpostage: 0, // 快递运费\r\n\t\t\tfreePostage: 0, // 满多少减运费\r\n\t\t\tpostTime: '', // 配送时间 '8:20 - 22:50'\r\n\t\t\tpeisongTimeLater: 0, // 预计骑手配送时长\r\n\r\n\t\t\t// 缺货信息\r\n\t\t\tquehuo: [{}],\r\n\t\t\t// 结算钱的信息\r\n\t\t\tprice: {},\r\n\t\t\t// 余额\r\n\t\t\tyve: 0,\r\n\t\t\tpreviousInputUserName: '', // 上一次用户输入的名字\r\n\t\t\tpreviousInputUserPhone: '', // 上一次用户输入的 手机号\r\n\r\n\t\t\tquehuoIsOpen: false,\r\n\t\t\tquehuoCurr: 0,\r\n\r\n\t\t\tpayFlag: '',\r\n\r\n\t\t\tcouponJSON: {},\r\n\t\t\t/* ↓↓↓↓↓↓↓\r\n\t\t\t\t优惠券列表\r\n\t\t\t\t商品券列表\r\n\t\t\t\t选中的优惠券\r\n\t\t\t\t选中的商品券\r\n\t\t\t\t选中的优惠券 个数\r\n\t\t\t\t选中的商品券 个数\r\n\t\t\t*/\r\n\r\n\t\t\tcoupon: [{}],\r\n\t\t\tgoods_coupon: [{}],\r\n\t\t\tcoupon_user_id: 0,\r\n\t\t\tgood_coupon_id: 0,\r\n\t\t\tcouponCount: 0,\r\n\t\t\tgoodsCouponCount: 0,\r\n\r\n\t\t\t// 是否显示优惠券模态框\r\n\t\t\tisShowCouponModal: false,\r\n\r\n\t\t\t// 是否显示商品券模态框\r\n\t\t\tisShowGoodsCouponModal: false,\r\n\r\n\t\t\t// 备注信息   是否启用余额抵扣状态\r\n\t\t\ttextarea: '',\r\n\t\t\tbeizhuInputFlag: false, // 备注文字框的聚焦状态\r\n\t\t\tdefaultStatus: false, // 是否使用余额抵扣\r\n\r\n\t\t\t// 到点自提收货人名字\r\n\t\t\tshouhuoren: '',\r\n\t\t\t// 到点自提收货人号码\r\n\t\t\thaoma: '',\r\n\r\n\t\t\t// 临时 用来缓存选择优惠券后不确定使用的对象\r\n\t\t\ttemObj: {},\r\n\r\n\t\t\t// 记录是否第一次请求\r\n\t\t\tpageCont: 0,\r\n\t\t\ttemplateId: [],\r\n\t\t\tgetOrderInfoLastTime: null, // 最后一次请求后台 订单信息的时间\r\n\t\t\terrorMsg: {\r\n\t\t\t\t// 记录因为距离太远 而不能下单 的 错误消息\r\n\t\t\t\tisHas: false,\r\n\t\t\t\tmsg: ''\r\n\t\t\t},\r\n\r\n\t\t\tqvZhiFuBtnFlag: true, // 去支付按钮 的锁  防止 多次点击 true可以支付,  false 不能点击\r\n\r\n\t\t\t// ↓↓ 预约配送相关数据\r\n\t\t\tqiToTime: '', // 骑手开始配送\r\n\t\t\tqiOffTime: '', // 骑手结束配送\r\n\r\n\t\t\tisOpenyvyueFun: false, // 是否开启预约配送\r\n\t\t\tyvyueDays: 0, // 预约的天数\r\n\t\t\thoursArr: [{}], // 小时的数据\r\n\t\t\tnewToDayHourArr: [{}], // 选择今天配送的小时数据\r\n\t\t\tnewHours: 0, // 当前的小时数\r\n\t\t\tnewMinutes: 0, // 当前的分钟数\r\n\r\n\t\t\tdaysIndex: 0, // 天的索引\r\n\t\t\thoursIndex: 0, // 小时的索引\r\n\t\t\tcancelIndexDays: 0, // 选择前的天数索引\r\n\t\t\tcancelIndexhours: 0, // 选择前的小时索引\r\n\t\t\tisTomorrowStr: false, // 当前选天的列 选中的 是否是 '明天'\r\n\t\t\tpickerSelectHour: '', // 当前选小时的列 选中的 小时字符串\r\n\r\n\t\t\t// ↓↓ 开通会员的选项卡片 数据\r\n\t\t\tvipOptionCardIsSelect: false, // 用户 是否同意开启 vip\r\n\t\t\tvipOptionCardIsOpen: false, // 是否显示 勾选vip 确认 开通会员 卡片\r\n\t\t\tvipOptionCardId: 0, // 展示的会员卡id\r\n\t\t\tvipOptionCardName: '', // 会员卡名字\r\n\t\t\tvipOptionCardTagBgColor: '', // 会员卡左上标签的背景色\r\n\t\t\tvipOptionCardTagIconImg: '', // 会员卡左上标签的 图标 图片地址\r\n\t\t\tvipOptionCardTagText: '', // 会员卡左上标签的 文字内容\r\n\t\t\tvipOptionCardTagTextColor: '', // 会员卡左上标签的 文字 颜色\r\n\t\t\tvipOptionCardTipBgColor: '', // 会员卡右上的提示气泡背景颜色\r\n\t\t\tvipOptionCardTipText: '', // 会员卡右上的提示气泡展示文字\r\n\t\t\tvipOptionCardTipTextColor: '', // 会员卡右上的提示气泡展示文字颜色\r\n\t\t\tvipOptionCardTime: '', // 会员卡的有效时间\r\n\t\t\tvipOptionCardPrice: 0, // 购买会员卡的价格\r\n\r\n\t\t\t// ↓↓ 多自提点 数据\r\n\t\t\tlocalhostLon: 0, // 当前设备的 经度\r\n\t\t\tlocalhostLat: 0, // 当前设备的 纬度\r\n\t\t\tzitidianList: [{}], // 自提点列表数据\r\n\t\t\tzitidianActive: 0, // 默认选中的自提点\r\n\t\t\tduozitiModalFlag: false // 自提点列表模态框 显示 隐藏 状态\r\n\t\t};\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthat = this;\r\n\t\t\r\n\r\n\t\tthat.setDefaultPayTypeFn();\r\n\r\n\t\tlet selectGoods = uni.getStorageSync('selectGoods');\r\n\t\t// 从购物车带进来的 商品列表数据\r\n\t\tthat.cartPageGoodsList = JSON.parse(selectGoods);\r\n\t\tconsole.log('从购物车页面带来的 商品列表', that.cartPageGoodsList);\r\n\t\tthat.loadFn();\r\n\t\tuni.setStorageSync('selectGoods', '');\r\n\r\n\t\t// 多自提点需要获取的经纬度信息\r\n\t\tlet cartAddress = assertObject(uni.getStorageSync('cartAddress'));\r\n\t\tthat.localhostLat = transNumFn(cartAddress.latitude);\r\n\t\tthat.localhostLon = transNumFn(cartAddress.longitude);\r\n\t\tuni.setStorageSync('cartAddress', '');\r\n\t\t/*\r\n\t\tsetInterval(() => {\r\n\t\t\tconsole.log(' 自提点 this.currentzitidianInfo', this.currentzitidianInfo);\r\n\t\t}, 1000);\r\n\t\t */\r\n\t},\r\n\tonShow() {\r\n\t\tlet that = this;\r\n\t\tuni.setStorageSync('orderZhifuLoadCont', 0);\r\n\t\tuni.setStorageSync('orderZhifuReloadFlag', 0);\r\n\t\t// 获取选择的地址\r\n\t\tlet temSelectAd = uni.getStorageSync('temSelectAd');\r\n\t\tif (temSelectAd) {\r\n\t\t\tthat.addressIsSet = true;\r\n\t\t\tthat.addressUserName = temSelectAd.name; // 收货人名字\r\n\t\t\tthat.addressUserTel = temSelectAd.mobile; // 收货人电话\r\n\t\t\tthat.addressText = temSelectAd.address; // 收货人地址描述\r\n\t\t\tthat.addressTagName = temSelectAd.tag; // 地址标签\r\n\t\t\tthat.addressId = temSelectAd.id; // 收货地址id\r\n\t\t\tthat.addressCoordinate = temSelectAd.coordinate; // 收货地址经纬度\r\n\t\t\tthat.addressArea = temSelectAd.area; // 收货地址的 市\r\n\r\n\t\t\tif (\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeDada] ||\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeShansong]\r\n\t\t\t) {\r\n\t\t\t\t// 达达或者闪送 重新计算\r\n\t\t\t\tthat.getOrderInfoFn(() => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '地址变更,费用已发生变化'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('temSelectAd', '');\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 进入结算页面后设置默认的支付方式\r\n\t\tsetDefaultPayTypeFn(){\r\n\t\t\tlet that = this;\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tif (that.calcWeixinPayMiniprogram) {\r\n\t\t\t\tthat.payFlag = payTypeEnumObj[payTypeWxxcx]; // 支付类型微信小程序支付\r\n\t\t\t}else{\r\n\t\t\t\tthat.defaultStatus = true;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tif (that.calcWeixinPayAndroidApp) {\r\n\t\t\t\tthat.payFlag = payTypeEnumObj[payTypeWxapp]; // 支付类型微信app支付\r\n\t\t\t} else if (that.calcZhifubaoPayAndroidApp) {\r\n\t\t\t\tthat.payFlag = payTypeEnumObj[payTypeZfbapp]; // 支付类型支付宝app支付\r\n\t\t\t}else{\r\n\t\t\t\tthat.defaultStatus = true;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (that.globalBrowserIsWx) {\r\n\t\t\t\tif (that.calcWeixinofficialaccount) {\r\n\t\t\t\t\tthat.payFlag = payTypeEnumObj[payTypeWxgzh]; // 公众号微信支付\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.defaultStatus = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (that.calcWeixinPayH5) {\r\n\t\t\t\t\tthat.payFlag = payTypeEnumObj[payTypeH5wx]; // h5普通浏览器微信支付\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.defaultStatus = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t// 设置备注输入框隐藏显示\r\n\t\tsetBeizhuInputFlagFn(flag) {\r\n\t\t\tthis.beizhuInputFlag = flag;\r\n\t\t},\r\n\t\t// 设置当前的支付方式\r\n\t\tsetPayFlagFn(flag) {\r\n\t\t\tthis.payFlag = payTypeEnumObj[flag];\r\n\t\t},\r\n\t\tgetChaiFenFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async (resFn, rejFn) => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\turl: '/api/order/fill_chaifen'\r\n\t\t\t\t});\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\t// 成功返回的数据\r\n\t\t\t\t\t\tlet resObj = {};\r\n\t\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\r\n\t\t\t\t\t\t// 处理地址信息\r\n\t\t\t\t\t\tlet addressObj = assertObject(resultObj.address);\r\n\t\t\t\t\t\tif (addressObj.id) {\r\n\t\t\t\t\t\t\tresObj.address = {\r\n\t\t\t\t\t\t\t\tisSet: true,\r\n\t\t\t\t\t\t\t\taddressId: addressObj.id, // 地址id\r\n\t\t\t\t\t\t\t\taddressUserName: addressObj.name, // 收货人名字\r\n\t\t\t\t\t\t\t\taddressUserTel: addressObj.mobile, // 收货人电话\r\n\t\t\t\t\t\t\t\taddressText: addressObj.address, // 收货人地址描述\r\n\t\t\t\t\t\t\t\taddressHousenumber: addressObj.housenumber, // 收货人门牌号\r\n\t\t\t\t\t\t\t\taddressCoordinate: addressObj.coordinate, // 收货地址经纬度\r\n\t\t\t\t\t\t\t\taddressArea: addressObj.area, // 收货地址的 市\r\n\t\t\t\t\t\t\t\taddressTagName: addressObj.tag_name // 地址标签\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresObj.address = {\r\n\t\t\t\t\t\t\t\tisSet: false\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 如遇缺货如何处理\r\n\t\t\t\t\t\tlet quehuo = assertArray(resultObj.quehuo);\r\n\t\t\t\t\t\tresObj.quehuo = quehuo;\r\n\r\n\t\t\t\t\t\t// 处理配送方式数据\r\n\t\t\t\t\t\tlet peiTypeArr = assertArray(resultObj.peiType).filter(typeItem => typeItem.value == 1);\r\n\r\n\t\t\t\t\t\tresObj.peiTypeArr = peiTypeArr;\r\n\r\n\t\t\t\t\t\t// 处理自提商家信息\r\n\t\t\t\t\t\tlet sellerInfo = assertObject(resultObj.peisong);\r\n\r\n\t\t\t\t\t\tresObj.sellerInfo = {\r\n\t\t\t\t\t\t\tfreePost: transNumFn(sellerInfo.free_post), // 满多少免配送费\r\n\t\t\t\t\t\t\tpostFee: transNumFn(sellerInfo.post_fee), // 骑手配送费\r\n\t\t\t\t\t\t\tpostTime: sellerInfo.post_time, // 配送时间 '8:20 - 22:50'\r\n\t\t\t\t\t\t\tpostage: transNumFn(sellerInfo.postage), // 快递运费\r\n\t\t\t\t\t\t\tfreePostage: transNumFn(sellerInfo.free_postage), // 满多少减运费\r\n\t\t\t\t\t\t\tisPreparePeisong: sellerInfo.is_prepare_peisong == 1, // 是否开启预约配送\r\n\t\t\t\t\t\t\tprepareDays: transNumFn(sellerInfo.prepare_days), // 预约配送的天数\r\n\t\t\t\t\t\t\tpeisongTimeLater: transNumFn(sellerInfo.peisong_time_later), // 预计骑手配送时长\r\n\r\n\t\t\t\t\t\t\t// 处理商家的一些信息\r\n\t\t\t\t\t\t\tsellerImage: sellerInfo.shop_image, // 商家门店图片\r\n\t\t\t\t\t\t\tsellerName: sellerInfo.shop_name, // 商家店名称\r\n\t\t\t\t\t\t\tsellerMobile: sellerInfo.mobile, // 商家电话\r\n\t\t\t\t\t\t\tsellerOpenTime: sellerInfo.shop_bh, // 商家营业时间\r\n\t\t\t\t\t\t\tsellerAddress: sellerInfo.address // 商家店地址\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tlet yve = transNumFn(resultObj.yue); // 账户余额\r\n\t\t\t\t\t\tresObj.yve = yve;\r\n\r\n\t\t\t\t\t\tlet { user_name: userName, user_phone: userPhone } = assertObject(resultObj.znp_user);\r\n\t\t\t\t\t\tresObj.previousInputInfo = {\r\n\t\t\t\t\t\t\t// 上一次输入的值\r\n\t\t\t\t\t\t\tuserName,\r\n\t\t\t\t\t\t\tuserPhone\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: '获取拆分数据成功',\r\n\t\t\t\t\t\t\tresult: resObj\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tresult,\r\n\t\t\t\t\t\t\tmsg: result.data.msg\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tresult,\r\n\t\t\t\t\t\tmsg: that.$errorMsg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取当前的小时数\r\n\t\tgetNewHoursFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet date = new Date();\r\n\t\t\tthat.newHours = date.getHours();\r\n\t\t\tthat.newMinutes = date.getMinutes();\r\n\t\t},\r\n\t\t// 页面 load 执行\r\n\t\tasync loadFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet chaifen = await that.getChaiFenFn(); //获取拆分出来的数据\r\n\t\t\tconsole.log('拆分出来的数据', chaifen);\r\n\t\t\tif (chaifen.type == 'success') {\r\n\t\t\t\tlet chaifenResult = chaifen.result;\r\n\t\t\t\t// 处理 用户的配送方式\r\n\t\t\t\tthat.peiTypeArr = chaifenResult.peiTypeArr;\r\n\r\n\t\t\t\t// 处理收货地址\r\n\t\t\t\tthat.addressIsSet = chaifenResult.address.isSet;\r\n\t\t\t\tthat.addressUserName = chaifenResult.address.addressUserName;\r\n\t\t\t\tthat.addressUserTel = chaifenResult.address.addressUserTel;\r\n\t\t\t\tthat.addressText = chaifenResult.address.addressText;\r\n\t\t\t\tthat.addressTagName = chaifenResult.address.addressTagName;\r\n\t\t\t\tthat.addressId = chaifenResult.address.addressId;\r\n\t\t\t\tthat.addressCoordinate = chaifenResult.address.addressCoordinate; // 收货地址经纬度\r\n\t\t\t\tthat.addressArea = chaifenResult.address.addressArea; // 收货地址的 市\r\n\r\n\t\t\t\t// 处理商家的一些信息\r\n\t\t\t\tthat.sellerImage = chaifenResult.sellerInfo.sellerImage; // 商家门店图片\r\n\t\t\t\tthat.sellerName = chaifenResult.sellerInfo.sellerName; // 商家店名称\r\n\t\t\t\tthat.sellerMobile = chaifenResult.sellerInfo.sellerMobile; // 商家电话\r\n\t\t\t\tthat.sellerOpenTime = chaifenResult.sellerInfo.sellerOpenTime; // 商家营业时间\r\n\t\t\t\tthat.sellerAddress = chaifenResult.sellerInfo.sellerAddress; // 商家店地址\r\n\r\n\t\t\t\tthat.freePost = chaifenResult.sellerInfo.freePost; // 满多少免配送费\r\n\t\t\t\tthat.postFee = chaifenResult.sellerInfo.postFee; // 骑手配送费\r\n\t\t\t\tthat.postage = chaifenResult.sellerInfo.postage; // 快递运费\r\n\t\t\t\tthat.freePostage = chaifenResult.sellerInfo.freePostage; // 满多少减运费\r\n\t\t\t\tthat.postTime = chaifenResult.sellerInfo.postTime; // 配送时间 '8:20 - 22:50'\r\n\r\n\t\t\t\tthat.isOpenyvyueFun = chaifenResult.sellerInfo.isPreparePeisong; // 是否开启预约配送\r\n\t\t\t\tthat.yvyueDays = chaifenResult.sellerInfo.prepareDays; // 预约配送的天数 最多两天  0:立即送出; 1:今天 ; 2:明天\r\n\t\t\t\tthat.peisongTimeLater = chaifenResult.sellerInfo.peisongTimeLater; // 预计骑手配送时长\r\n\r\n\t\t\t\t// 处理配送相关信息\r\n\t\t\t\tlet startEndTimeArr = that.postTime.split('-'); // 得到开始和结束的时间数组 [\"9:00 \", \" 22:00\"]\r\n\t\t\t\tthat.qiToTime = startEndTimeArr[0]; // 赋值骑手开始上班时间-小时\r\n\t\t\t\tthat.qiOffTime = startEndTimeArr[1]; // 赋值骑手开始下班时间-小时\r\n\r\n\t\t\t\tthat.getNewHoursFn();\r\n\r\n\t\t\t\tthat.hoursArr = createHoursArr(that.qiToTime, that.qiOffTime, that.peisongTimeLater);\r\n\r\n\t\t\t\tlet newToDayTime = new Date((Math.floor(+new Date() / 1000) + 60 * 10) * 1000);\r\n\r\n\t\t\t\tlet newToDayTimeStr = `${num2zeroStr(newToDayTime.getHours())}:${num2zeroStr(\r\n\t\t\t\t\tnewToDayTime.getMinutes()\r\n\t\t\t\t)}`;\r\n\r\n\t\t\t\tlet newToDayHourArr = createHoursArr(newToDayTimeStr, that.qiOffTime, that.peisongTimeLater);\r\n\r\n\t\t\t\tthat.newToDayHourArr =\r\n\t\t\t\t\tnewToDayHourArr.length > 0\r\n\t\t\t\t\t\t? newToDayHourArr\r\n\t\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttextStr: `${num2zeroStr(that.newHours)}:${num2zeroStr(\r\n\t\t\t\t\t\t\t\t\t\tthat.newMinutes\r\n\t\t\t\t\t\t\t\t\t)}~${num2zeroStr(that.qiOffTime.split(':')[0])}:${num2zeroStr(\r\n\t\t\t\t\t\t\t\t\t\tthat.qiOffTime.split(':')[1]\r\n\t\t\t\t\t\t\t\t\t)}`,\r\n\t\t\t\t\t\t\t\t\ttoHoursBefore: that.newHours,\r\n\t\t\t\t\t\t\t\t\toffHoursBefore: that.qiOffTime.split(':')[0]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  ];\r\n\r\n\t\t\t\t// 处理如遇缺货\r\n\t\t\t\tthat.quehuo = chaifenResult.quehuo;\r\n\r\n\t\t\t\t// 处理余额\r\n\t\t\t\tthat.yve = chaifenResult.yve; // 余额\r\n\t\t\t\t\r\n\r\n\t\t\t\tthat.previousInputUserName = chaifenResult.previousInputInfo.userName; // 上一次用户输入的名字\r\n\t\t\t\tthat.previousInputUserPhone = chaifenResult.previousInputInfo.userPhone; // 上一次用户输入的 手机号\r\n\r\n\t\t\t\tlet zitidianList = await that.getDuozitidianFn(that.localhostLon, that.localhostLat);\r\n\t\t\t\tconsole.log('自提点 数据 zitidianList', zitidianList);\r\n\t\t\t\tif (zitidianList.type == 'success') {\r\n\t\t\t\t\tthat.zitidianList = zitidianList.result;\r\n\r\n\t\t\t\t\tlet zitidianIsAllNotRange = zitidianList.result.every(i => !i.isRange);\r\n\r\n\t\t\t\t\tif (!zitidianIsAllNotRange) {\r\n\t\t\t\t\t\tthat.zitidianActive = zitidianList.result.findIndex(item => item.isRange);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.getOrderInfoFn();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.isShowLoading = false;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: zitidianList.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthat.isShowLoading = false;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: `${chaifen.msg}.`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 获取订单详情\r\n\t\tasync getOrderInfoFn(fn, isShowLoading) {\r\n\t\t\tlet that = this;\r\n\t\t\t// 选择地址的时候 把 地址的id给后台\r\n\t\t\tlet addressObj = {};\r\n\t\t\tif (\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeDada] ||\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeShansong]\r\n\t\t\t) {\r\n\t\t\t\tif (that.addressIsSet) {\r\n\t\t\t\t\taddressObj.address_id = that.addressId;\r\n\t\t\t\t} else {\r\n\t\t\t\t\taddressObj.address_id = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet cartPageGoodsList = that.cartPageGoodsList.map(item => ({\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tnum: item.number\r\n\t\t\t}));\r\n\t\t\tlet cartId = JSON.stringify(cartPageGoodsList);\r\n\r\n\t\t\tlet Platform;\r\n\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tPlatform = 'wxMiniProgram';\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tPlatform = 'APP';\r\n\t\t\t// #endif\r\n\r\n\t\t\tlet opt = {\r\n\t\t\t\tloading: !!isShowLoading,\r\n\t\t\t\turl: '/api/order/fill_order',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t...addressObj,\r\n\t\t\t\t\tfrom: 'cart',\r\n\t\t\t\t\tprom_type: 'common',\r\n\t\t\t\t\tcart_id: cartId,\r\n\t\t\t\t\tcoupon_user_id: that.coupon_user_id,\r\n\t\t\t\t\tgoods_coupon: that.good_coupon_id,\r\n\t\t\t\t\tpost_type: that.peiTypeArr[that.peiTypeActive].id,\r\n\t\t\t\t\tPlatform,\r\n\t\t\t\t\tis_send_immediately: 1, // 是否立即送出 1--立即单  2--预约单   默认1\r\n\t\t\t\t\tpeisong_time: '', // 骑手开始配送的时间\r\n\t\t\t\t\tvip_id: that.vipOptionCardIsSelect ? that.vipOptionCardId : 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconsole.log('请求 /api/order/fill_order 接口 带的参数', opt);\r\n\t\t\tlet result = await that.$request(opt);\r\n\t\t\tconsole.log('请求 api/order/fill_order 接口返回的结果 ', result);\r\n\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tlet resultObj = assertObject(result.data.data);\r\n\r\n\t\t\t\t\tlet priceInfo = assertObject(resultObj.price);\r\n\t\t\t\t\tlet goods = assertArray(priceInfo.goods);\r\n\r\n\t\t\t\t\t// 选中结算的商品列表\r\n\t\t\t\t\tconsole.log('打印可以结算的商品数组 goods', goods);\r\n\t\t\t\t\tlet selectGoods = that.cartPageGoodsList\r\n\t\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\t\tfor (let i of goods) {\r\n\t\t\t\t\t\t\t\tif (i.goods_id == item.goodsId && i.spec_id == item.specId) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\t\tfor (let i of goods) {\r\n\t\t\t\t\t\t\t\tif (i.goods_id == item.goodsId && i.spec_id == item.specId) {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\t...i\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthat.selectGoods = selectGoods;\r\n\t\t\t\t\tconsole.log('打印可以结算的商品数组合并好的数据 that.selectGoods', that.selectGoods);\r\n\r\n\t\t\t\t\tlet invalidGoodsList = assertArray(priceInfo.invalidGoods);\r\n\t\t\t\t\tconsole.log('打印可以失效的商品数组 invalidGoodsList', invalidGoodsList);\r\n\r\n\t\t\t\t\tlet invalidGoods = that.cartPageGoodsList\r\n\t\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\t\tfor (let i of invalidGoodsList) {\r\n\t\t\t\t\t\t\t\tif (i.goods_id == item.goodsId && i.spec_id == item.specId) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\t\tfor (let i of invalidGoodsList) {\r\n\t\t\t\t\t\t\t\tif (i.goods_id == item.goodsId && i.spec_id == item.specId) {\r\n\t\t\t\t\t\t\t\t\titem.isShowText = i.is_make_order.is_make_order_msg;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\t...i\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthat.invalidGoods = invalidGoods;\r\n\t\t\t\t\tconsole.log('打印失效的商品数组合并好的数据 that.invalidGoods', that.invalidGoods);\r\n\t\t\t\t\tthat.getOrderInfoLastTime = result.data.time; // 赋值最后的请求时间\r\n\t\t\t\t\t// =====================================================================================↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\r\n\t\t\t\t\t// 处理优惠券\r\n\r\n\t\t\t\t\t// 第一次加载页面\r\n\t\t\t\t\tif (that.pageCont == 0) {\r\n\t\t\t\t\t\tthat.couponJSON = JSON.stringify(assertArray(resultObj.coupon));\r\n\r\n\t\t\t\t\t\tlet coupon = JSON.parse(that.couponJSON);\r\n\r\n\t\t\t\t\t\t// 优惠券优惠的金额是0\r\n\t\t\t\t\t\tif (priceInfo.coupon_sale_money == 0) {\r\n\t\t\t\t\t\t\tif (priceInfo.goods_coupon_sale_money > 0) {\r\n\t\t\t\t\t\t\t\tcoupon.forEach(item => {\r\n\t\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\t\tif (item.is_use == 1) {\r\n\t\t\t\t\t\t\t\t\t\titem.is_use = 0;\r\n\t\t\t\t\t\t\t\t\t\titem.not_reason = '使用商品券进行优惠';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet couponCount = 0;\r\n\t\t\t\t\t\t\tcoupon.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\tif (couponCount == 0 && item.is_use == 1) {\r\n\t\t\t\t\t\t\t\t\titem.isSelect = true;\r\n\t\t\t\t\t\t\t\t\tcouponCount++;\r\n\t\t\t\t\t\t\t\t\tthat.couponCount = 1;\r\n\t\t\t\t\t\t\t\t\tthat.coupon_user_id = item.coupon_user_id;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.coupon = coupon;\r\n\r\n\t\t\t\t\t\t// 第多次加载页面\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet coupon = JSON.parse(that.couponJSON);\r\n\r\n\t\t\t\t\t\tif (priceInfo.goods_coupon_sale_money - 0 >= priceInfo.ord_price - 0) {\r\n\t\t\t\t\t\t\tcoupon.forEach(item => {\r\n\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\tif (item.is_use == 1) {\r\n\t\t\t\t\t\t\t\t\titem.is_use = 0;\r\n\t\t\t\t\t\t\t\t\titem.not_reason = '使用商品券进行优惠';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (that.coupon_user_id == 0) {\r\n\t\t\t\t\t\t\t\tlet couponCount = 0;\r\n\t\t\t\t\t\t\t\tcoupon.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\t\tif (couponCount == 0 && item.is_use == 1) {\r\n\t\t\t\t\t\t\t\t\t\titem.isSelect = true;\r\n\t\t\t\t\t\t\t\t\t\tcouponCount++;\r\n\t\t\t\t\t\t\t\t\t\tthat.couponCount = 1;\r\n\t\t\t\t\t\t\t\t\t\tthat.coupon_user_id = item.coupon_user_id;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else if (that.coupon_user_id == 'no') {\r\n\t\t\t\t\t\t\t\tlet couponCount = 0;\r\n\t\t\t\t\t\t\t\tthat.couponCount = couponCount;\r\n\t\t\t\t\t\t\t\tthat.coupon_user_id = 'no';\r\n\r\n\t\t\t\t\t\t\t\tcoupon.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.couponCount = 1;\r\n\t\t\t\t\t\t\t\tcoupon.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\t\tif (that.coupon_user_id == item.coupon_user_id) {\r\n\t\t\t\t\t\t\t\t\t\titem.isSelect = true;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.coupon = coupon;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 处理商品券=====================================================================================================\r\n\t\t\t\t\tif (that.pageCont == 0) {\r\n\t\t\t\t\t\t// 处理商品券\r\n\t\t\t\t\t\tlet good_coupon_id = [];\r\n\r\n\t\t\t\t\t\tlet goodsCoupon = assertArray(resultObj.goods_coupon);\r\n\r\n\t\t\t\t\t\tgoodsCoupon.forEach(goods_coupon => {\r\n\t\t\t\t\t\t\tthat.selectGoods.forEach(selectGoods => {\r\n\t\t\t\t\t\t\t\tif (selectGoods.goodsId == goods_coupon.goods_id) {\r\n\t\t\t\t\t\t\t\t\tgoods_coupon.original_img = selectGoods.originalImg;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tgoods_coupon.isSelect = true;\r\n\t\t\t\t\t\t\tgood_coupon_id.push(goods_coupon.id);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconsole.log(result.data.data.goods_coupon, '给优惠券添加 图片路径后 的数据', '\\n');\r\n\r\n\t\t\t\t\t\tthat.goods_coupon = goodsCoupon;\r\n\t\t\t\t\t\tthat.good_coupon_id = good_coupon_id.join(',');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// =====================================================================================↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\r\n\t\t\t\t\t// 处理 优惠的价格\r\n\r\n\t\t\t\t\t// 处理价格\r\n\t\t\t\t\tthat.price = priceInfo;\r\n\r\n\t\t\t\t\t// 处理 达达和闪送的数据\r\n\t\t\t\t\tif (that.calcPeiTypeId == peiTypeEnumObj[peiTypeDada]) {\r\n\t\t\t\t\t\t// 达达\r\n\r\n\t\t\t\t\t\tlet result_prepay_dada = assertObject(resultObj.result_prepay_dada);\r\n\t\t\t\t\t\tif (result_prepay_dada.status == 'success') {\r\n\t\t\t\t\t\t\tthat.postFeeData.order_info = resultObj.order_info;\r\n\t\t\t\t\t\t\tthat.postFeeData.deliveryNo = result_prepay_dada.result.deliveryNo;\r\n\t\t\t\t\t\t\tthat.postFeeData.totalFee = result_prepay_dada.result.deliverFee;\r\n\t\t\t\t\t\t\tthat.postFeeData.fee = result_prepay_dada.result.fee;\r\n\r\n\t\t\t\t\t\t\tthat.errorMsg.msg = '';\r\n\t\t\t\t\t\t\tthat.errorMsg.isHas = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.errorMsg.msg = result_prepay_dada.msg;\r\n\t\t\t\t\t\t\tthat.errorMsg.isHas = true;\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\t\t\t\ttitle: result_prepay_dada.msg,\r\n\t\t\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t// \ticon: 'none',\r\n\t\t\t\t\t\t\t\t// \ttitle: result_prepay_dada.msg\r\n\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (that.calcPeiTypeId == peiTypeEnumObj[peiTypeShansong]) {\r\n\t\t\t\t\t\t// 闪送\r\n\t\t\t\t\t\tlet result_prepay_dada = resultObj.result_prepay_dada;\r\n\t\t\t\t\t\tif (result_prepay_dada.status == 200) {\r\n\t\t\t\t\t\t\tthat.postFeeData.order_info = resultObj.order_info;\r\n\t\t\t\t\t\t\tthat.postFeeData.deliveryNo = result_prepay_dada.data.orderNumber;\r\n\t\t\t\t\t\t\tthat.postFeeData.totalFee = bigDiv(transNumFn(result_prepay_dada.data.totalAmount), 100);\r\n\t\t\t\t\t\t\tthat.postFeeData.fee = bigDiv(transNumFn(result_prepay_dada.data.totalFeeAfterSave), 100);\r\n\t\t\t\t\t\t\tthat.errorMsg.msg = '';\r\n\t\t\t\t\t\t\tthat.errorMsg.isHas = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.errorMsg.msg = result_prepay_dada.msg;\r\n\t\t\t\t\t\t\tthat.errorMsg.isHas = true;\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\t\t\t\ttitle: result_prepay_dada.msg,\r\n\t\t\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t// \ticon: 'none',\r\n\t\t\t\t\t\t\t\t// \ttitle: result_prepay_dada.msg\r\n\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 开通vip选项卡 相关配置\r\n\t\t\t\t\tlet vipOptionCard = assertObject(resultObj.fill_content);\r\n\t\t\t\t\tthat.vipOptionCardIsOpen = vipOptionCard.is_fill == 1; // 是否显示 勾选vip 确认 开通会员 卡片\r\n\t\t\t\t\tthat.vipOptionCardId = transNumFn(vipOptionCard.vip_id); // 展示的会员卡id\r\n\t\t\t\t\tthat.vipOptionCardName = vipOptionCard.fill_name; // 会员卡名字\r\n\t\t\t\t\tthat.vipOptionCardTagBgColor = vipOptionCard.fill_bg_color; // 会员卡左上标签的背景色\r\n\t\t\t\t\tthat.vipOptionCardTagIconImg = vipOptionCard.fill_icon; // 会员卡左上标签的 图标 图片地址\r\n\t\t\t\t\tthat.vipOptionCardTagText = vipOptionCard.fill_con; // 会员卡左上标签的 文字内容\r\n\t\t\t\t\tthat.vipOptionCardTagTextColor = vipOptionCard.fill_bq_color; // 会员卡左上标签的 文字 颜色\r\n\t\t\t\t\tthat.vipOptionCardTipBgColor = vipOptionCard.fill_xz_color; // 会员卡右上的提示气泡背景颜色\r\n\t\t\t\t\tthat.vipOptionCardTipText = vipOptionCard.fill_xz_con; // 会员卡右上的提示气泡展示文字\r\n\t\t\t\t\tthat.vipOptionCardTipTextColor = vipOptionCard.fill_xzt_color; // 会员卡右上的提示气泡展示文字颜色\r\n\t\t\t\t\tthat.vipOptionCardTime = vipOptionCard.time; // 会员卡的有效时间\r\n\t\t\t\t\tthat.vipOptionCardPrice = transNumFn(vipOptionCard.vip_or_price); // 购买会员卡的价格\r\n\r\n\t\t\t\t\t// 处理 模板消息\r\n\t\t\t\t\tif (that.pageCont == 0) {\r\n\t\t\t\t\t\tlet templateId = assertArray(resultObj.templateId)\r\n\t\t\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\t\t\treturn item.mini_status == 1;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\t\t\treturn item.mini_template_id;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.templateId = templateId;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfn && fn(resultObj);\r\n\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\tthat.coupon,\r\n\t\t\t\t\t\t'本地的优惠券列表',\r\n\t\t\t\t\t\t'\\n',\r\n\t\t\t\t\t\ttypeof that.coupon,\r\n\t\t\t\t\t\t'本地的优惠券列表类型',\r\n\t\t\t\t\t\t'\\n',\r\n\t\t\t\t\t\tthat.coupon.length,\r\n\t\t\t\t\t\t'本地的优惠券列表长度',\r\n\t\t\t\t\t\t'\\n',\r\n\t\t\t\t\t\tthat.pageCont,\r\n\t\t\t\t\t\t'页面加载次数',\r\n\t\t\t\t\t\t'\\n'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthat.pageCont++;\r\n\t\t\t\t\tconsole.log(that.$data, '本地的$data数据', '\\n');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('回到购物车页面', '\\n');\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: `_${result.data.msg}`,\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t// that.toBackFn();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\ttitle: '网络错误,请稍后重试',\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.isShowLoading = false;\r\n\t\t},\r\n\t\t// 设置配送方式\r\n\t\tsetPeiTypeIndexFn(arg) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.peiTypeActive = arg.index;\r\n\t\t\tthat.defaultStatus = false;\r\n\t\t\tthat.setDefaultPayTypeFn();\r\n\t\t\tthat.coupon_user_id = 0;\r\n\t\t\tthat.pageCont = 0;\r\n\t\t\tthat.vipOptionCardIsSelect = false;\r\n\r\n\t\t\tthat.getOrderInfoFn(() => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '配送变更,费用已发生变化'\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 如果是到店自提 或者 多自提点自提 就把之前输入的 用户信息 自动输入上去\r\n\r\n\t\t\t\tconsole.log({\r\n\t\t\t\t\t'\\n': '=========',\r\n\t\t\t\t\tcalcPeiTypeId: that.calcPeiTypeId,\r\n\t\t\t\t\tpreviousInputUserName: that.previousInputUserName,\r\n\t\t\t\t\tpreviousInputUserPhone: that.previousInputUserPhone\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t(that.calcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian] &&\r\n\t\t\t\t\t\tthat.previousInputUserName &&\r\n\t\t\t\t\t\tthat.previousInputUserPhone &&\r\n\t\t\t\t\t\t!that.shouhuoren &&\r\n\t\t\t\t\t\t!that.haoma) ||\r\n\t\t\t\t\t(that.calcPeiTypeId == peiTypeEnumObj[peiTypeZiti] &&\r\n\t\t\t\t\t\tthat.previousInputUserName &&\r\n\t\t\t\t\t\tthat.previousInputUserPhone &&\r\n\t\t\t\t\t\t!that.shouhuoren &&\r\n\t\t\t\t\t\t!that.haoma)\r\n\t\t\t\t) {\r\n\t\t\t\t\tthat.shouhuoren = that.previousInputUserName;\r\n\t\t\t\t\tthat.haoma = that.previousInputUserPhone;\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t},\r\n\r\n\t\t// 选择缺货情况处理方式\r\n\t\tquehuoItemFn(index) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.quehuoCurr = index;\r\n\t\t\tthat.quehuoIsOpen = false;\r\n\t\t},\r\n\t\t// 打开优惠券的模态框\r\n\t\topenCouponModalFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet temObj = {\r\n\t\t\t\tcoupon: that.coupon\r\n\t\t\t};\r\n\t\t\tthat.temObj = JSON.stringify(temObj);\r\n\t\t\tthat.isShowCouponModal = true;\r\n\t\t},\r\n\t\t// 选择优惠券\r\n\t\tselectCouponFn(coupon) {\r\n\t\t\tlet that = this;\r\n\t\t\t// if(that.price.coupon_sale_money == 0){\r\n\t\t\t// \tuni.showToast({\r\n\t\t\t// \t\ticon:'none',\r\n\t\t\t// \t\ttitle:'已使用商品券进行优惠'\r\n\t\t\t// \t})\r\n\t\t\t// \treturn\r\n\r\n\t\t\t// }\r\n\t\t\t// 改变选中状态\r\n\t\t\tthat.coupon.forEach((item, index) => {\r\n\t\t\t\tif (index == coupon.index) {\r\n\t\t\t\t\tthat.coupon[coupon.index].isSelect = !that.coupon[coupon.index].isSelect;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.coupon[index].isSelect = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// 计算选中数量\r\n\t\t\tlet couponCount = 0;\r\n\t\t\tthat.coupon.forEach(item => {\r\n\t\t\t\tif (item.isSelect) {\r\n\t\t\t\t\tcouponCount++;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.couponCount = couponCount;\r\n\r\n\t\t\t// 设置选中的 券\r\n\r\n\t\t\tlet selectItemArr = that.coupon.filter(item => {\r\n\t\t\t\treturn item.isSelect == true;\r\n\t\t\t});\r\n\t\t\tconsole.log(coupon, '点击的结果', '\\n', selectItemArr, '选出的优惠券', '\\n');\r\n\r\n\t\t\tif (selectItemArr.length > 0) {\r\n\t\t\t\tthat.coupon_user_id = selectItemArr[0].coupon_user_id;\r\n\t\t\t} else {\r\n\t\t\t\tthat.coupon_user_id = 'no';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 关闭优惠券的模态框 (点空白处关闭)\r\n\t\tcloseCouponModalFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { coupon } = JSON.parse(that.temObj);\r\n\t\t\tthat.coupon = coupon;\r\n\t\t\tthat.isShowCouponModal = false;\r\n\t\t},\r\n\t\t// 不使用优惠券 并 关闭模态框(右上角 不使用优惠券)\r\n\t\tnotUseCoupon_cloneFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.coupon_user_id = 'no';\r\n\r\n\t\t\tthat.coupon.forEach(item => {\r\n\t\t\t\titem.isSelect = false;\r\n\t\t\t});\r\n\t\t\tthat.setCouponFn();\r\n\t\t},\r\n\t\t// 确定选择的优惠券\r\n\t\tsetCouponFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isShowCouponModal = false;\r\n\r\n\t\t\tthat.getOrderInfoFn(() => {}, true);\r\n\t\t},\r\n\t\t// 打开商品券模态框\r\n\t\topenGoodsCouponModalFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet temObj = {\r\n\t\t\t\tgoods_coupon: that.goods_coupon\r\n\t\t\t};\r\n\t\t\tthat.temObj = JSON.stringify(temObj);\r\n\t\t\tthat.isShowGoodsCouponModal = true;\r\n\t\t},\r\n\r\n\t\t// 选择商品券\r\n\t\tselectGoodsCouponFn(item, index) {\r\n\t\t\tlet that = this;\r\n\t\t\t// 改变选中状态\r\n\t\t\tthat.goods_coupon[index].isSelect = !that.goods_coupon[index].isSelect;\r\n\r\n\t\t\t// 计算选中数量\r\n\t\t\tlet goodsCouponCount = 0,\r\n\t\t\t\tselectGood_coupon_id = [];\r\n\r\n\t\t\tthat.goods_coupon.forEach(item => {\r\n\t\t\t\tconsole.log(item, '循环商品券数据', '\\n');\r\n\t\t\t\tif (item.isSelect) {\r\n\t\t\t\t\tgoodsCouponCount++;\r\n\t\t\t\t\tselectGood_coupon_id.push(item.id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.goodsCouponCount = goodsCouponCount;\r\n\t\t\tif (selectGood_coupon_id.length > 0) {\r\n\t\t\t\tthat.good_coupon_id = selectGood_coupon_id.join(',');\r\n\t\t\t} else {\r\n\t\t\t\tthat.good_coupon_id = 'no';\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(that.good_coupon_id, '发送给后台的 选中商品券id 字符串', '\\n');\r\n\t\t},\r\n\t\t// 关闭商品券的模态框 (点空白处关闭)\r\n\t\tcloseGoodsCouponModalFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { goods_coupon } = JSON.parse(that.temObj);\r\n\t\t\tthat.goods_coupon = goods_coupon;\r\n\t\t\tthat.isShowGoodsCouponModal = false;\r\n\t\t},\r\n\r\n\t\t// 不使用商品券 并 关闭模态框(右上角 不使用商品券)\r\n\t\tnotUseGoodsCoupon_cloneFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.good_coupon_id = 'no';\r\n\t\t\tthat.goods_coupon.forEach(item => {\r\n\t\t\t\titem.isSelect = false;\r\n\t\t\t});\r\n\t\t\tthat.setGoodsCouponFn();\r\n\t\t},\r\n\t\t// 确定选择的商品券\r\n\t\tsetGoodsCouponFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isShowGoodsCouponModal = false;\r\n\t\t\t// 保存地址\r\n\t\t\tthat.getOrderInfoFn(orderInfo => {}, true);\r\n\t\t},\r\n\r\n\t\t// 切换 是否使余额\r\n\t\tswitchChangeFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.yve > 0) {\r\n\t\t\t\tthis.defaultStatus = e.detail.value;\r\n\t\t\t} else {\r\n\t\t\t\tthis.defaultStatus = false;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '余额不足',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 获取发送模板消息权限 (弹框形式给用户)\r\n\t\tgetTemplateId() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise((resFn, rejFn) => {\r\n\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\ttmplIds: that.templateId,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log('成功', '\\n');\r\n\t\t\t\t\t\tconsole.log(res, '打印发送到后台的结果', '\\n', JSON.stringify(res), '转字符串后', '\\n');\r\n\t\t\t\t\t\tresFn(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\trejFn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 达达配送超时(3分钟超时)后 重新获取 DaDadeliveryNo信息 和 配送费信息\r\n\t\tgetDaDadeliveryNoFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async (resFn, rejFn) => {\r\n\t\t\t\tlet resultObj = {};\r\n\r\n\t\t\t\tif (that.addressIsSet) {\r\n\t\t\t\t\tlet totalWeight = 0;\r\n\t\t\t\t\tthat.selectGoods.forEach(item => {\r\n\t\t\t\t\t\tlet itemWeight = transNumFn(item.weight),\r\n\t\t\t\t\t\t\ttotalWeight = bigPlus(totalWeight, itemWeight);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tlet addressJSON = JSON.stringify({\r\n\t\t\t\t\t\tuser_area: that.addressArea,\r\n\t\t\t\t\t\tuser_address: that.addressText,\r\n\t\t\t\t\t\taddress_jingweidu: that.addressCoordinate,\r\n\t\t\t\t\t\tuser_name: that.addressUserName,\r\n\t\t\t\t\t\tuser_phone: that.addressUserTel\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tlet DaDadeliveryNoResult = await that.$request({\r\n\t\t\t\t\t\turl: '/api/Dada/dada_select_fee_api',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tord_bh: that.postFeeData.order_info,\r\n\t\t\t\t\t\t\tord_price: that.price['订单金额'],\r\n\t\t\t\t\t\t\taddress: addressJSON,\r\n\t\t\t\t\t\t\tweight: totalWeight\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (DaDadeliveryNoResult.statusCode == 200) {\r\n\t\t\t\t\t\tif (DaDadeliveryNoResult.data.code == 200) {\r\n\t\t\t\t\t\t\tconsole.log(DaDadeliveryNoResult.data.data, 'DaDadeliveryNoResult.data.data', '\\n');\r\n\r\n\t\t\t\t\t\t\tif (DaDadeliveryNoResult.data.data.status == 'success') {\r\n\t\t\t\t\t\t\t\tresultObj = {\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\t\t\tdeliveryNo: DaDadeliveryNoResult.data.data.result.deliveryNo,\r\n\t\t\t\t\t\t\t\t\t\tfee: DaDadeliveryNoResult.data.data.result.fee\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmsg: '成功'\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresultObj = {\r\n\t\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\t\tresult: DaDadeliveryNoResult.data.data,\r\n\t\t\t\t\t\t\t\t\tmsg: DaDadeliveryNoResult.data.data.msg\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresultObj = {\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tresult: null,\r\n\t\t\t\t\t\t\t\tmsg: DaDadeliveryNoResult.data.msg\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresultObj = {\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tresult: null,\r\n\t\t\t\t\t\t\tmsg: that.$errorMsg\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresultObj = {\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tresult: null,\r\n\t\t\t\t\t\tmsg: '未选地址'\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresFn(resultObj);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提交订单\r\n\t\tasync payFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.qvZhiFuBtnFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.qvZhiFuBtnFlag = false;\r\n\r\n\t\t\t// 没有结算商品不给结算\r\n\t\t\tif (that.selectGoods.length <= 0) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\ttitle: '没有可结算的商品',\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 到店自提 和 多自提点 需要的 自提人的 名字 手机号\r\n\t\t\tlet userInfoObj = {};\r\n\r\n\t\t\t// 达达 闪送的参数\r\n\t\t\tlet dada_shansongObj = {};\r\n\r\n\t\t\t// 达达  闪送\r\n\t\t\tif (\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeDada] ||\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeShansong]\r\n\t\t\t) {\r\n\t\t\t\t/*\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\tMath.floor(+new Date() / 1000),\r\n\t\t\t\t\t'Math.floor(+new Date() / 1000)',\r\n\t\t\t\t\t'\\n',\r\n\t\t\t\t\tthat.getOrderInfoLastTime,\r\n\t\t\t\t\t'that.getOrderInfoLastTime',\r\n\t\t\t\t\t'\\n',\r\n\t\t\t\t\tMath.floor(+new Date() / 1000) - that.getOrderInfoLastTime,\r\n\t\t\t\t\t'比较',\r\n\t\t\t\t\t'\\n',\r\n\t\t\t\t\tMath.floor(+new Date() / 1000) - that.getOrderInfoLastTime > 30,\r\n\t\t\t\t\t'比较结果',\r\n\t\t\t\t\t'\\n',\r\n\t\t\t\t\tthat.calcPeiTypeId,\r\n\t\t\t\t\t'type的数字'\r\n\t\t\t\t);\r\n\t\t\t\t */\r\n\t\t\t\tif (\r\n\t\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeDada] &&\r\n\t\t\t\t\tMath.floor(+new Date() / 1000) - that.getOrderInfoLastTime > 3 * 60\r\n\t\t\t\t) {\r\n\t\t\t\t\tconsole.log('达达 超时重新获取 达达的参数', '\\n');\r\n\r\n\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\tuni.showLoading({});\r\n\r\n\t\t\t\t\tlet getDaDadeliveryNoResult = await that.getDaDadeliveryNoFn();\r\n\t\t\t\t\t// console.log(getDaDadeliveryNoResult, 'getDaDadeliveryNoResult 结果', '\\n');\r\n\r\n\t\t\t\t\tif (getDaDadeliveryNoResult.type == 'success') {\r\n\t\t\t\t\t\tthat.postFeeData.deliveryNo = getDaDadeliveryNoResult.result.deliveryNo;\r\n\t\t\t\t\t\tthat.postFeeData.fee = getDaDadeliveryNoResult.result.fee;\r\n\t\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: getDaDadeliveryNoResult.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (that.errorMsg.isHas) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: that.errorMsg.msg,\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tdada_shansongObj.order_info = that.postFeeData.order_info;\r\n\t\t\t\tdada_shansongObj.deliveryNo = that.postFeeData.deliveryNo;\r\n\t\t\t\tdada_shansongObj.fee = that.postFeeData.fee;\r\n\t\t\t} else {\r\n\t\t\t\tdada_shansongObj = {};\r\n\t\t\t}\r\n\r\n\t\t\t// 如果 配送方式是 多自提点 需要判断的条件\r\n\t\t\tif (that.calcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]) {\r\n\t\t\t\t// 没有自提列表\r\n\t\t\t\tif (!that.zitidianList.length) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: `自提点列表为空`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 有自提列表 没有 在范围内的自提点\r\n\t\t\t\tif (that.zitidianIsAllNotRange) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: `自提点不在配送范围内`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t//\r\n\t\t\t}\r\n\r\n\t\t\t// 当配送方式是 上门自提 或者是 多自提点 并且 用户没填写手机号 的提示\r\n\t\t\tif (\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeZiti] ||\r\n\t\t\t\tthat.calcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]\r\n\t\t\t) {\r\n\t\t\t\tif (that.shouhuoren.length < 1 || that.shouhuoren.length > 20) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '收货人名字长度是1~20',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!that.regTel(that.haoma)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请检查手机号格式是否正确',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tuserInfoObj.user_name = that.shouhuoren;\r\n\t\t\t\tuserInfoObj.user_phone = that.haoma;\r\n\t\t\t}\r\n\r\n\t\t\t// 需要配送  当前没有地址\r\n\t\t\tif (that.checkIsMustAddress && !that.addressIsSet) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '请选择收货地址'\r\n\t\t\t\t});\r\n\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 商家配送时限制距离\r\n\t\t\tif (peiTypeEnumObj[peiTypeShangjia] == that.calcPeiTypeId) {\r\n\t\t\t\tconsole.log('是商家配送开始判断是否在配送范围内');\r\n\t\t\t\tlet checkRangeResult = await that.checkRangeFn(that.addressCoordinate);\r\n\t\t\t\tif (checkRangeResult.type != 'success') {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: '当前地址不在配送范围内',\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 处理支付信息 =======================================================================================================\r\n\t\t\t// 订单金额 ord_price\r\n\t\t\t// 实付金额 pay_price\r\n\t\t\t// 优惠金额 balance_price\r\n\t\t\tlet ord_price, pay_price, balance_price, pay_type;\r\n\r\n\t\t\tlet dingDanJine = transNumFn(that.price['订单金额']); // 订单金额\r\n\t\t\tlet shiFuJine = transNumFn(that.price['实付金额']); // 实付金额\r\n\t\t\t/*\r\n\t\t\t// 用户开通会员\r\n\t\t\tif (that.vipOptionCardIsSelect) {\r\n\t\t\t\t// 订单金额 + 会员卡金额\r\n\t\t\t\tord_price = bigPlus(dingDanJine, that.vipOptionCardPrice);\r\n\r\n\t\t\t\t// 实付金额 + 会员卡金额\r\n\t\t\t\tshiFuJine = bigPlus(shiFuJine, that.vipOptionCardPrice);\r\n\r\n\t\t\t\t// 用户不开通会员\r\n\t\t\t} else {\r\n\t\t\t\t// 订单金额\r\n\t\t\t\tord_price = dingDanJine;\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\t// shiFuJine = bigPlus(shiFuJine, that.vipOptionCardPrice);\r\n\t\t\tord_price = dingDanJine;\r\n\r\n\t\t\t// console.log('订单金额ord_price', ord_price, typeof ord_price);\r\n\r\n\t\t\tif (that.defaultStatus) {\r\n\t\t\t\tbalance_price = that.yve >= shiFuJine ? shiFuJine : that.yve;\r\n\t\t\t\tpay_price = shiFuJine;\r\n\t\t\t\tpay_type = that.yve >= shiFuJine ? 1 : that.payFlag;\r\n\t\t\t} else {\r\n\t\t\t\tbalance_price = 0;\r\n\t\t\t\tpay_price = shiFuJine;\r\n\t\t\t\tpay_type = that.payFlag;\r\n\t\t\t}\r\n\r\n\t\t\tlet coupon_user_id;\r\n\t\t\tif (that.coupon_user_id == 'no') {\r\n\t\t\t\tcoupon_user_id = 0;\r\n\t\t\t} else if (that.coupon_user_id == 0) {\r\n\t\t\t\tcoupon_user_id = 0;\r\n\t\t\t} else {\r\n\t\t\t\tcoupon_user_id = that.coupon_user_id;\r\n\t\t\t}\r\n\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tif (that.templateId.length > 0) {\r\n\t\t\t\tlet templateId = await that.getTemplateId();\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// 快递传1  商家配送自提 立即送出1  预约2\r\n\t\t\tlet isSendImmediately = (() => {\r\n\t\t\t\tif (that.isOpenyvyueFun) {\r\n\t\t\t\t\t// 是否开启预约配送\r\n\t\t\t\t\tif (that.calcPeiTypeId == peiTypeEnumObj[peiTypeKuaidi]) {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (that.isTomorrowStr) {\r\n\t\t\t\t\t\t\treturn 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (that.hoursIndex == 0) {\r\n\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn 2;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\r\n\t\t\t// 传给后台的配送时间\r\n\t\t\tlet peisongTime = (() => {\r\n\t\t\t\tlet newDate = new Date();\r\n\r\n\t\t\t\tif (that.isTomorrowStr) {\r\n\t\t\t\t\t// 明天\r\n\t\t\t\t\tnewDate = newDate.setDate(newDate.getDate() + 1);\r\n\t\t\t\t\tnewDate = new Date(newDate);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet year = newDate.getFullYear();\r\n\r\n\t\t\t\tlet month = num2zeroStr(newDate.getMonth() + 1);\r\n\t\t\t\tlet getdate = num2zeroStr(newDate.getDate());\r\n\r\n\t\t\t\t// let hour = that.calcPickerHoursArr[that.hoursIndex].textStr.replace('~', '-');\r\n\t\t\t\treturn `${year}-${month}-${getdate} ${that.pickerSelectHour}`;\r\n\t\t\t})();\r\n\r\n\t\t\tlet addressId = (() => {\r\n\t\t\t\tif (that.checkIsMustAddress) {\r\n\t\t\t\t\treturn that.addressId;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.calcPeiTypeId == peiTypeEnumObj[peiTypeDuozitidian]) {\r\n\t\t\t\t\t\treturn assertObject(that.zitidianList[that.zitidianActive]).id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t// 未开启小程序微信支付 此时 只能用余额可以购买当前商品\r\n\t\t\tif (!that.calcWeixinPayMiniprogram) {\r\n\t\t\t\t// 用户使用余额支付并且 余额足够支付当前订单的总价格\r\n\t\t\t\tlet { result: checkUseYveResult, msg: checkUseYveMsg } = that.checkUseYve();\r\n\t\t\t\tif (checkUseYveResult) {\r\n\t\t\t\t\tpay_type = payTypeEnumObj[payTypeyve];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: checkUseYveMsg,\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t// that.toBackFn()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t// 未开启app微信支付 和 app支付宝支付 此时 只能用余额可以购买当前商品\r\n\t\t\tif (!that.calcWeixinPayAndroidApp && !that.calcZhifubaoPayAndroidApp) {\r\n\t\t\t\t// 用户使用余额支付并且 余额足够支付当前订单的总价格\r\n\t\t\t\tlet { result: checkUseYveResult, msg: checkUseYveMsg } = that.checkUseYve();\r\n\t\t\t\tif (checkUseYveResult) {\r\n\t\t\t\t\tpay_type = payTypeEnumObj[payTypeyve];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: checkUseYveMsg,\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t// that.toBackFn()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (that.globalBrowserIsWx) {\r\n\t\t\t\tif (!that.calcWeixinofficialaccount) {\r\n\t\t\t\t\t// 用户使用余额支付并且 余额足够支付当前订单的总价格\r\n\t\t\t\t\tlet { result: checkUseYveResult, msg: checkUseYveMsg } = that.checkUseYve();\r\n\t\t\t\t\tif (checkUseYveResult) {\r\n\t\t\t\t\t\tpay_type = payTypeEnumObj[payTypeyve];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\t\ttitle: checkUseYveMsg,\r\n\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\t// that.toBackFn()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!that.calcWeixinPayH5) {\r\n\t\t\t\t\t// 用户使用余额支付并且 余额足够支付当前订单的总价格\r\n\t\t\t\t\tlet { result: checkUseYveResult, msg: checkUseYveMsg } = that.checkUseYve();\r\n\t\t\t\t\tif (checkUseYveResult) {\r\n\t\t\t\t\t\tpay_type = payTypeEnumObj[payTypeyve];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\t\ttitle: checkUseYveMsg,\r\n\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\t// that.toBackFn()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\tlet objs = {\r\n\t\t\t\t...dada_shansongObj,\r\n\t\t\t\tcart_id: JSON.stringify(\r\n\t\t\t\t\tthat.selectGoods.map(item => ({\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\tnum: item.number\r\n\t\t\t\t\t}))\r\n\t\t\t\t),\r\n\t\t\t\tprom_type: 'common',\r\n\t\t\t\tfrom: 'cart',\r\n\t\t\t\taddress_id: addressId,\r\n\r\n\t\t\t\tquehuo: that.quehuo[that.quehuoCurr].id,\r\n\r\n\t\t\t\tcomment: that.textarea,\r\n\r\n\t\t\t\t// 订单金额\r\n\t\t\t\tord_price,\r\n\r\n\t\t\t\t// 实付金额\r\n\t\t\t\tpay_price,\r\n\r\n\t\t\t\t// 余额抵扣\r\n\t\t\t\tbalance_price,\r\n\r\n\t\t\t\tpay_type,\r\n\r\n\t\t\t\tpost_type: that.calcPeiTypeId,\r\n\r\n\t\t\t\t...userInfoObj,\r\n\r\n\t\t\t\tgoods_coupon: that.good_coupon_id,\r\n\t\t\t\tcoupon_user_id,\r\n\t\t\t\tpeisong_time: peisongTime,\r\n\t\t\t\tis_send_immediately: isSendImmediately,\r\n\t\t\t\tvip_id: that.vipOptionCardIsSelect ? that.vipOptionCardId : 0\r\n\t\t\t};\r\n\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tobjs.pay_platform = 'wxMiniProgram';\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tobjs.pay_platform = 'APP';\r\n\t\t\t// #endif\r\n\r\n\t\t\tthat.hideAllFn();\r\n\t\t\tuni.showLoading({});\r\n\r\n\t\t\tconsole.log('生成订单 /api/order/make_order 接口的参数', objs);\r\n\t\t\t/*\r\n\t\t\treturn false;\r\n\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\treturn false;\r\n\t\t\t */\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: '/api/order/make_order',\r\n\t\t\t\tdata: objs\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log('生成订单 /api/order/make_order 接口的返回的数据', result);\r\n\r\n\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\tif (result.data.data && result.data.data.ord_id) {\r\n\t\t\t\t\t\tthat.selectGoods.forEach(item => {\r\n\t\t\t\t\t\t\tuni.$emit('goodsAddCartEd', {\r\n\t\t\t\t\t\t\t\tgoodsId: item.goodsId,\r\n\t\t\t\t\t\t\t\tselectedNum: 0\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconsole.log('navigateToFn__after', '\\n');\r\n\t\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\t\t\turl: `/pages/order-state/zhifu?ord_id=${result.data.data.ord_id}`,\r\n\t\t\t\t\t\t\ttype: 'redirectTo'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\t\ttitle: result.data.msg,\r\n\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t\t\t\tthat.hideAllFn();\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\t\ttitle: result.data.msg,\r\n\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthat.hideAllFn();\r\n\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: that.$errorMsg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthat.qvZhiFuBtnFlag = true;\r\n\t\t},\r\n\t\t// 选择会员卡\r\n\t\tselectVipOptionCardFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.vipOptionCardIsSelect = e;\r\n\t\t\tthat.defaultStatus = false;\r\n\t\t\tthat.setDefaultPayTypeFn();\r\n\t\t\tthat.getOrderInfoFn(() => {}, true);\r\n\t\t},\r\n\t\t// ↓↓预约配送组件 相关方法=============================================\r\n\t\tpickerViewChangeFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { daysIndex, hoursIndex } = e;\r\n\t\t\tthat.daysIndex = daysIndex;\r\n\t\t\tthat.hoursIndex = hoursIndex;\r\n\t\t},\r\n\t\tpickerViewClickFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.cancelIndexDays = that.daysIndex; // 选择前的天数索引\r\n\t\t\tthat.cancelIndexhours = that.hoursIndex; // 选择前的小时索引\r\n\t\t},\r\n\t\tpickerViewCancelFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.daysIndex = that.cancelIndexDays; // 选择前的天数索引\r\n\t\t\tthat.hoursIndex = that.cancelIndexhours; // 选择前的小时索引\r\n\t\t},\r\n\t\tpickerViewColumnchangeFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { keyStr, value } = e;\r\n\t\t\tthat[keyStr] = value;\r\n\t\t},\r\n\t\tisTomorrowStrFn(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { isTomorrowStr, pickerSelectHour } = e;\r\n\t\t\tthat.isTomorrowStr = isTomorrowStr;\r\n\t\t\tthat.pickerSelectHour = pickerSelectHour;\r\n\t\t},\r\n\t\t// ↓↓ 多自提点 相关方法=============================================\r\n\t\t// 设置 自提点列表 模态框 的隐藏 显示 状态\r\n\t\tsetduozitiModalFlagFn(bool) {\r\n\t\t\tthis.duozitiModalFlag = bool;\r\n\t\t},\r\n\t\t// 选择自提点\r\n\t\tselectZitiFn(index) {\r\n\t\t\tthis.zitidianActive = index;\r\n\t\t\tthis.setduozitiModalFlagFn(false);\r\n\t\t},\r\n\t\t/*\r\n\t\t\t@description 是否可以使用余额支付 当前平台没有对应的第三方支付 只能使用余额支付的情况下 根据当前订单要付的钱数来提示对应的内容\r\n\t\t\t@return { Object }\r\n\t\t\t\t当result 为 真时表示可以使用余额支付\r\n\t\t\t\t当result 为 假时表示不能支付购买弹出对应的msg消息\r\n\t\t*/\r\n\t\tcheckUseYve() {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\tlet shiFuJine = transNumFn(that.price['实付金额']); // 实付金额\r\n\r\n\t\t\t// 用户使用余额支付并且 余额足够支付当前订单的总价格\r\n\t\t\tif (that.defaultStatus && shiFuJine <= that.yve) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tresult: true\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tlet title;\r\n\t\t\t\t// 用户使用余额支付 但是余额不够\r\n\t\t\t\tif (that.defaultStatus) {\r\n\t\t\t\t\ttitle = '余额不足';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 不用余额支付 余额不够\r\n\t\t\t\t\tif (shiFuJine > that.yve) {\r\n\t\t\t\t\t\ttitle = '余额不足';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 不用余额支付余额够 客户想用微信支付\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\ttitle = '平台未开通小程序微信支付';\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\ttitle = '平台未开通APP微信支付和APP支付宝支付';\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tif (that.globalBrowserIsWx) {\r\n\t\t\t\t\t\t\ttitle = '平台未开通公众号微信支付';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttitle = '平台未开通h5微信支付';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tresult: false,\r\n\t\t\t\t\tmsg: title\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// ↑↑↑↑↑methods 结束\r\n\tcomputed: {\r\n\t\t/*\r\n\t\t\t返回 Id 值\r\n\t\t\t\t0 商家配送\r\n\t\t\t\t1 自提\r\n\t\t\t\t2 快递\r\n\t\t\t\t3 达达\r\n\t\t\t\t4 闪送\r\n\t\t\t\t5 多自提点\r\n\t\t\t\t400 表示配送方式的数组是空\r\n\t\t*/\r\n\t\tcalcPeiTypeId() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.peiTypeArr.length) {\r\n\t\t\t\treturn that.peiTypeArr[that.peiTypeActive].id;\r\n\t\t\t} else {\r\n\t\t\t\treturn 400;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 计算费用\r\n\t\tcalcPostFee() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.calcPeiTypeId === peiTypeEnumObj[peiTypeDada]) {\r\n\t\t\t\t// 达达\r\n\t\t\t} else if (that.calcPeiTypeId === peiTypeEnumObj[peiTypeShansong]) {\r\n\t\t\t\t// 闪送\r\n\t\t\t}\r\n\t\t\treturn 1;\r\n\t\t},\r\n\t\t// 根据条件 判断 文本域 显示隐藏\r\n\t\tcalcShowtextarea() {\r\n\t\t\tif (this.isShowLoading) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (this.isShowCouponModal == false && this.isShowGoodsCouponModal == false) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t// 是否免配送\r\n\t\tmianpeisong() {\r\n\t\t\tif (this.price['配送费'] && this.price['配送费'] - 0 > 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// 是否免快递\r\n\t\tmiankuaidi() {\r\n\t\t\tif (this.price['运费'] && this.price['运费'] - 0 > 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// 展示 出的 couponMsg\r\n\t\tcouponMsg() {\r\n\t\t\tif (this.price['优惠券'] - 0 == 0) {\r\n\t\t\t\tif (this.pageCont == 1) {\r\n\t\t\t\t\tif (this.price['商品券'] - 0 > 0) {\r\n\t\t\t\t\t\treturn `已使用商品券进行优惠`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn `无可用优惠券`;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.coupon_user_id == 0) {\r\n\t\t\t\t\t\treturn `无可用优惠券`;\r\n\t\t\t\t\t} else if (that.coupon_user_id == 'no') {\r\n\t\t\t\t\t\tlet len = this.coupon.filter(item => {\r\n\t\t\t\t\t\t\treturn item.is_use == true;\r\n\t\t\t\t\t\t}).length;\r\n\r\n\t\t\t\t\t\tif (len == 0) {\r\n\t\t\t\t\t\t\tif (this.price['商品券'] - 0 > 0) {\r\n\t\t\t\t\t\t\t\treturn `已使用商品券进行优惠`;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn `无可用优惠券`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn `${len}张优惠券可用`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.price['商品券'] - 0 > 0) {\r\n\t\t\t\t\t\t\treturn `已使用商品券进行优惠`;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn `无可用优惠券`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn `已优惠￥${this.price['优惠券']}`;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 展示 出的 goodsCouponMsg\r\n\t\tgoodsCouponMsg() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.price['商品券'] - 0 != 0) {\r\n\t\t\t\treturn `已优惠￥${that.price['商品券']}`;\r\n\t\t\t} else {\r\n\t\t\t\tlet hasUseCount = that.goods_coupon.length;\r\n\t\t\t\treturn `${hasUseCount}张商品券可用`;\r\n\t\t\t}\r\n\t\t},\r\n\t\tprice_hy_yh() {\r\n\t\t\treturn transNumFn(this.price['会员优惠']);\r\n\t\t},\r\n\t\tprice_goods_spyh() {\r\n\t\t\treturn transNumFn(this.price['商品优惠']);\r\n\t\t},\r\n\t\tprice_sfje() {\r\n\t\t\treturn transNumFn(this.price['实付金额']);\r\n\t\t},\r\n\r\n\t\t// 返回 待支付 合计的钱数\r\n\t\thejiPrice() {\r\n\t\t\tlet that = this;\r\n\t\t\t// let shiFuJine = transNumFn(that.price['实付金额']); // 实付金额\r\n\t\t\tlet allShiFuJine = transNumFn(that.price['实付金额']); // 实付金额\r\n\r\n\t\t\t// allShiFuJine 实付金额 + 会员卡金额\r\n\t\t\t// let allShiFuJine = that.vipOptionCardIsSelect ? bigPlus(shiFuJine, that.vipOptionCardPrice) : shiFuJine;\r\n\r\n\t\t\tif (that.defaultStatus) {\r\n\t\t\t\treturn that.yve >= allShiFuJine ? 0 : bigMinus(allShiFuJine, that.yve);\r\n\t\t\t} else {\r\n\t\t\t\treturn allShiFuJine;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/*\r\n\t\t\t@description\r\n\t\t\t\t是否展示用户的地址组件\r\n\t\t\t@return <Boolean>\r\n\t\t\t\t配送方式是 达达 闪送 商家配送 快递\r\n\t\t\t\t\t返回 true 显示\r\n\t\t\t\t配送方式是 到店自提 多自提点\r\n\t\t\t\t\t返回 false 隐藏\r\n\t    */\r\n\t\tisShowAddress() {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\tlet peiTypeList = {\r\n\t\t\t\t[peiTypeEnumObj[peiTypeShangjia]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeShansong]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeDada]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeKuaidi]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeZiti]]: false,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeDuozitidian]]: false\r\n\t\t\t};\r\n\t\t\treturn peiTypeList[that.calcPeiTypeId];\r\n\t\t},\r\n\t\t/*\r\n\t\t\t@description\r\n\t\t\t\t自提点列表是否全部 不在范围内\r\n\t\t\t@return <Boolean>\r\n\t\t\t\t返回 false 表示 有可用的自提点在范围内\r\n\t\t\t\t返回 true 表示 没有可用的自提点在范围内\r\n\t\t*/\r\n\t\tzitidianIsAllNotRange() {\r\n\t\t\treturn this.zitidianList.every(i => !i.isRange);\r\n\t\t},\r\n\t\tcurrentzitidianInfo() {\r\n\t\t\treturn this.zitidianList[this.zitidianActive];\r\n\t\t},\r\n\t\t/*\r\n\t\t  @description\r\n\t\t\t检查 当前选择的配送方式 是否必须需要配送地址\r\n\t\t  @return <Boolean>\r\n\t\t\ttrue 表示当前选择的配送方式 必须填配送地址\r\n\t\t\tfalse 表示当前选择的配送方式 可以不填配送地址\r\n\t\t*/\r\n\t\tcheckIsMustAddress() {\r\n\t\t\tlet enumObj = {\r\n\t\t\t\t[peiTypeEnumObj[peiTypeShangjia]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeKuaidi]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeDada]]: true,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeShansong]]: true,\r\n\r\n\t\t\t\t[peiTypeEnumObj[peiTypeZiti]]: false,\r\n\t\t\t\t[peiTypeEnumObj[peiTypeDuozitidian]]: false\r\n\t\t\t};\r\n\t\t\treturn enumObj[this.calcPeiTypeId];\r\n\t\t}\r\n\t} // ↑↑↑↑↑ computed 结束\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.page {\r\n\toverflow: hidden;\r\n\tmin-height: 100vh;\r\n\tbackground: $bg-grey-color;\r\n}\r\n.input-beizhu-block {\r\n\tposition: relative;\r\n\t@mixin size {\r\n\t\twidth: 370rpx;\r\n\t\theight: 64rpx;\r\n\t}\r\n\t@include size;\r\n\t.show-style {\r\n\t\t@include size;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\ttext-align: right;\r\n\t\tfont-size: 26rpx;\r\n\t\tline-height: 64rpx;\r\n\t}\r\n\t.input-beizhu {\r\n\t\tz-index: 2;\r\n\t}\r\n\t.input-beizhu-text-view {\r\n\t\tz-index: 1;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t}\r\n}\r\n\r\n.goods-list-block {\r\n\tpadding: 10rpx 0;\r\n\r\n\t.title {\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder-radius: 20rpx 20rpx 0 0;\r\n\t\tbackground: #ffffff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 88rpx;\r\n\r\n\t\t.h3 {\r\n\t\t\t// margin-left: 20rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\n.goods-list {\r\n\tborder-radius: 0 0 20rpx 20rpx;\r\n\tpadding: 0 20rpx;\r\n\tbackground: #ffffff;\r\n\r\n\t&.order-info-line-wrap {\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\t.line-block:nth-child(1) {\r\n\t\t\tborder-top: none;\r\n\t\t}\r\n\t}\r\n\r\n\t.item {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 10rpx 0;\r\n\t\theight: 200rpx;\r\n\t\tborder-top: 1px solid #f1f1f1;\r\n\r\n\t\t&:last-child {\r\n\t\t}\r\n\r\n\t\t.item-image-block {\r\n\t\t\t@include flex-center;\r\n\t\t\tmargin: 0 20rpx;\r\n\t\t\twidth: 156rpx;\r\n\t\t\theight: 100%;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 150rpx;\r\n\t\t\t\theight: 150rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.item-description-block {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t// justify-content: space-between;\r\n\t\t\tflex: 1;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.item-name,\r\n\t\t\t.item-description {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\r\n\t\t\t.item-name {\r\n\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tmargin-top: 0.2em;\r\n\t\t\t\tline-height: 1.6em;\r\n\t\t\t\t.name- {\r\n\t\t\t\t\tmax-width: 12em;\r\n\t\t\t\t\t@include text-ellipsis;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tag-wrap {\r\n\t\t\t\tfont-size: 0;\r\n\t\t\t\tmargin: 6rpx 0;\r\n\t\t\t}\r\n\r\n\t\t\t.item-description {\r\n\t\t\t\tcolor: $grey2-color;\r\n\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\tline-height: 1.4em;\r\n\r\n\t\t\t\t&.errorText {\r\n\t\t\t\t\t@include text-ellipsis-rows;\r\n\t\t\t\t\tline-height: 1.2;\r\n\t\t\t\t}\r\n\t\t\t\t.description- {\r\n\t\t\t\t\tmax-width: 16em;\r\n\t\t\t\t\t@include text-ellipsis;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.price-info-block {\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tcolor: $grey2-color;\r\n\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\tline-height: 1.4em;\r\n\t\t\t\t.red-price {\r\n\t\t\t\t\tcolor: $red-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.textarea {\r\n\t\tmargin: 0.5em;\r\n\t\tpadding: 0.5em;\r\n\t\ttext-indent: 1em;\r\n\t\tfont-size: 26rpx;\r\n\t\tbackground: #f7f7f7;\r\n\t\theight: 6em;\r\n\t\twidth: 90%;\r\n\t\tz-index: 1;\r\n\t\tcolor: #374050;\r\n\t}\r\n}\r\n\r\n.line-block {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\theight: 90rpx;\r\n\tborder-top: 1px solid #f1f1f1;\r\n\r\n\t.h6,\r\n\t.h5 {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: $grey1-color;\r\n\t}\r\n\r\n\t.h5 {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.h6 {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcolor: $grey1-color;\r\n\r\n\t\t.price {\r\n\t\t\tmargin-left: 0.5em;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t\t&.errorMsg {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding-left: 40rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\t}\r\n\t.inp-block {\r\n\t\twidth: 80%;\r\n\t\tinput {\r\n\t\t\tpadding-left: 0.2em;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t\tbackground: #f7f7f7;\r\n\t\t\tpadding: 0.4em 1em;\r\n\t\t}\r\n\t}\r\n\t.tip-red-text {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: $red-color;\r\n\t}\r\n}\r\n.line-cont-block {\r\n\t.line-cont {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 90rpx;\r\n\t\tborder-top: 1px solid #f1f1f1;\r\n\t\tfont-size: 22rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n}\r\n.deg90 {\r\n\ttransform: rotate(90deg);\r\n}\r\n.useRedCard-block {\r\n\t.useRedCard-cont {\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 100rpx;\r\n\t\tborder-top: 1px solid #f1f1f1;\r\n\t\talign-items: center;\r\n\t\t.card-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 45rpx;\r\n\t\t\t.card-name {\r\n\t\t\t\tmargin-right: 0.5em;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: $grey1-color;\r\n\t\t\t}\r\n\t\t\t.youhui {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: $grey2-color;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.time {\r\n\t\t\tfont-size: 23rpx;\r\n\t\t\tcolor: $grey2-color;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 支付类型 */\r\n.pay-type {\r\n\t// margin: 20rpx 0;\r\n\tpadding: 10rpx 0 20rpx;\r\n\r\n\t.cont-block {\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground: #ffffff;\r\n\r\n\t\t.h3 {\r\n\t\t\tline-height: 88rpx;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\r\n\t\t.line-block-list {\r\n\t\t\t.line-block:first-child {\r\n\t\t\t\tborder-top: none;\r\n\t\t\t}\r\n\r\n\t\t\t.line-block {\r\n\t\t\t\tborder-top: 1px solid #f8f8f8;\r\n\r\n\t\t\t\t.content-wrap {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\tpadding: 0;\r\n\r\n\t\t\t\t\t.left-block {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.image-block {\r\n\t\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\t\t\t\ttext-indent: 0.5em;\r\n\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.couponModal {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tposition: fixed;\r\n\tz-index: 700;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tbackground: rgba(0, 0, 0, 0.3);\r\n\r\n\t.top {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.bottom {\r\n\t\theight: 1100rpx;\r\n\t\tbackground: #f5f5f5;\r\n\t\tborder-radius: 20rpx 20rpx 0 0;\r\n\t\tposition: relative;\r\n\r\n\t\t.icon-block {\r\n\t\t\tdisplay: inline-flex;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 1em;\r\n\t\t\ttop: 1em;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\t// color: $red-color;\r\n\t\t\tcolor: #bbbdc0;\r\n\t\t\tborder: 1px solid #bbbdc0;\r\n\t\t\tborder-radius: 100rpx;\r\n\t\t\tpadding-left: 0.5em;\r\n\t\t\tpadding-right: 0.5em;\r\n\t\t}\r\n\r\n\t\t.title-h4 {\r\n\t\t\ttext-align: left;\r\n\t\t\tpadding-left: 24rpx;\r\n\r\n\t\t\tcolor: $grey1-color;\r\n\t\t\tline-height: 110rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\tpadding: 0 34rpx;\r\n\t\t\t.title-h5 {\r\n\t\t\t\tcolor: $grey2-color;\r\n\t\t\t\tline-height: 55rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.card-wrap {\r\n\t\t\t\theight: 880rpx;\r\n\t\t\t\t.card-block {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\toverflow-x: hidden;\r\n\t\t\t\t\t@include hide-scrollbar;\r\n\t\t\t\t\tpadding-bottom: 10rpx;\r\n\t\t\t\t\t.item {\r\n\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\twidth: 682rpx;\r\n\t\t\t\t\t\theight: 261rpx;\r\n\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tbox-shadow: 0 3rpx 3rpx #f0f1f3;\r\n\r\n\t\t\t\t\t\t&::before,\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t\tbackground: $bg-grey-color;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&::before {\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\ttransform: translate3d(-50%, -50%, 0);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\ttransform: translate3d(50%, -50%, 0);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.isSelectBlock {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\twidth: 54rpx;\r\n\t\t\t\t\t\t\theight: 54rpx;\r\n\t\t\t\t\t\t\tborder-radius: 0 10rpx 0 0;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t\t.gb-sanjiao {\r\n\t\t\t\t\t\t\t\tborder-top: 28rpx solid #fb4e44;\r\n\t\t\t\t\t\t\t\tborder-right: 28rpx solid #fb4e44;\r\n\t\t\t\t\t\t\t\tborder-bottom: 28rpx solid transparent;\r\n\t\t\t\t\t\t\t\tborder-left: 28rpx solid transparent;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.checkmarkempty {\r\n\t\t\t\t\t\t\t\tfont-size: 0;\r\n\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\t\tright: 10%;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.goods-top-block {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\t\t\t\t.goods-image-block {\r\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t\t\t\twidth: 130rpx;\r\n\t\t\t\t\t\t\t\theight: 130rpx;\r\n\r\n\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.goods-description {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\twidth: 510rpx;\r\n\t\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\t\tborder-bottom: 1px dashed #efefef;\r\n\t\t\t\t\t\t\t\tmargin-left: 1em;\r\n\t\t\t\t\t\t\t\tmargin-right: 1em;\r\n\r\n\t\t\t\t\t\t\t\t.goods-name {\r\n\t\t\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\t\t\tline-height: 55rpx;\r\n\t\t\t\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\t\t\t\t\t\tmax-width: 15em;\r\n\t\t\t\t\t\t\t\t\t@include text-ellipsis;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.price-wrap {\r\n\t\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t\t\t\t@include shop-price-block-lr;\r\n\r\n\t\t\t\t\t\t\t\t\t.use-btn {\r\n\t\t\t\t\t\t\t\t\t\t@include flex-center;\r\n\t\t\t\t\t\t\t\t\t\twidth: 140rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 56rpx;\r\n\t\t\t\t\t\t\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\t\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\t\t\t\t\tborder-radius: 10000rpx;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.goods-bottom-block {\r\n\t\t\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: $grey2-color;\r\n\r\n\t\t\t\t\t\t\t.card-name {\r\n\t\t\t\t\t\t\t\tline-height: 45rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.time-block {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.nav-bar-block {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t\theight: 110rpx;\r\n\t\t\tbackground: #ffffff;\r\n\r\n\t\t\t.bar-text {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: $grey1-color;\r\n\t\t\t}\r\n\t\t\t.bar-btn {\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tfont-size: 35rpx;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.bottom-commit-order-bar {\r\n\t&::after {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\theight: 100rpx;\r\n\t}\r\n\t.order-btn-block {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tposition: fixed;\r\n\t\tz-index: 300;\r\n\t\tbottom: 0;\r\n\t\tpadding: 0 24rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tbox-shadow: 0px 0px 12rpx #d8d8d8;\r\n\r\n\t\t.price-all {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: flex-end;\r\n\t\t\tfont-size: 23rpx;\r\n\t\t\tcolor: $grey2-color;\r\n\t\t\t@include shop-price-block-lr;\r\n\r\n\t\t\t.shop-price-block-lr {\r\n\t\t\t\ttext-indent: 0.3em;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-btn {\r\n\t\t\t@include btn-green;\r\n\t\t\t@include flex-center;\r\n\t\t\twidth: 240rpx;\r\n\t\t\theight: 88rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502582211\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}