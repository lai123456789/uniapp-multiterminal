{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?2e41","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?0733","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?185c","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?614e","uni-app:///pages/cart/cart.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?688e","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/cart/cart.vue?f889"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","console","dec","components","isActiveIcon","cartControlBtn","invalidGoodsWrap","discountsModal","data","inputDomFlag","currentAddressText","isShowLoading","likeGoodsTitle","likeGoodsList","commitBtnTemplateList","loseGoodsList","loseGoodsTitle","loseGoodsText","cartGoodsList","discountsModalFlag","discountsModalTitle","discountsModalList","bottomIsShowDiscounts","bottomDiscountsTitle","bottomDiscountsTotalPrice","bottomDiscountsList","bottomTotalPrice","bottomTotalNum","inc","sendAjaxFlag","commitBtnState","isShowGoodsSpec","goodsSpecSelectItemList","goodsSpecRowsList","currentGoodsName","currentGoodsDescription","currentGoodsImages","currentGoodsId","currentGoodsSelectedNum","loginBoxFlag","cardNumber","onHide","that","onUnload","uni","onLoad","goodsId","item","onShow","currentGoods","result","showCancel","title","success","onPullDownRefresh","Promise","getLikeGoodsResult","getMyCartDataResult","icon","methods","getMyCartDataFn","url","resultObject","filter","map","loseGoodsObject","cartId","goodsImage","goodsName","loseReasonText","topLeftTagImage","goodsPrice","vipStylePrice","sellerItemInfo","sellerItemInfoDetail","sellerItemInfoDispatch","sellerItemInfoPrinf","sellerItemInfoDiscounts","sellerCartGoodsList","cartNum","oneboy","isActive","goodsSpecName","discountsMsg","goodsTypeIsMiaosha","storeCount","addBtnStopFlag","tagList","bubbleTips","isShowBubbleTips","isInvalid","sellerId","sellerName","sellerImage","isShowDispatch","dispatchTime","dispatchTitle","isShowToHomeBtn","sellerIsShowDiscounts","sellerDiscountsTitle","sellerDiscountsTotalPrice","sellerDiscountsList","name","price","sellerTotalPrice","sellerTotalNum","bottomTotalData","bottomDiscounts","bottomPrinf","resFn","type","msg","getLikeGoodsFn","isHot","isNew","goodsDescription","goodsTag","isVipPrice","vipPrice","linePrice","selectedNum","isSpec","tagImg","gysMdId","gysMdName","cartNumberChangeFn","method","din","cart_id","resultResultObject","resultInfo","cartGoodsNumChangeResult","dataInfoObject","dataResultObject","dataResultInfoObject","dataResultInfoDiscountsObject","dataResultInfoDispatchObject","dataResultInfoPrinfObject","changeGoodsIsActive","changeGoodsCartNum","changeGoodsAddBtnStopFlag","changeGoodsDiscountsMsg","delCartGoods","loading","is_lose","list","suppId","isEmpty","bottomTotalObject","changeGoodsActive","cart_ids","cart_val","loadFn","onShowFn","renderCartListFn","setDiscountsModalFlagFn","bottomDiscountsClickFn","controlBtnClickFn","e","changeSeller","changeGoods","cartNumberChangeResult","delCartGoodsFn","delCartGoodsResult","zeroCartIdList","zeroGoodsIdList","cloneCartGoodsList","i","cartGoodsItem","cloneSellerCartGoodsList","setNumInpFn","delSelectGoods","cartIdList","bubbleTipsClickFn","toSellerFn","isTab","toGoodsDetailPageFn","clearInvalidGoodsFn","emitGetCartListFn","goodsActiveIconClickFn","goods","changeGoodsActiveResult","sellerActiveIconClickFn","sellerGoodsList","allSelectFn","isHasInvalid","temCartIdList","paySellerBtnClickFn","toPayFn","setGoodsSpec","setSpecFilterItemActiveFn","specFilterIndex","it","setPageAddressFn","latitude","longitude","addressTextResult","setLocalAddressFn","userLocationInfo","locationInfo","computed","tabCurrent","calcCartIsEmpty","goodsCont","calcSellerIsActive","calcSellerHasActive","allSelectBtnActiveStatus","notActive","len","active"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChGA;AAAA;AAAA;AAAA;AAAguB,CAAgB,qvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC0bpvB;AAKA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA;AACAC;AAEA;EAAA;EACAC;AAAA,eAEA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MACAC;MAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACA1B;MAEA2B;MAAA;;MAEAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACAC;IACAzC;IACA;IACA;MACAyC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;IACA;IACAD;IACAA;MACA;QAAAE;MACAJ;QACA;UACAK;QACA;MACA;IACA;IACAL;EACA;EACAM;IACA;;IAEA;IACAJ;IACAA;MACAF;IACA;;IAEA;IACAE;IACAA;MACAF;IACA;;IAEA;IACAE;IACAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAE;gBAEAG;kBAAA;gBAAA;gBAEAP;gBACAE;gBAEA3C;gBAEAyC;gBACAA;gBACAA;;gBAEAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAQ;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAR;gBACAE;kBACAO;kBAAA;kBACAC;kBACAC;oBACA;oBACApD;kBACA;gBACA;gBAAA,iCACA;cAAA;gBAGAyC;gBACAA;gBAEAzC;gBAEAyC;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;IAAA;IAEAA;IACA;IACA;MACAA;IACA;EACA;EAEAY;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAZ;cAAA,KACAA;gBAAA;gBAAA;cAAA;cACAE;cAAA,kCACA;YAAA;cAEAF;cAAA,KACAA;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACAa,aACAb,uBACAA,uBACA;YAAA;cAAA;cAAA;cAHAc;cAAAC;cAKA;gBAAA,wBACAD;gBACAd;gBACAA;gBAAA,wBAeAe,4BAZA1C,qDACAC,uDACAC,qDACAH,qEACAI,qDAEAI,qEACAC,mEACAC,6EACAC,iEACAC,2DACAC;gBAGAe;gBACAA;gBACAA;gBACAA;gBAEAA;gBAEAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBAEAA;gBACAE;cACA;gBACAA;kBACAc;kBACAN;gBACA;cACA;cAAA;cAAA;YAAA;cAAA;cAAA,OAEAV;YAAA;cAAAc;cACA;gBAAA,yBACAA;gBACAd;gBACAA;cACA;gBACAE;kBACAc;kBACAN;gBACA;cACA;cACAV;cACAE;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;EACAe;IACA;IACA;IACAC;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAlB;oBACAmB;kBACA;gBAAA;kBAFAX;kBAGA;oBACA;sBACAY,2DAEA;sBACAhD,uEACAiD;wBAAA;sBAAA,GACAC;wBAAA;sBAAA,IAEA;sBACAC,qEACAlD;wBACA;0BACAmD;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BACAC;0BACAC;wBACA;sBACA,IACAxD,wCACAC,sCAEA;sBACAC,iEACA6C;wBAAA;sBAAA,GACAC;wBACA;0BACAS;0BACAC;0BACAC;0BACAC;0BACAC;0BACAC;4BACA;8BACAC;8BACAC;4BACA;8BACAd;8BACApB;8BACAiC;8BACAE;8BACAd;8BACAG;8BACAF;8BACAc;8BACAC;8BACAZ;8BACAC;8BACAY;8BACAC;8BACAL;8BACAM;8BACAC,iDACAxB;gCAAA;8BAAA,GACAC;gCAAA;8BAAA;8BACAwB;8BACAC;8BACAC;4BACA;0BACA;wBACA;0BACAC;0BACAC;0BACAC;0BACAC;0BACAC;0BACAC;0BACAC;0BAEAC;0BACAC;0BACAC;0BACAC;4BACA;8BACAC;8BACAC;4BACA;0BACA;0BACAC;0BACAC;0BAEA3B;wBACA;sBACA,IAEA;sBACA4B,qEACAC,uEACAC;sBAEAC;wBACAC;wBACAC;wBACA7D;0BACAnC;0BACAC;0BACAC;0BACAH;0BAEAI;0BAEAI;0BACAC;0BACAC;0BACAC;4BACA;8BACA6E;8BACAC;4BACA;0BACA;0BACA7E;0BACAC;wBACA;sBACA;oBACA;sBACAkF;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;kBACA;oBACA2D;sBACAC;sBACAC;sBACA7D;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA8D;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAtE;oBACAmB;kBACA;gBAAA;kBAFAX;kBAIA;oBACA;sBACAY;sBAEAjD;wBACA;0BACAiC;0BAAA;0BACAqB;0BAAA;0BACA8C;0BAAA;0BACAC;0BAAA;0BACA9C;0BAAA;0BACA+C;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACA9C;0BAAA;0BACA+C;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;wBACA;sBACA;;sBAEAf;wBACAC;wBACAC;wBACA7D;0BACAtC;0BACAC;wBACA;sBACA;oBACA;sBACAgG;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;kBACA;oBACA2D;sBACAC;sBACAC;sBACA7D;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;IACA2E;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAnF;oBACAoF;oBACAjE;oBACArD;sBACAuH;sBACAC;oBACA;kBACA;gBAAA;kBAPA9E;kBAQA;oBACA;sBACA;sBACA2D;wBACAC;sBACA;oBACA;sBACA;sBACA;sBAEAhD,2DACAmE,oEACAC,gEACAvD,wEACAE,0EACAD,kEAEA;sBACA8B,sEACAC,uEACAC;sBAEAC;wBACAC;wBACAC;wBACA7D;0BACA8C;0BACAC;0BAEAC;0BACAC;0BACAC;0BACAC;4BACA;8BACAC;8BACAC;4BACA;0BACA;0BACAC;0BACAC;0BAEAnF;0BACAC;0BACAC;0BACAC;4BACA;8BACA6E;8BACAC;4BACA;0BACA;0BACA7E;0BACAC;wBACA;sBACA;oBACA;sBACAwG,uEAEAC,0EAEAC,8EAEAC,wEAEAC,0FAEAC,wFAEAC,kFAEA/B,qEAEAC,yEAEAC;sBAEAC;wBACAC;wBACAC;wBACA7D;0BACAwF;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;0BACAC;0BAAA;;0BAEA3C;0BACAC;0BACAC;0BACAC;4BACA;8BACAC;8BACAC;4BACA;0BACA;0BAEAN;0BACAD;0BAEAQ;0BACAC;0BAEA/E;0BACAC;0BACAL;0BACAC;0BACAC;0BACAC;4BACA;8BACA6E;8BACAC;4BACA;0BACA;wBACA;sBACA;oBACA;sBACAM;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;kBACA;oBACA2D;sBACAC;sBACAC;sBACA7D;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA4F;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACApG;oBACAqG;oBACAjB;oBACAjE;oBACArD;sBACAwH;sBACAgB;oBACA;kBACA;gBAAA;kBARA9F;kBASA;oBACA;sBACAY;sBAEAmF;wBACA;0BACAtE;0BACAC;0BACAC;wBAEA;0BACAqE;0BACAC;0BACAnD;0BACAC;0BACAO;0BACAC;0BAEAP;0BACAC;0BACAC;0BACAC;4BACA;8BACAC;8BACAC;4BACA;0BACA;wBACA;sBACA;sBAEA6C,kEACAxC,iEACAD;sBAEAE;wBACAC;wBACAC;wBACA7D;0BACA+F;0BACA3H;0BACAC;0BACAC;0BACAC;4BACA;8BACA6E;8BACAC;4BACA;0BACA;0BACA7E;0BACAC;wBACA;sBACA;oBACA;sBACAkF;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;kBACA;oBACA2D;sBACAC;sBACAC;sBACA7D;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAmG;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACA3G;oBACAoF;oBACAjE;oBACArD;sBACA8I;sBACAC;oBACA;kBACA;gBAAA;kBAPArG;kBAQA;oBACA;sBACAY;sBACA+C;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;sBACA2D;wBACAC;wBACAC;wBACA7D;sBACA;oBACA;kBACA;oBACA2D;sBACAC;sBACAC;sBACA7D;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAsG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA9G;gBAAA;gBAAA,OAEAA;cAAA;gBAAAc;gBACA;kBAAA,yBACAA;kBACAd;kBACAA;gBACA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBACA;kBACAV;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA+G;MACA;MACA;QACA/G;MACA;QACA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA;MACA;MACA;QACAA;MACA;MAEAA;MACAA;MACAE;MACAA;IACA;IAEA;IACA8G;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAhH;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;cAAA;gBAAA;gBAAA,OAEAA;cAAA;gBAAAe;gBACA;gBACA;kBAAA,yBAeAA,4BAbA1C,sDACAC,wDACAC,sDACAH,sEAEAI,sDAEAI,sEACAC,oEACAC,8EACAC,kEACAC,4DACAC;kBAGAe;kBACAA;kBACAA;kBACAA;kBAEAA;kBAEAA;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;gBACA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBACA;kBACAV;gBACA;gBACA;gBACAA;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAiH;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACAlH;MACA;QACAA;QACAA;MACA;QACAA;QACAA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA;IACAmH;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnH,eAEA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBAAA,KAGAnB;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAEAA;gBAEAqH;gBACAC;gBAAA,MACAlD;kBAAA;kBAAA;gBAAA;gBACAlE;kBACAQ;kBACAC;oBAAA;oBACA;sBACApD;sBAEAyC;oBACA;sBACAzC;oBACA;kBACA;gBACA;gBACAyC;gBAAA,mCACA;cAAA;gBAEAA;gBACAE;gBAAA;gBAAA,OAEAF;cAAA;gBAAAuH;gBACAhK;gBAEA;kBAAA,wBAwBAgK,+BAtBAvB,iEACAC,+DACAC,6EACAC,yEAEA3C,qEACAC,mEACAC,6EACAC,iEAEAJ,yDACAD,qDAEAQ,2DACAC,uDAEA/E,2DACAC,uDACAL,qEACAC,mEACAC,6EACAC;kBAGAuI;kBACAA;kBACAA;kBACAA;kBAEAD;kBACAA;kBACAA;kBACAA;kBAEAA;kBACAA;kBAEAA;kBACAA;kBAEArH;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;kBAEAA;kBACA;oBACAE;sBACAc;sBACAN;oBACA;kBACA;kBACAR;oBACAE;oBACA0E;kBACA;kBACA9E;kBACAA;oBACAA;kBACA;;kBAEA;kBACAA;gBACA;kBACAA;kBAEAE;oBACAQ;oBACAC;sBAAA;sBACA;wBACApD;wBACAyC;sBACA;wBACAsH;wBACA/J;sBACA;oBACA;kBACA;gBACA;kBACAyC;kBACAE;oBACAc;oBACAN;kBACA;kBAAA,yBAqBA6G,+BAlBAjE,uDACAC,2DAEAC,uEACAC,qEACAC,+EACAC,mEAEAG,6DACAC,yDAEAnF,uEACAC,qEACAC,+EACAC,mEAEAC,6DACAC,yDAGA;kBACAqI;;kBAEA;kBACAD;kBACAA;kBAEAA;kBACAA;kBACAA;kBACAA;kBAEAA;kBACAA;;kBAEA;kBACArH;kBACAA;kBACAA;kBACAA;kBAEAA;kBACAA;gBACA;kBACAA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBAEAV;gBAEAzC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAiK;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxH;gBAAA;gBAAA,OACAA;cAAA;gBAAAyH;gBACAlK;gBACA;kBAAA,wBASAkK,2BAPAlB,mCACA3H,qEACAC,mEACAC,6EACAC,iEACAC,2DACAC,uDAGA;kBACAyI;kBACAC;kBAEAC,8DAEA;kBACAA;oBACAC;sBACA;wBACAF;sBACA;oBACA;kBACA;kBAEAC;oBACArB;sBACA;wBACA;0BACAuB;wBACA;0BACA;4BACA;4BAEAC;8BAAA;4BAAA;4BACA;8BAAA;4BAAA;4BACA3F;8BAAA;4BAAA;4BACA0F;0BACA;4BACA;8BAAA;4BAAA;4BACAA;0BACA;wBACA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;wBACAA;sBACA;oBACA;kBACA;kBAEA9H;kBAEAA;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;kBAEA2H;oBAAA;sBAAAvH;sBAAA0E;oBAAA;kBAAA;kBACA;kBACA9E;gBACA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAsH;MACA;MACA;MACA;QACA9H;UACAQ;UACAC;YACAX;YACA;cACAA;gBAAAmB;cAAA;YACA;cACAnB;gBACAA;cACA;YACA;UACA;QACA;QACA;MACA;MAEA;MACA;MAEA;MACA;QACAE;UACAQ;UACAC;YAAA;YACA;cACApD;cACAyC;YACA;cACAzC;cACAyC;cACAA;gBACAA;cACA;YACA;UACA;QACA;QAEA;MACA;MACAA;IACA;IACA;IACAiI;MACA;MACA;MACA;QACA/H;UACAQ;UACAC;YACAyG;cAAAjG;YAAA;UACA;QACA;QACA;MACA;MAEA;MACAnB;QACA;UAAA;QAAA;UAAA;QAAA;QACAkI;MACA;MACA;QACAhI;UACAc;UACAN;QACA;QACA;MACA;MAEAR;QACAQ;QACAC;UAAA;UACA;YACApD;YACAyC;UACA;YACAzC;UACA;QACA;MACA;IACA;IACA;IACA4K;MACA;MACAnI;MACAzC,YACA,oBACAyC,0FACA;IACA;IAEA;IACAoI;MACA;MACA;MACA;QACApI;UACAqI;UACAlH;QACA;QACA;MACA;MAEAnB;QACAmB;MACA;IACA;IACA;IACAmH;MACA;QACA;MACA;MACA,2BACA,gDACA;MACA;QACAnH;MACA;IACA;IACA;IACAoH;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAzI,eACA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBAGAuH;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAAA,KAEA1I;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAEAA;gBAEAA;gBACAE;gBAAA;gBAAA,OAEAF;cAAA;gBAAA2I;gBACA;kBACA3I;gBACA;kBACAA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBACAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA4I;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA5I,eAEA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBAAA,KAGAnB;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAEAA;gBAEAA;gBACAE;gBACA2I;gBAGA;kBAAA;gBAAA;kBACAtG;kBACA2F;oBAAA;kBAAA;oBAAA;kBAAA;gBACA;kBACA3F;oBAAA;kBAAA;kBACA2F;oBAAA;kBAAA;gBACA;gBAAA;gBAAA,OAEAlI;cAAA;gBAAA2I;gBACA;kBACA3I;gBACA;kBACAA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBACAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA8I;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA9I,eAEA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBAAA,KAGAnB;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAEAA;gBAAA,KAEAA;kBAAA;kBAAA;gBAAA;gBAAA,mCACA;cAAA;gBAIA+I;gBAGA/I;kBACA6H;oBACA;sBACAkB;oBACA;kBACA;gBACA;gBAEA;kBACAxG;kBACA2F;oBACA;oBACAlI;sBACA6H;wBACA;0BACAmB;wBACA;sBACA;oBACA;oBACA;kBACA;gBACA;kBACAzG;kBACA2F;oBACA;oBAEAlI;sBACA6H;wBACAmB;sBACA;oBACA;oBACA;kBACA;gBACA;gBAEAzL;gBAEAyC;gBACAE;gBAAA;gBAAA,OAEAF;cAAA;gBAAA2I;gBACA;kBACA3I;gBACA;kBACAA;kBACAE;oBACAc;oBACAN;kBACA;gBACA;gBACAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAiJ;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAjJ,eACA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBAOAnB;kBACAmB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA+H;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAlJ,gBACA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAE;kBACAQ;kBACAC;oBACAyG;sBAAAjG;oBAAA;kBACA;gBACA;gBAAA,mCACA;cAAA;gBASA;kBACAnB;oBACAmB;kBACA;gBACA;kBACAnB;oBACAmB;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA;IACAgI;MACA;MACAnJ;MACA;QACAA;MACA;IACA;IACA;IACAoJ;MACA;MACA;QAAAC;MAEA9L;MAEA;MAEA+B;QACA;UACAe;YACA;cACAiJ;YACA;cACAA;YACA;UACA;QACA;MACA;MACAtJ;IACA;IACA;IACA;IACA;IACAuJ;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAvJ;gBAAA;gBAAA,OACAA;kBACAwJ;kBACAC;gBACA;cAAA;gBAHAC;gBAIAnM;gBACA;kBACAyC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA2J;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA3J;gBAAA;gBAAA,OAEAA;cAAA;gBAAA4J;gBAAA;gBACArM;gBAAA,MAEAqM;kBAAA;kBAAA;gBAAA;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA5J;cAAA;gBAAA6J;gBACAtM;gBAEA;kBACAyC;oBACAmB;kBACA;gBACA;kBACAjB;oBACAsJ;oBACAC;kBACA;kBACA;gBACA;gBAAA,mCAEA;cAAA;gBAAA,KAEAG;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA5J;cAAA;gBAAA6J;gBACAtM;gBAAA,MAEAsM;kBAAA;kBAAA;gBAAA;gBACA3J;kBACAsJ;kBACAC;gBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAzJ;kBACAmB;gBACA;gBAAA,mCACA;cAAA;gBAAA;gBAAA;cAAA;gBAGAnB;kBACAmB;gBACA;gBAAA,mCACA;cAAA;gBAAA;gBAAA;cAAA;gBAIAjB;kBACAc;kBACAN;gBACA;gBAAA,mCACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA2CA;EACA;EAAA;EACAoJ;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACAhK;UACAiK;QACA;QACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;UAAA;QAAA;UACA;QACA;UACA;YAAA;UAAA;QACA;MACA;IACA;IACA;IACAC;MACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACAC;QACAC;QACAtH;MAEA;QACAsH;QACAzC;UACA;YACA7E;UACA;UACA;YACAuH;UACA;YACAF;UACA;QACA;MACA;MACA;QACA;MACA;MAEA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChkEA;AAAA;AAAA;AAAA;AAA24C,CAAgB,w2CAAG,EAAC,C;;;;;;;;;;;ACA/5C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f00adf4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.calcImageSrc(\"/cart/dad8562db8b24ad0471d20e3872007b_03.png\")\n  var m1 = _vm.calcCartIsEmpty ? _vm.calcImageSrc(\"/cart/null-cart.png\") : null\n  var l1 = _vm.__map(\n    _vm.cartGoodsList,\n    function (cartGoodsItem, cartGoodsIndex) {\n      var $orig = _vm.__get_orig(cartGoodsItem)\n      var m2 =\n        cartGoodsItem.sellerCartGoodsList.length && _vm.gongyingshang\n          ? _vm.calcSellerIsActive(cartGoodsItem)\n          : null\n      var l0 = cartGoodsItem.sellerCartGoodsList.length\n        ? _vm.__map(\n            cartGoodsItem.sellerCartGoodsList,\n            function (sellerGoodsItem, sellerGoodsIndex) {\n              var $orig = _vm.__get_orig(sellerGoodsItem)\n              var f0 = sellerGoodsItem.vipStylePrice\n                ? _vm._f(\"filterTransNum\")(sellerGoodsItem.goodsPrice)\n                : null\n              var f1 = !sellerGoodsItem.vipStylePrice\n                ? _vm._f(\"filterTransNum\")(sellerGoodsItem.goodsPrice)\n                : null\n              return {\n                $orig: $orig,\n                f0: f0,\n                f1: f1,\n              }\n            }\n          )\n        : null\n      var m3 =\n        cartGoodsItem.sellerCartGoodsList.length && _vm.gongyingshang\n          ? _vm.calcSellerHasActive(cartGoodsItem)\n          : null\n      var f2 =\n        cartGoodsItem.sellerCartGoodsList.length && _vm.gongyingshang && m3\n          ? _vm._f(\"filterTransNum\")(cartGoodsItem.sellerTotalPrice)\n          : null\n      return {\n        $orig: $orig,\n        m2: m2,\n        l0: l0,\n        m3: m3,\n        f2: f2,\n      }\n    }\n  )\n  var f3 = _vm.isLogin ? _vm._f(\"filterTransNum\")(_vm.bottomTotalPrice) : null\n  var f4 =\n    _vm.isLogin && _vm.bottomIsShowDiscounts\n      ? _vm._f(\"filterTransNum\")(_vm.bottomDiscountsTotalPrice)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        l1: l1,\n        f3: f3,\n        f4: f4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"","<!-- 全改 -->\r\n<template>\r\n\t<view class=\"page\">\r\n\t\t<loading-css :is-show=\"isShowLoading\"></loading-css>\r\n\t\t<!-- 配送地址↓↓ -->\r\n\t\t<view class=\"user-address\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<view class=\"address-box\">\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tstyle=\"width:38rpx;height:46rpx\"\r\n\t\t\t\t\t\t:src=\"calcImageSrc('/cart/dad8562db8b24ad0471d20e3872007b_03.png')\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t\t<text>{{ currentAddressText ? currentAddressText : '未获取位置信息' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text v-if=\"isLogin && !calcCartIsEmpty\" @click=\"delSelectGoods\">删除</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"go-home-block\" v-if=\"calcCartIsEmpty\">\r\n\t\t\t<image class=\"bg-null-cart\" :src=\"calcImageSrc('/cart/null-cart.png')\"></image>\r\n\t\t\t<text>购物车空空如也</text>\r\n\t\t\t<view\r\n\t\t\t\tv-if=\"isLogin\"\r\n\t\t\t\tclass=\"navigator\"\r\n\t\t\t\t@click=\"navigateToFn({ isTab: true, url: `/pages/index/index` })\"\r\n\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t>\r\n\t\t\t\t去首页\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\t\tv-else\r\n\t\t\t\tclass=\"navigator\"\r\n\t\t\t\t@click=\"closeGlobalLoginFn(true)\"\r\n\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t>\r\n\t\t\t\t去登录\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"cart-content-block content-wrap\">\r\n\t\t\t<block v-for=\"(cartGoodsItem, cartGoodsIndex) in cartGoodsList\" :key=\"cartGoodsItem.sellerId\">\r\n\t\t\t\t<view class=\"seller-item-cart\" v-if=\"cartGoodsItem.sellerCartGoodsList.length\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"seller-name-block\"\r\n\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\tcartGoodsItem.isShowDispatch ? 'show-dispatch-info' : '',\r\n\t\t\t\t\t\t\t!gongyingshang ? 'not-gongyingshang' : ''\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tv-if=\"gongyingshang\"\r\n\t\t\t\t\t\t\tclass=\"is-select flex-center\"\r\n\t\t\t\t\t\t\t@click=\"$onceClick(sellerActiveIconClickFn, cartGoodsIndex)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<is-active-icon :is-active=\"calcSellerIsActive(cartGoodsItem)\"></is-active-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"seller-name-content\" :class=\"!gongyingshang ? 'not-gongyingshang' : ''\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tv-if=\"gongyingshang\"\r\n\t\t\t\t\t\t\t\tclass=\"top-seller-info\"\r\n\t\t\t\t\t\t\t\t@click=\"toSellerFn(cartGoodsItem.sellerId)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\tv-if=\"cartGoodsItem.sellerImage\"\r\n\t\t\t\t\t\t\t\t\tclass=\"seller-image\"\r\n\t\t\t\t\t\t\t\t\t:src=\"cartGoodsItem.sellerImage\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t<view class=\"seller-text text-ellipsis\">{{ cartGoodsItem.sellerName }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont icon-arrow-right-copy-copy\" style=\"width: 40rpx;\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"bottom-dispatch-info\"\r\n\t\t\t\t\t\t\t\t:class=\"[cartGoodsItem.isShowDispatch ? 'show-dispatch-info' : '']\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"dispatch-title-time\" :class=\"[!gongyingshang ? 'not-gongyingshang' : '']\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"dispatch-title\" :style=\"{ color: configInfo.web_site_color }\">\r\n\t\t\t\t\t\t\t\t\t\t{{ cartGoodsItem.dispatchTitle }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"cartGoodsItem.dispatchTitle && cartGoodsItem.dispatchTime\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dispatch-shu-dom\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"dispatch-time\">{{ cartGoodsItem.dispatchTime }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\tv-if=\"cartGoodsItem.isShowToHomeBtn\"\r\n\t\t\t\t\t\t\t\t\tclass=\"to-home-btn\"\r\n\t\t\t\t\t\t\t\t\t@click=\"toSellerFn(cartGoodsItem.sellerId)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<view class=\"btn-text\">去凑单</view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-arrow-right-copy-copy\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: 40rpx; font-size: 26rpx;\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"seller-goods-list\">\r\n\t\t\t\t\t\t<block\r\n\t\t\t\t\t\t\tv-for=\"(sellerGoodsItem, sellerGoodsIndex) in cartGoodsItem.sellerCartGoodsList\"\r\n\t\t\t\t\t\t\t:key=\"sellerGoodsItem.cartId\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"seller-goods-item\"\r\n\t\t\t\t\t\t\t\t:class=\"[sellerGoodsItem.discountsMsg ? 'has-discounts' : '']\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"top-goods-info\">\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"is-select-block flex-center\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"$onceClick(goodsActiveIconClickFn, cartGoodsIndex, sellerGoodsIndex)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"sellerGoodsItem.isInvalid\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"goods-state-text text-ellipsis border-radius\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t失效\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<is-active-icon v-else :is-active=\"sellerGoodsItem.isActive\"></is-active-icon>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"goods-image-wrap-block\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[sellerGoodsItem.isInvalid ? 'invalid' : '']\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t$onceClick(\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoGoodsDetailPageFn,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.isInvalid,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.goodsTypeIsMiaosha,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.goodsId\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tag-img-wrap\" v-if=\"sellerGoodsItem.topLeftTagImage\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"image-size\" :src=\"sellerGoodsItem.topLeftTagImage\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<img-bg-css :src=\"sellerGoodsItem.goodsImage\"></img-bg-css>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"goods-info-block\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[sellerGoodsItem.isInvalid ? 'invalid' : '']\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t$onceClick(\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoGoodsDetailPageFn,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.isInvalid,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.goodsTypeIsMiaosha,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsellerGoodsItem.goodsId\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-name text-ellipsis\">{{ sellerGoodsItem.goodsName }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-description_spec-key-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-description-text text-ellipsis\" v-if=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t轩尧槟榔芋400g轩尧槟榔\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"goods-spec-key-name-text text-ellipsis\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"sellerGoodsItem.goodsSpecName\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ sellerGoodsItem.goodsSpecName }}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-tag-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-tag-wrap\" v-if=\"sellerGoodsItem.tagList.length\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"goods-tag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(tagItem, tagIndex) in sellerGoodsItem.tagList\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"tagIndex\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ tagItem }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"bottom-price-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"sellerGoodsItem.vipStylePrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"vip-price-wrap\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"height: 26rpx; font-size: 0;\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<vip-price>{{ sellerGoodsItem.goodsPrice | filterTransNum }}</vip-price>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view v-else class=\"price-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"price-icon\">¥</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"price-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ sellerGoodsItem.goodsPrice | filterTransNum }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!sellerGoodsItem.isInvalid\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"control-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"catchTouchMove\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"control-btn-block flex-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$onceClick(controlBtnClickFn, dec, cartGoodsIndex, sellerGoodsIndex)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cart-control-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbtn-type=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:is-disable=\"sellerGoodsItem.cartNum <= 1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></cart-control-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"inputDomFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"input-dom\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"setNumInpFn($event, cartGoodsIndex, sellerGoodsIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"sellerGoodsItem.cartNum\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"control-btn-block flex-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$onceClick(controlBtnClickFn, inc, cartGoodsIndex, sellerGoodsIndex)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cart-control-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbtn-type=\"plus\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:is-disable=\"sellerGoodsItem.addBtnStopFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t></cart-control-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"sellerGoodsItem.bubbleTips && sellerGoodsItem.isShowBubbleTips\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bubble-tips border-radius\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"bubbleTipsClickFn(cartGoodsIndex, sellerGoodsIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"tips-text\">{{ sellerGoodsItem.bubbleTips }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"bottom-goods-discounts-block\" v-if=\"sellerGoodsItem.discountsMsg\">\r\n\t\t\t\t\t\t\t\t\t<!-- :style=\"{ borderColor: hexToRgba(configInfo.web_site_color, 0.2) }\" -->\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"view-after-dom\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{ borderColor: 'rgba(255, 97, 40, 0.18)' }\"\r\n\t\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"discounts-tips\" :style=\"{ borderColor: 'rgba(255, 97, 40, 0.18)' }\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"discounts-tips-icon\">优惠</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"discounts-tips-text text-ellipsis\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ sellerGoodsItem.discountsMsg }}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t\t<!-- :class=\"[cartGoodsItem.sellerIsShowDiscounts ? 'seller-discounts' : '']\" -->\r\n\t\t\t\t\t\t<view v-if=\"gongyingshang\" class=\"seller-item-commit-btn-block content-wrap\">\r\n\t\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"seller-discounts-info\"\r\n\t\t\t\t\t\t\t\tv-if=\"cartGoodsItem.sellerIsShowDiscounts\"\r\n\t\t\t\t\t\t\t\t@click=\"sellerDiscountsClickFn(cartGoodsIndex)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"discounts-total-price\">\r\n\t\t\t\t\t\t\t\t\t已减:¥{{ cartGoodsItem.sellerDiscountsTotalPrice | filterTransNum }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"discounts-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"discounts-title red-price\">优惠明细</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"discounts-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"iconfont icon-icon_gantanhaozhong red-price\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t-->\r\n\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"seller-commit-btn border-radius\"\r\n\t\t\t\t\t\t\t\tv-if=\"calcSellerHasActive(cartGoodsItem)\"\r\n\t\t\t\t\t\t\t\t@click=\"paySellerBtnClickFn(cartGoodsItem)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"left-price-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"price-icon\">¥</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"price-num\">{{ cartGoodsItem.sellerTotalPrice | filterTransNum }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"right-text-block\" :style=\"{ background: configInfo.goods_cart_bgcolor }\">\r\n\t\t\t\t\t\t\t\t\t去结算({{ cartGoodsItem.sellerTotalNum }})\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"seller-commit-btn border-radius\"\r\n\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\tstyle=\"background: #f4f5f7; color: #bcbdc1;\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"right-text-block\" style=\"padding: 0 30rpx\">结算(0)</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\r\n\t\t<!-- 失效商品 -->\r\n\t\t<invalid-goods-wrap\r\n\t\t\tv-if=\"loseGoodsList.length\"\r\n\t\t\t:loseGoodsList=\"loseGoodsList\"\r\n\t\t\t:loseGoodsTitle=\"loseGoodsTitle\"\r\n\t\t\t:loseGoodsText=\"loseGoodsText\"\r\n\t\t\t@clearInvalidGoodsFn=\"clearInvalidGoodsFn\"\r\n\t\t></invalid-goods-wrap>\r\n\t\t<block v-if=\"likeGoodsList.length > 0\">\r\n\t\t\t<view class=\"like-goods-list-bar\">\r\n\t\t\t\t<view class=\"bar-title\">\r\n\t\t\t\t\t<view class=\"after-dom\">\r\n\t\t\t\t\t\t<view class=\"icon-O\"></view>\r\n\t\t\t\t\t\t<view class=\"icon-I\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"before-dom\">\r\n\t\t\t\t\t\t<view class=\"icon-O\"></view>\r\n\t\t\t\t\t\t<view class=\"icon-I\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t{{ likeGoodsTitle }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"bottom-shop-list\">\r\n\t\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t\t<view class=\"list-goods-item-div\" v-for=\"(item, index) in likeGoodsList\" :key=\"index\">\r\n\t\t\t\t\t\t<list-goods-item\r\n\t\t\t\t\t\t\t:goods-id=\"item.goodsId\"\r\n\t\t\t\t\t\t\t:goods-image=\"item.goodsImage\"\r\n\t\t\t\t\t\t\t:is-hot=\"item.isHot\"\r\n\t\t\t\t\t\t\t:is-new=\"item.isNew\"\r\n\t\t\t\t\t\t\t:goods-name=\"item.goodsName\"\r\n\t\t\t\t\t\t\t:goods-description=\"item.goodsDescription\"\r\n\t\t\t\t\t\t\t:goods-tag=\"item.goodsTag\"\r\n\t\t\t\t\t\t\t:is-vip-price=\"item.isVipPrice\"\r\n\t\t\t\t\t\t\t:goods-price=\"item.goodsPrice\"\r\n\t\t\t\t\t\t\t:vip-price=\"item.vipPrice\"\r\n\t\t\t\t\t\t\t:line-price=\"item.linePrice\"\r\n\t\t\t\t\t\t\t:selected-num=\"item.selectedNum\"\r\n\t\t\t\t\t\t\t:is-spec=\"item.isSpec\"\r\n\t\t\t\t\t\t\t:tag-img=\"item.tagImg\"\r\n\t\t\t\t\t\t\t:gysMdId=\"item.gysMdId\"\r\n\t\t\t\t\t\t\t:gysMdName=\"item.gysMdName\"\r\n\t\t\t\t\t\t\tpage=\"gouwuche\"\r\n\t\t\t\t\t\t\tref=\"listGoodsItem\"\r\n\t\t\t\t\t\t\t@emitGetCartListFn=\"emitGetCartListFn\"\r\n\t\t\t\t\t\t></list-goods-item>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view style=\"height: 96rpx;\" v-if=\"isLogin\"></view>\r\n\t\t<view class=\"order-btn-block\" v-if=\"isLogin\" :style=\"{ bottom: isiPhoneX ? '142rpx' : '112rpx' }\">\r\n\t\t\t<view class=\"isAll-btn\" @click=\"$onceClick(allSelectFn)\">\r\n\t\t\t\t<uni-icons\r\n\t\t\t\t\tv-if=\"allSelectBtnActiveStatus\"\r\n\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\tsize=\"20\"\r\n\t\t\t\t\ttype=\"checkbox-filled\"\r\n\t\t\t\t></uni-icons>\r\n\t\t\t\t<uni-icons v-else color=\"#c7c7c7\" size=\"20\" type=\"circle\"></uni-icons>\r\n\t\t\t\t<text class=\"text\">全选</text>\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\t\tclass=\"price-all\"\r\n\t\t\t\t:class=\"[bottomIsShowDiscounts ? '' : 'show-bottom-discounts']\"\r\n\t\t\t\t@click=\"bottomDiscountsClickFn\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"top-price-title\">\r\n\t\t\t\t\t<view class=\"bottom-price-text\">不含运费 合计:</view>\r\n\t\t\t\t\t<view class=\"bar-price-block\">\r\n\t\t\t\t\t\t<view class=\"price-icon red-price\">¥</view>\r\n\t\t\t\t\t\t<view class=\"price-text red-price\">{{ bottomTotalPrice | filterTransNum }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom-discounts\" v-if=\"bottomIsShowDiscounts\">\r\n\t\t\t\t\t<view class=\"discounts-total-price\">已减: ¥{{ bottomDiscountsTotalPrice | filterTransNum }}</view>\r\n\t\t\t\t\t<view class=\"discounts-info red-price\">\r\n\t\t\t\t\t\t<view class=\"discounts-title\">优惠明细</view>\r\n\t\t\t\t\t\t<view class=\"discounts-icon\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"iconfont icon-arrow-right-copy-copy red-price\"\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 24rpx;\"\r\n\t\t\t\t\t\t\t\t:style=\"{ transform: `rotate(${discountsModalFlag ? 90 : -90}deg)` }\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t<!-- <view class=\"iconfont icon-icon_gantanhaozhong red-price\"></view> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view\r\n\t\t\t\tv-if=\"bottomTotalNum\"\r\n\t\t\t\tclass=\"order-btn\"\r\n\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t:style=\"{ background: configInfo.goods_cart_bgcolor, opacity: commitBtnState ? 0.8 : 1 }\"\r\n\t\t\t\t@click=\"$onceClick(toPayFn)\"\r\n\t\t\t>\r\n\t\t\t\t结算({{ bottomTotalNum }})\r\n\t\t\t</view>\r\n\r\n\t\t\t<view\r\n\t\t\t\tv-else\r\n\t\t\t\tclass=\"order-btn\"\r\n\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\tstyle=\"background: #f4f5f7; color: #bcbdc1\"\r\n\t\t\t>\r\n\t\t\t\t结算({{ bottomTotalNum }})\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<discounts-modal\r\n\t\t\t:discountsModalFlag=\"discountsModalFlag\"\r\n\t\t\t:discountsModalTitle=\"discountsModalTitle\"\r\n\t\t\t:discountsModalList=\"discountsModalList\"\r\n\t\t\t@setDiscountsModalFlagFn=\"setDiscountsModalFlagFn\"\r\n\t\t></discounts-modal>\r\n\r\n\t\t<goods-spec\r\n\t\t\t:is-show=\"isShowGoodsSpec\"\r\n\t\t\t:goods-spec-rows-list=\"goodsSpecRowsList\"\r\n\t\t\t:goods-spec-select-item-list=\"goodsSpecSelectItemList\"\r\n\t\t\t:goods-name=\"currentGoodsName\"\r\n\t\t\t:goods-description=\"currentGoodsDescription\"\r\n\t\t\t:goods-images=\"currentGoodsImages\"\r\n\t\t\t:goods-id=\"currentGoodsId\"\r\n\t\t\t:selected-num=\"currentGoodsSelectedNum\"\r\n\t\t\tpage=\"gouwuche\"\r\n\t\t\t@setGoodsSpec=\"setGoodsSpec\"\r\n\t\t\t@setSpecFilterItemActiveFn=\"setSpecFilterItemActiveFn\"\r\n\t\t\t@emitGetCartListFn=\"emitGetCartListFn\"\r\n\t\t></goods-spec>\r\n\r\n\t\t<!-- ↓↓↓ 登录框 -->\r\n\t\t<login-fn :is-show-login=\"loginBoxFlag\" @loginSuccessCallback=\"onShowFn\" @close=\"closeGlobalLoginFn\"></login-fn>\r\n\r\n\t\t<view class=\"hans-tabbar\">\r\n\t\t\t<view class=\"hans-tabbar-height\" :class=\"[isiPhoneX ? 'isiPhoneXClass' : '']\"></view>\r\n\t\t\t<view class=\"hans-tabbar-fixde\" :class=\"[isiPhoneX ? 'isiPhoneXClass' : '']\">\r\n\t\t\t\t<hans-tabbar :cardNumber=\"cardNumber\" :list=\"MenuList\" :tab-current=\"tabCurrent\"></hans-tabbar>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport isActiveIcon from '@/pages/cart/cart-components/is-active-icon.vue';\r\nimport cartControlBtn from '@/pages/cart/cart-components/cart-control-btn.vue';\r\nimport invalidGoodsWrap from '@/pages/cart/cart-components/invalid-goods-wrap.vue';\r\nimport discountsModal from '@/pages/cart/cart-components/discounts-modal.vue';\r\nimport { success, error, delCartGoodsTypeCartId, bindMobileTips } from '@/tools/const.js';\r\n\r\nimport {\r\n\tcheckTypeFn,\r\n\tassertObject,\r\n\tassertArray,\r\n\tassertNumber,\r\n\ttoDoubleNumFn,\r\n\ttransNumFn,\r\n\tcloneFn,\r\n\taddSpecFilterItemActAttrFn,\r\n\tbigMinus,\r\n\tbigTimes,\r\n\tbigPlus\r\n} from '@/tools/tools';\r\n\r\nlet windowTop = uni.getSystemInfoSync().windowTop;\r\nconsole.log('windowTop', windowTop);\r\n\r\nconst inc = 'inc', // 增加\r\n\tdec = 'dec'; // 减少\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tisActiveIcon,\r\n\t\tcartControlBtn,\r\n\t\tinvalidGoodsWrap,\r\n\t\tdiscountsModal\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tinputDomFlag: true, // input 输入框的显示隐藏状态\r\n\t\t\tcurrentAddressText: '', // 临时的地址文字\r\n\r\n\t\t\tisShowLoading: true, // 开屏动画\r\n\r\n\t\t\tlikeGoodsTitle: '', // 猜你喜欢商品的标题文字\r\n\t\t\tlikeGoodsList: [], // 猜你喜欢商品列表数据\r\n\r\n\t\t\tcommitBtnTemplateList: [], // 小程序模板消息字符串\r\n\t\t\tloseGoodsList: [], // 失效商品列表\r\n\t\t\tloseGoodsTitle: '', // 失效商品列表顶部的标题\r\n\t\t\tloseGoodsText: '', // 失效商品前的展示文字\r\n\r\n\t\t\tcartGoodsList: [], // 购物车列表数据\r\n\r\n\t\t\t// 优惠详情弹框数据\r\n\t\t\tdiscountsModalFlag: false, // 是否弹框\r\n\t\t\tdiscountsModalTitle: '',\r\n\t\t\tdiscountsModalList: [],\r\n\r\n\t\t\t// 购物车底部信息\r\n\t\t\tbottomIsShowDiscounts: false,\r\n\t\t\tbottomDiscountsTitle: '',\r\n\t\t\tbottomDiscountsTotalPrice: 0,\r\n\t\t\tbottomDiscountsList: [],\r\n\t\t\tbottomTotalPrice: 0,\r\n\t\t\tbottomTotalNum: 0,\r\n\r\n\t\t\tinc,\r\n\t\t\tdec,\r\n\r\n\t\t\tsendAjaxFlag: false, // 页面发送网络请求的锁 (任何操作都会上锁 必须等前一个网络请求返回后才可以执行)\r\n\r\n\t\t\tcommitBtnState: false, // 提交按钮的状态\r\n\r\n\t\t\t// ↓↓↓ 多规格相关数据 --------------------------------------------------------\r\n\t\t\tisShowGoodsSpec: false, // 是否显示多规格弹框\r\n\t\t\tgoodsSpecSelectItemList: [{}], // 多规格项\r\n\t\t\tgoodsSpecRowsList: {}, // 多规格 笛卡尔积项对应的 商品 信息\r\n\t\t\tcurrentGoodsName: '', // 当前弹窗多规格的商品名字\r\n\t\t\tcurrentGoodsDescription: '', // 当前弹窗多规格的商品描述\r\n\t\t\tcurrentGoodsImages: '', // 当前弹窗多规格的商品图片\r\n\t\t\tcurrentGoodsId: '', // 当前弹窗多规格的商品id\r\n\t\t\tcurrentGoodsSelectedNum: '', // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\t\t\t// ↑↑↑ 多规格相关数据 --------------------------------------------------------\r\n\t\t\tloginBoxFlag: false, // 登录框显示隐藏状态\r\n\t\t\tcardNumber: 0 // 购物车数量\r\n\t\t};\r\n\t},\r\n\tonHide() {\r\n\t\tlet that = this;\r\n\t\tthat.hideAllFn();\r\n\t\tconsole.log('hide run');\r\n\t\t// 关闭页面底部的优惠信息弹框\r\n\t\tif (that.discountsModalFlag) {\r\n\t\t\tthat.discountsModalFlag = false;\r\n\t\t}\r\n\t},\r\n\tonUnload() {\r\n\t\tuni.$off('goodsAddCartEd_cart');\r\n\t},\r\n\tonLoad() {\r\n\t\tlet that = this;\r\n\t\t// 加入购物车成功后\r\n\t\tuni.$off('goodsAddCartEd_cart');\r\n\t\tuni.$on('goodsAddCartEd_cart', arg => {\r\n\t\t\tlet { selectedNum, goodsId } = arg;\r\n\t\t\tthat.likeGoodsList.forEach(item => {\r\n\t\t\t\tif (item.goodsId == goodsId) {\r\n\t\t\t\t\titem.selectedNum = selectedNum;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthat.loadFn();\r\n\t},\r\n\tonShow() {\r\n\t\tlet that = this;\r\n\r\n\t\t// 监听购物车数量改变\r\n\t\tuni.$off('setCardNumberFn');\r\n\t\tuni.$on('setCardNumberFn', cardNumber => {\r\n\t\t\tthat.cardNumber = cardNumber;\r\n\t\t});\r\n\r\n\t\t// 监听登录框\r\n\t\tuni.$off('setLoginBoxFlag');\r\n\t\tuni.$on('setLoginBoxFlag', loginBoxFlag => {\r\n\t\t\tthat.loginBoxFlag = loginBoxFlag;\r\n\t\t});\r\n\r\n\t\t// 监听多规格弹框事件\r\n\t\tuni.$off('popSpecBlock');\r\n\t\tuni.$on('popSpecBlock', async arg => {\r\n\t\t\tlet { goodsId, page } = arg;\r\n\r\n\t\t\tlet currentGoods = assertObject(assertArray(that.likeGoodsList.filter(item => item.goodsId == goodsId))[0]);\r\n\r\n\t\t\tthat.currentGoodsId = goodsId;\r\n\t\t\tuni.showLoading({});\r\n\r\n\t\t\tconsole.log('当前点击商品的信息currentGoods', currentGoods);\r\n\r\n\t\t\tthat.currentGoodsName = currentGoods.goodsName; // 当前弹窗多规格的商品名字\r\n\t\t\tthat.currentGoodsDescription = currentGoods.goodsDescription; // 当前弹窗多规格的商品描述\r\n\t\t\tthat.currentGoodsImages = currentGoods.goodsImage; // 当前弹窗多规格的商品图片\r\n\r\n\t\t\tthat.currentGoodsSelectedNum = currentGoods.selectedNum; // 当前弹窗多规格的商品即加入到购物车里的数量\r\n\r\n\t\t\tlet result = await that.getSpecInfoFn(that.currentGoodsId);\r\n\t\t\tif (result.type != 'success') {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\t\ttitle: result.msg,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthat.goodsSpecSelectItemList = result.result.goodsSpecSelectItemList;\r\n\t\t\tthat.goodsSpecRowsList = result.result.goodsSpecRowsList;\r\n\r\n\t\t\tconsole.log(`${that.currentGoodsId} 商品的规格信息`, result);\r\n\r\n\t\t\tthat.isShowGoodsSpec = true;\r\n\t\t\tthat.hideAllFn();\r\n\t\t});\r\n\r\n\t\tthat.onShowFn();\r\n\t\t// 关闭页面底部的优惠信息弹框\r\n\t\tif (that.discountsModalFlag) {\r\n\t\t\tthat.discountsModalFlag = false;\r\n\t\t}\r\n\t},\r\n\r\n\tasync onPullDownRefresh() {\r\n\t\tlet that = this;\r\n\t\tif (that.sendAjaxFlag) {\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthat.sendAjaxFlag = true;\r\n\t\tif (that.isLogin) {\r\n\t\t\tlet [getLikeGoodsResult, getMyCartDataResult] = await Promise.all([\r\n\t\t\t\tthat.getLikeGoodsFn(),\r\n\t\t\t\tthat.getMyCartDataFn()\r\n\t\t\t]);\r\n\r\n\t\t\tif (getLikeGoodsResult.type == 'success' && getMyCartDataResult.type == 'success') {\r\n\t\t\t\tlet { likeGoodsTitle, likeGoodsList } = getLikeGoodsResult.result;\r\n\t\t\t\tthat.likeGoodsTitle = likeGoodsTitle;\r\n\t\t\t\tthat.likeGoodsList = likeGoodsList;\r\n\r\n\t\t\t\tlet {\r\n\t\t\t\t\tloseGoodsList,\r\n\t\t\t\t\tloseGoodsTitle,\r\n\t\t\t\t\tloseGoodsText,\r\n\t\t\t\t\tcommitBtnTemplateList,\r\n\t\t\t\t\tcartGoodsList,\r\n\r\n\t\t\t\t\tbottomIsShowDiscounts,\r\n\t\t\t\t\tbottomDiscountsTitle,\r\n\t\t\t\t\tbottomDiscountsTotalPrice,\r\n\t\t\t\t\tbottomDiscountsList,\r\n\t\t\t\t\tbottomTotalPrice,\r\n\t\t\t\t\tbottomTotalNum\r\n\t\t\t\t} = getMyCartDataResult.result;\r\n\r\n\t\t\t\tthat.loseGoodsList = loseGoodsList;\r\n\t\t\t\tthat.loseGoodsTitle = loseGoodsTitle;\r\n\t\t\t\tthat.loseGoodsText = loseGoodsText;\r\n\t\t\t\tthat.commitBtnTemplateList = commitBtnTemplateList;\r\n\r\n\t\t\t\tthat.cartGoodsList = cartGoodsList;\r\n\r\n\t\t\t\tthat.bottomIsShowDiscounts = bottomIsShowDiscounts;\r\n\t\t\t\tthat.bottomDiscountsTitle = bottomDiscountsTitle;\r\n\t\t\t\tthat.bottomDiscountsTotalPrice = bottomDiscountsTotalPrice;\r\n\t\t\t\tthat.bottomDiscountsList = bottomDiscountsList;\r\n\t\t\t\tthat.bottomTotalPrice = bottomTotalPrice;\r\n\t\t\t\tthat.bottomTotalNum = bottomTotalNum;\r\n\r\n\t\t\t\tthat.sendAjaxFlag = false;\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: getLikeGoodsResult.type == 'error' ? getLikeGoodsResult.msg : getMyCartDataResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet getLikeGoodsResult = await that.getLikeGoodsFn();\r\n\t\t\tif (getLikeGoodsResult.type == 'success') {\r\n\t\t\t\tlet { likeGoodsTitle, likeGoodsList } = getLikeGoodsResult.result;\r\n\t\t\t\tthat.likeGoodsTitle = likeGoodsTitle;\r\n\t\t\t\tthat.likeGoodsList = likeGoodsList;\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: getLikeGoodsResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = false;\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// ↓↓↓ 获取页面数据的几个函数\r\n\t\t// 获取购物车数据\r\n\t\tgetMyCartDataFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\turl: '/api/Cart/myCart'\r\n\t\t\t\t});\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data);\r\n\r\n\t\t\t\t\t\t// ↓↓ 模板字符串\r\n\t\t\t\t\t\tlet commitBtnTemplateList = assertArray(resultObject.template)\r\n\t\t\t\t\t\t\t.filter(i => i.mini_status == 1 && i.mini_template_id)\r\n\t\t\t\t\t\t\t.map(i => i.mini_template_id);\r\n\r\n\t\t\t\t\t\t// ↓↓ 失效商品\r\n\t\t\t\t\t\tlet loseGoodsObject = assertObject(resultObject.lose_goods),\r\n\t\t\t\t\t\t\tloseGoodsList = assertArray(loseGoodsObject.list).map(item => {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tcartId: item.cart_id,\r\n\t\t\t\t\t\t\t\t\tgoodsImage: item.original_img, // 商品图片\r\n\t\t\t\t\t\t\t\t\tgoodsName: item.goods_name, // 商品名字\r\n\t\t\t\t\t\t\t\t\tloseReasonText: item.reason, // 商品名字\r\n\t\t\t\t\t\t\t\t\ttopLeftTagImage: `${item.top_left_tag_img}`,\r\n\t\t\t\t\t\t\t\t\tgoodsPrice: transNumFn(item.shop_price),\r\n\t\t\t\t\t\t\t\t\tvipStylePrice: item.goods_type == 3\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tloseGoodsTitle = loseGoodsObject.title,\r\n\t\t\t\t\t\t\tloseGoodsText = loseGoodsObject.name;\r\n\r\n\t\t\t\t\t\t// ↓↓ 购物车各商家商品数据\r\n\t\t\t\t\t\tlet cartGoodsList = assertArray(resultObject.list_goods)\r\n\t\t\t\t\t\t\t.filter(i => assertArray(assertObject(i).goods_list).length > 0)\r\n\t\t\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\t\t\tlet sellerItem = assertObject(item),\r\n\t\t\t\t\t\t\t\t\tsellerItemInfo = assertObject(sellerItem.info),\r\n\t\t\t\t\t\t\t\t\tsellerItemInfoDetail = assertObject(sellerItemInfo.store_info),\r\n\t\t\t\t\t\t\t\t\tsellerItemInfoDispatch = assertObject(sellerItemInfo.dispatch),\r\n\t\t\t\t\t\t\t\t\tsellerItemInfoPrinf = assertObject(sellerItemInfo.prinf),\r\n\t\t\t\t\t\t\t\t\tsellerItemInfoDiscounts = assertObject(sellerItemInfo.discounts),\r\n\t\t\t\t\t\t\t\t\tsellerCartGoodsList = assertArray(sellerItem.goods_list).map(item => {\r\n\t\t\t\t\t\t\t\t\t\tlet goodsItem = assertObject(item),\r\n\t\t\t\t\t\t\t\t\t\t\tcartNum = transNumFn(goodsItem.cart_num),\r\n\t\t\t\t\t\t\t\t\t\t\toneboy = transNumFn(goodsItem.oneboy);\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tcartId: goodsItem.cart_id,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsId: goodsItem.goods_id,\r\n\t\t\t\t\t\t\t\t\t\t\tcartNum,\r\n\t\t\t\t\t\t\t\t\t\t\tisActive: goodsItem.is_active == 1,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsImage: goodsItem.original_img,\r\n\t\t\t\t\t\t\t\t\t\t\ttopLeftTagImage: `${goodsItem.top_left_tag_img}`,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsName: goodsItem.goods_name,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsSpecName: goodsItem.spec_name,\r\n\t\t\t\t\t\t\t\t\t\t\tdiscountsMsg: goodsItem.promotion,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsPrice: transNumFn(goodsItem.shop_price),\r\n\t\t\t\t\t\t\t\t\t\t\tvipStylePrice: goodsItem.goods_type == 3,\r\n\t\t\t\t\t\t\t\t\t\t\tgoodsTypeIsMiaosha: goodsItem.goods_type == 2,\r\n\t\t\t\t\t\t\t\t\t\t\tstoreCount: goodsItem.store_count,\r\n\t\t\t\t\t\t\t\t\t\t\toneboy,\r\n\t\t\t\t\t\t\t\t\t\t\taddBtnStopFlag: cartNum >= oneboy,\r\n\t\t\t\t\t\t\t\t\t\t\ttagList: assertArray(goodsItem.desc)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.filter(i => i)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.map(i => i),\r\n\t\t\t\t\t\t\t\t\t\t\tbubbleTips: goodsItem.remqua,\r\n\t\t\t\t\t\t\t\t\t\t\tisShowBubbleTips: true,\r\n\t\t\t\t\t\t\t\t\t\t\tisInvalid: false\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tsellerId: sellerItemInfoDetail.id,\r\n\t\t\t\t\t\t\t\t\tsellerName: sellerItemInfoDetail.name,\r\n\t\t\t\t\t\t\t\t\tsellerImage: sellerItemInfoDetail.img,\r\n\t\t\t\t\t\t\t\t\tisShowDispatch: sellerItemInfoDispatch.is_dispatch == 1,\r\n\t\t\t\t\t\t\t\t\tdispatchTime: sellerItemInfoDispatch.arrival_time,\r\n\t\t\t\t\t\t\t\t\tdispatchTitle: sellerItemInfoDispatch.shosub,\r\n\t\t\t\t\t\t\t\t\tisShowToHomeBtn: sellerItemInfoDispatch.is_aoi == 1,\r\n\r\n\t\t\t\t\t\t\t\t\tsellerIsShowDiscounts: sellerItemInfoDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\t\tsellerDiscountsTitle: sellerItemInfoDiscounts.title,\r\n\t\t\t\t\t\t\t\t\tsellerDiscountsTotalPrice: transNumFn(sellerItemInfoDiscounts.total_price),\r\n\t\t\t\t\t\t\t\t\tsellerDiscountsList: assertArray(sellerItemInfoDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tsellerTotalPrice: transNumFn(sellerItemInfoPrinf.total_price),\r\n\t\t\t\t\t\t\t\t\tsellerTotalNum: transNumFn(sellerItemInfoPrinf.total_num),\r\n\r\n\t\t\t\t\t\t\t\t\tsellerCartGoodsList\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// ↓↓ 底部钱数和优惠信息\r\n\t\t\t\t\t\tlet bottomTotalData = assertObject(resultObject.total_data),\r\n\t\t\t\t\t\t\tbottomDiscounts = assertObject(bottomTotalData.discounts),\r\n\t\t\t\t\t\t\tbottomPrinf = assertObject(bottomTotalData.prinf);\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: '获取购物车页面数据成功',\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tloseGoodsList,\r\n\t\t\t\t\t\t\t\tloseGoodsTitle,\r\n\t\t\t\t\t\t\t\tloseGoodsText,\r\n\t\t\t\t\t\t\t\tcommitBtnTemplateList,\r\n\r\n\t\t\t\t\t\t\t\tcartGoodsList,\r\n\r\n\t\t\t\t\t\t\t\tbottomIsShowDiscounts: bottomDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTitle: bottomDiscounts.title,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTotalPrice: transNumFn(bottomDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tbottomDiscountsList: assertArray(bottomDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tbottomTotalPrice: transNumFn(bottomPrinf.total_price),\r\n\t\t\t\t\t\t\t\tbottomTotalNum: transNumFn(bottomPrinf.total_num)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 获取猜你喜欢 的 商品数据\r\n\t\tgetLikeGoodsFn() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\turl: `/api/Cart/likeGoods`\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(assertObject(result.data.data).like);\r\n\r\n\t\t\t\t\t\tlet likeGoodsList = assertArray(resultObject.value).map(item => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tgoodsId: item.goods_id, // 商品id\r\n\t\t\t\t\t\t\t\tgoodsImage: item.original_img, // 商品图片\r\n\t\t\t\t\t\t\t\tisHot: item.is_hot == 1, // 是否热销爆款\r\n\t\t\t\t\t\t\t\tisNew: item.is_new == 1, // 是否新品\r\n\t\t\t\t\t\t\t\tgoodsName: item.goods_name, // 商品名称\r\n\t\t\t\t\t\t\t\tgoodsDescription: item.goods_remark, // 商品描述\r\n\t\t\t\t\t\t\t\tgoodsTag: item.tag_name, // 商品标签文字\r\n\t\t\t\t\t\t\t\tisVipPrice: item.is_vip_price == 1, // 是否会员专享\r\n\t\t\t\t\t\t\t\tgoodsPrice: item.shop_price, // 商品价格\r\n\t\t\t\t\t\t\t\tvipPrice: item.vip_market_price, // 会员价\r\n\t\t\t\t\t\t\t\tlinePrice: item.vip_market_price, // 划线价\r\n\t\t\t\t\t\t\t\tselectedNum: transNumFn(item.selectedNum), // 已经添加到购物车的数量\r\n\t\t\t\t\t\t\t\tisSpec: item.is_guige == 1, // 商品是否多规格\r\n\t\t\t\t\t\t\t\ttagImg: item.topLeftTag, // 商品左上的图片标签\r\n\t\t\t\t\t\t\t\tgysMdId: transNumFn(item.supp_id), // 供应商门店id\r\n\t\t\t\t\t\t\t\tgysMdName: item.dp_name // 供应商门店名字\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: '获取猜你喜欢商品列表成功',\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tlikeGoodsTitle: resultObject.name,\r\n\t\t\t\t\t\t\t\tlikeGoodsList\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/* \r\n\t\t\t@description 修改购物车数量 (只能加减不能删除)\r\n\t\t\t@param type <String> 'dec' 删除,  'inc' 增加\r\n\t\t\t@param type <Number> 设置商品数量\r\n\t\t\t@param cartId <Number> 购物车id\r\n\t\t\t@return <Promise>\r\n\t\t*/\r\n\t\tcartNumberChangeFn(type, cartId) {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/Cart/cartNumber',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdin: type,\r\n\t\t\t\t\t\tcart_id: cartId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 40004) {\r\n\t\t\t\t\t\t// 错误状态  40004  前端提示删除\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success40004'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (result.data.code == 40001) {\r\n\t\t\t\t\t\t// codeing\r\n\t\t\t\t\t\t// 错误状态  40001 当前商品失效了  前端需要改一下商品样式\r\n\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data),\r\n\t\t\t\t\t\t\tresultResultObject = assertObject(resultObject.result),\r\n\t\t\t\t\t\t\tresultInfo = assertObject(resultResultObject.info),\r\n\t\t\t\t\t\t\tsellerItemInfoDispatch = assertObject(resultInfo.dispatch),\r\n\t\t\t\t\t\t\tsellerItemInfoDiscounts = assertObject(resultInfo.discounts),\r\n\t\t\t\t\t\t\tsellerItemInfoPrinf = assertObject(resultInfo.prinf);\r\n\r\n\t\t\t\t\t\t// ↓↓ 底部钱数和优惠信息\r\n\t\t\t\t\t\tlet bottomTotalData = assertObject(resultResultObject.total),\r\n\t\t\t\t\t\t\tbottomDiscounts = assertObject(bottomTotalData.discounts),\r\n\t\t\t\t\t\t\tbottomPrinf = assertObject(bottomTotalData.prinf);\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success40001',\r\n\t\t\t\t\t\t\tmsg: resultObject.msg,\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tdispatchTitle: sellerItemInfoDispatch.shosub,\r\n\t\t\t\t\t\t\t\tisShowToHomeBtn: sellerItemInfoDispatch.is_aoi == 1,\r\n\r\n\t\t\t\t\t\t\t\tsellerIsShowDiscounts: sellerItemInfoDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTitle: sellerItemInfoDiscounts.title,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTotalPrice: transNumFn(sellerItemInfoDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tsellerDiscountsList: assertArray(sellerItemInfoDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tsellerTotalPrice: transNumFn(sellerItemInfoPrinf.total_price),\r\n\t\t\t\t\t\t\t\tsellerTotalNum: transNumFn(sellerItemInfoPrinf.total_num),\r\n\r\n\t\t\t\t\t\t\t\tbottomIsShowDiscounts: bottomDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTitle: bottomDiscounts.title,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTotalPrice: transNumFn(bottomDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tbottomDiscountsList: assertArray(bottomDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tbottomTotalPrice: transNumFn(bottomPrinf.total_price),\r\n\t\t\t\t\t\t\t\tbottomTotalNum: transNumFn(bottomPrinf.total_num)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (result.data.code == 200) {\r\n\t\t\t\t\t\tlet cartGoodsNumChangeResult = assertObject(result.data.data), // 全部数据\r\n\t\t\t\t\t\t\t// data.info\r\n\t\t\t\t\t\t\tdataInfoObject = assertObject(cartGoodsNumChangeResult.info),\r\n\t\t\t\t\t\t\t// data.result\r\n\t\t\t\t\t\t\tdataResultObject = assertObject(cartGoodsNumChangeResult.result),\r\n\t\t\t\t\t\t\t// data.result.info\r\n\t\t\t\t\t\t\tdataResultInfoObject = assertObject(dataResultObject.info),\r\n\t\t\t\t\t\t\t// data.result.info.discounts\r\n\t\t\t\t\t\t\tdataResultInfoDiscountsObject = assertObject(dataResultInfoObject.discounts),\r\n\t\t\t\t\t\t\t// data.result.info.dispatch\r\n\t\t\t\t\t\t\tdataResultInfoDispatchObject = assertObject(dataResultInfoObject.dispatch),\r\n\t\t\t\t\t\t\t// data.result.info.prinf\r\n\t\t\t\t\t\t\tdataResultInfoPrinfObject = assertObject(dataResultInfoObject.prinf),\r\n\t\t\t\t\t\t\t// data.result.total\r\n\t\t\t\t\t\t\tbottomTotalData = assertObject(dataResultObject.total),\r\n\t\t\t\t\t\t\t// data.result.total.discounts\r\n\t\t\t\t\t\t\tbottomDiscounts = assertObject(bottomTotalData.discounts),\r\n\t\t\t\t\t\t\t// data.result.total.prinf\r\n\t\t\t\t\t\t\tbottomPrinf = assertObject(bottomTotalData.prinf);\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: `${dataInfoObject.msg}`,\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tchangeGoodsIsActive: dataInfoObject.is_active == 1, // 选中状态\r\n\t\t\t\t\t\t\t\tchangeGoodsCartNum: transNumFn(dataInfoObject.cart_num), // 购物车数量\r\n\t\t\t\t\t\t\t\tchangeGoodsAddBtnStopFlag: dataInfoObject.is_inc == 0, // 添加按钮是否置灰\r\n\t\t\t\t\t\t\t\tchangeGoodsDiscountsMsg: dataInfoObject.promotion, // 活动明细\r\n\r\n\t\t\t\t\t\t\t\tsellerIsShowDiscounts: dataResultInfoDiscountsObject.is_dis == 1,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTitle: dataResultInfoDiscountsObject.title,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTotalPrice: transNumFn(dataResultInfoDiscountsObject.total_price),\r\n\t\t\t\t\t\t\t\tsellerDiscountsList: assertArray(dataResultInfoDiscountsObject.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\t\t\tisShowToHomeBtn: dataResultInfoDispatchObject.is_aoi == 1,\r\n\t\t\t\t\t\t\t\tdispatchTitle: dataResultInfoDispatchObject.shosub,\r\n\r\n\t\t\t\t\t\t\t\tsellerTotalPrice: transNumFn(dataResultInfoPrinfObject.total_price),\r\n\t\t\t\t\t\t\t\tsellerTotalNum: transNumFn(dataResultInfoPrinfObject.total_num),\r\n\r\n\t\t\t\t\t\t\t\tbottomTotalPrice: transNumFn(bottomPrinf.total_price),\r\n\t\t\t\t\t\t\t\tbottomTotalNum: transNumFn(bottomPrinf.total_num),\r\n\t\t\t\t\t\t\t\tbottomIsShowDiscounts: bottomDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTitle: bottomDiscounts.title,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTotalPrice: transNumFn(bottomDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tbottomDiscountsList: assertArray(bottomDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 删除购物车商品\r\n\t\tdelCartGoods(cartId) {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/Cart/cartDel',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcart_id: checkTypeFn(cartId) == 'Array' ? cartId.join(',') : cartId,\r\n\t\t\t\t\t\tis_lose: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data);\r\n\r\n\t\t\t\t\t\tlet list = assertArray(resultObject.list).map(item => {\r\n\t\t\t\t\t\t\tlet sellerItem = assertObject(item),\r\n\t\t\t\t\t\t\t\tsellerItemInfoDispatch = assertObject(sellerItem.dispatch),\r\n\t\t\t\t\t\t\t\tsellerItemInfoPrinf = assertObject(sellerItem.prinf),\r\n\t\t\t\t\t\t\t\tsellerItemInfoDiscounts = assertObject(sellerItem.discounts);\r\n\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tsuppId: item.supp_id,\r\n\t\t\t\t\t\t\t\tisEmpty: item.is_empty == 1,\r\n\t\t\t\t\t\t\t\tdispatchTitle: sellerItemInfoDispatch.shosub,\r\n\t\t\t\t\t\t\t\tisShowToHomeBtn: sellerItemInfoDispatch.is_aoi == 1,\r\n\t\t\t\t\t\t\t\tsellerTotalPrice: transNumFn(sellerItemInfoPrinf.total_price),\r\n\t\t\t\t\t\t\t\tsellerTotalNum: transNumFn(sellerItemInfoPrinf.total_num),\r\n\r\n\t\t\t\t\t\t\t\tsellerIsShowDiscounts: sellerItemInfoDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTitle: sellerItemInfoDiscounts.title,\r\n\t\t\t\t\t\t\t\tsellerDiscountsTotalPrice: transNumFn(sellerItemInfoDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tsellerDiscountsList: assertArray(sellerItemInfoDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tlet bottomTotalObject = assertObject(resultObject.total),\r\n\t\t\t\t\t\t\tbottomPrinf = assertObject(bottomTotalObject.prinf),\r\n\t\t\t\t\t\t\tbottomDiscounts = assertObject(bottomTotalObject.discounts);\r\n\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult: {\r\n\t\t\t\t\t\t\t\tlist,\r\n\t\t\t\t\t\t\t\tbottomIsShowDiscounts: bottomDiscounts.is_dis == 1,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTitle: bottomDiscounts.title,\r\n\t\t\t\t\t\t\t\tbottomDiscountsTotalPrice: transNumFn(bottomDiscounts.total_price),\r\n\t\t\t\t\t\t\t\tbottomDiscountsList: assertArray(bottomDiscounts.list).map(i => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: i.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: transNumFn(i.price)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tbottomTotalPrice: transNumFn(bottomPrinf.total_price),\r\n\t\t\t\t\t\t\t\tbottomTotalNum: transNumFn(bottomPrinf.total_num)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 改变选中状态\r\n\t\tchangeGoodsActive(cartId, activeFlag) {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise(async resFn => {\r\n\t\t\t\tlet result = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/Cart/cartActive',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcart_ids: checkTypeFn(cartId) == 'Array' ? cartId.join(',') : cartId,\r\n\t\t\t\t\t\tcart_val: activeFlag ? 'ca' : 'nca'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (result.statusCode == 200) {\r\n\t\t\t\t\tif (result.data.code == 200) {\r\n\t\t\t\t\t\tlet resultObject = assertObject(result.data.data);\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresFn({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmsg: result.data.msg,\r\n\t\t\t\t\t\t\tresult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresFn({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmsg: that.$errorMsg,\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// ↓↓↓ 页面交互处理的方法\r\n\t\tasync loadFn() {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\tlet getLikeGoodsResult = await that.getLikeGoodsFn();\r\n\t\t\tif (getLikeGoodsResult.type == 'success') {\r\n\t\t\t\tlet { likeGoodsTitle, likeGoodsList } = getLikeGoodsResult.result;\r\n\t\t\t\tthat.likeGoodsTitle = likeGoodsTitle;\r\n\t\t\t\tthat.likeGoodsList = likeGoodsList;\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: getLikeGoodsResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!that.isLogin) {\r\n\t\t\t\tthat.isShowLoading = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 生命周期 show\r\n\t\tonShowFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.isLogin) {\r\n\t\t\t\tthat.renderCartListFn();\r\n\t\t\t} else {\r\n\t\t\t\t// 未登录清空下清空那些只有登录才会有的数据字段\r\n\t\t\t\tthat.commitBtnTemplateList = [];\r\n\t\t\t\tthat.loseGoodsList = [];\r\n\t\t\t\tthat.loseGoodsTitle = '';\r\n\t\t\t\tthat.loseGoodsText = '';\r\n\t\t\t\tthat.cartGoodsList = [];\r\n\t\t\t\tthat.discountsModalTitle = '';\r\n\t\t\t\tthat.discountsModalList = [];\r\n\t\t\t\tthat.cardNumber = 0;\r\n\t\t\t}\r\n\t\t\tlet indexAddressInfo = assertObject(uni.getStorageSync('indexAddressInfo'));\r\n\t\t\tif(indexAddressInfo.currentAddressText){\r\n\t\t\t\tthat.currentAddressText = indexAddressInfo.currentAddressText;\r\n\t\t\t}\r\n\r\n\t\t\tthat.isLogin && that.setLocalAddressFn();\r\n\t\t\tthat.commitBtnState = false;\r\n\t\t\tuni.setStorageSync('orderZhifuLoadCont', 0);\r\n\t\t\tuni.setStorageSync('orderZhifuReloadFlag', 0);\r\n\t\t},\r\n\r\n\t\t// 渲染购物车列表相关数据\r\n\t\tasync renderCartListFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.isLogin) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet getMyCartDataResult = await that.getMyCartDataFn();\r\n\t\t\t// console.log('获取购物车列表数据 getMyCartDataResult ',getMyCartDataResult)\r\n\t\t\tif (getMyCartDataResult.type == 'success') {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tloseGoodsList,\r\n\t\t\t\t\tloseGoodsTitle,\r\n\t\t\t\t\tloseGoodsText,\r\n\t\t\t\t\tcommitBtnTemplateList,\r\n\r\n\t\t\t\t\tcartGoodsList,\r\n\r\n\t\t\t\t\tbottomIsShowDiscounts,\r\n\t\t\t\t\tbottomDiscountsTitle,\r\n\t\t\t\t\tbottomDiscountsTotalPrice,\r\n\t\t\t\t\tbottomDiscountsList,\r\n\t\t\t\t\tbottomTotalPrice,\r\n\t\t\t\t\tbottomTotalNum\r\n\t\t\t\t} = getMyCartDataResult.result;\r\n\r\n\t\t\t\tthat.loseGoodsList = loseGoodsList;\r\n\t\t\t\tthat.loseGoodsTitle = loseGoodsTitle;\r\n\t\t\t\tthat.loseGoodsText = loseGoodsText;\r\n\t\t\t\tthat.commitBtnTemplateList = commitBtnTemplateList;\r\n\r\n\t\t\t\tthat.cartGoodsList = cartGoodsList;\r\n\r\n\t\t\t\tthat.bottomIsShowDiscounts = bottomIsShowDiscounts;\r\n\t\t\t\tthat.bottomDiscountsTitle = bottomDiscountsTitle;\r\n\t\t\t\tthat.bottomDiscountsTotalPrice = bottomDiscountsTotalPrice;\r\n\t\t\t\tthat.bottomDiscountsList = bottomDiscountsList;\r\n\t\t\t\tthat.bottomTotalPrice = bottomTotalPrice;\r\n\t\t\t\tthat.bottomTotalNum = bottomTotalNum;\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: getMyCartDataResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (that.isShowLoading) {\r\n\t\t\t\tthat.isShowLoading = false;\r\n\t\t\t}\r\n\t\t\t// ↓↓↓ 给tab-bar角标数字 赋值\r\n\t\t\tthat.setTabBarCartNumFn();\r\n\t\t\tthat.hideAllFn();\r\n\t\t},\r\n\t\t// 设置优惠信息弹框显示隐藏\r\n\t\tsetDiscountsModalFlagFn(flag) {\r\n\t\t\tthis.discountsModalFlag = flag;\r\n\t\t},\r\n\t\t// 底部的优惠信息点击\r\n\t\tbottomDiscountsClickFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (!that.bottomIsShowDiscounts) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.discountsModalFlag = !that.discountsModalFlag;\r\n\t\t\tif (that.discountsModalFlag) {\r\n\t\t\t\tthat.discountsModalTitle = that.bottomDiscountsTitle;\r\n\t\t\t\tthat.discountsModalList = that.bottomDiscountsList;\r\n\t\t\t} else {\r\n\t\t\t\tthat.discountsModalTitle = '';\r\n\t\t\t\tthat.discountsModalList = [];\r\n\t\t\t}\r\n\t\t},\r\n\t\t/*\r\n\t\t// 单独门店的优惠信息点击 (方法没在用)\r\n\t\tsellerDiscountsClickFn(index) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { sellerDiscountsTitle, sellerDiscountsList } = that.cartGoodsList[index];\r\n\t\t\tthat.discountsModalTitle = sellerDiscountsTitle;\r\n\t\t\tthat.discountsModalList = sellerDiscountsList;\r\n\t\t\tif (!that.discountsModalFlag) {\r\n\t\t\t\tthat.discountsModalFlag = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\t*/\r\n\t\t// 购物车增加减去按钮点击\r\n\t\tasync controlBtnClickFn(type, cartGoodsIndex, sellerGoodsIndex) {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (that.sendAjaxFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = true;\r\n\r\n\t\t\tlet changeSeller = that.cartGoodsList[cartGoodsIndex];\r\n\t\t\tlet changeGoods = changeSeller.sellerCartGoodsList[sellerGoodsIndex];\r\n\t\t\tif ((type == dec && changeGoods.cartNum == 1) || (checkTypeFn(type) == 'Number' && type <= 0)) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '您确定删除该商品吗？',\r\n\t\t\t\t\tsuccess({ confirm }) {\r\n\t\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\t\tconsole.log('执行删除操作');\r\n\r\n\t\t\t\t\t\t\tthat.delCartGoodsFn(changeGoods.cartId);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthat.sendAjaxFlag = false;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.hideAllFn();\r\n\t\t\tuni.showLoading({});\r\n\r\n\t\t\tlet cartNumberChangeResult = await that.cartNumberChangeFn(type, changeGoods.cartId);\r\n\t\t\tconsole.log('cartNumberChangeResult', cartNumberChangeResult);\r\n\r\n\t\t\tif (cartNumberChangeResult.type == 'success') {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tchangeGoodsIsActive,\r\n\t\t\t\t\tchangeGoodsCartNum,\r\n\t\t\t\t\tchangeGoodsAddBtnStopFlag,\r\n\t\t\t\t\tchangeGoodsDiscountsMsg,\r\n\r\n\t\t\t\t\tsellerIsShowDiscounts,\r\n\t\t\t\t\tsellerDiscountsTitle,\r\n\t\t\t\t\tsellerDiscountsTotalPrice,\r\n\t\t\t\t\tsellerDiscountsList,\r\n\r\n\t\t\t\t\tisShowToHomeBtn,\r\n\t\t\t\t\tdispatchTitle,\r\n\r\n\t\t\t\t\tsellerTotalPrice,\r\n\t\t\t\t\tsellerTotalNum,\r\n\r\n\t\t\t\t\tbottomTotalPrice,\r\n\t\t\t\t\tbottomTotalNum,\r\n\t\t\t\t\tbottomIsShowDiscounts,\r\n\t\t\t\t\tbottomDiscountsTitle,\r\n\t\t\t\t\tbottomDiscountsTotalPrice,\r\n\t\t\t\t\tbottomDiscountsList\r\n\t\t\t\t} = cartNumberChangeResult.result;\r\n\r\n\t\t\t\tchangeGoods.isActive = changeGoodsIsActive;\r\n\t\t\t\tchangeGoods.cartNum = changeGoodsCartNum;\r\n\t\t\t\tchangeGoods.addBtnStopFlag = changeGoodsAddBtnStopFlag;\r\n\t\t\t\tchangeGoods.discountsMsg = changeGoodsDiscountsMsg;\r\n\r\n\t\t\t\tchangeSeller.sellerIsShowDiscounts = sellerIsShowDiscounts;\r\n\t\t\t\tchangeSeller.sellerDiscountsTitle = sellerDiscountsTitle;\r\n\t\t\t\tchangeSeller.sellerDiscountsTotalPrice = sellerDiscountsTotalPrice;\r\n\t\t\t\tchangeSeller.sellerDiscountsList = sellerDiscountsList;\r\n\r\n\t\t\t\tchangeSeller.isShowToHomeBtn = isShowToHomeBtn;\r\n\t\t\t\tchangeSeller.dispatchTitle = dispatchTitle;\r\n\r\n\t\t\t\tchangeSeller.sellerTotalPrice = sellerTotalPrice;\r\n\t\t\t\tchangeSeller.sellerTotalNum = sellerTotalNum;\r\n\r\n\t\t\t\tthat.bottomTotalPrice = bottomTotalPrice;\r\n\t\t\t\tthat.bottomTotalNum = bottomTotalNum;\r\n\t\t\t\tthat.bottomIsShowDiscounts = bottomIsShowDiscounts;\r\n\t\t\t\tthat.bottomDiscountsTitle = bottomDiscountsTitle;\r\n\t\t\t\tthat.bottomDiscountsTotalPrice = bottomDiscountsTotalPrice;\r\n\t\t\t\tthat.bottomDiscountsList = bottomDiscountsList;\r\n\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tif (cartNumberChangeResult.msg) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: cartNumberChangeResult.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tuni.$emit('goodsAddCartEd', {\r\n\t\t\t\t\tgoodsId: changeGoods.goodsId,\r\n\t\t\t\t\tselectedNum: changeGoodsCartNum\r\n\t\t\t\t});\r\n\t\t\t\tthat.inputDomFlag = false;\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.inputDomFlag = true;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// ↓↓↓ 给tab-bar角标数字 赋值\r\n\t\t\t\tthat.setTabBarCartNumFn();\r\n\t\t\t} else if (cartNumberChangeResult.type == 'success40004') {\r\n\t\t\t\tthat.hideAllFn();\r\n\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '您确定删除该商品吗？',\r\n\t\t\t\t\tsuccess({ confirm }) {\r\n\t\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\t\tconsole.log('执行删除操作');\r\n\t\t\t\t\t\t\tthat.delCartGoodsFn(changeGoods.cartId);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tchangeGoods.cartNum = 1;\r\n\t\t\t\t\t\t\tconsole.log('取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (cartNumberChangeResult.type == 'success40001') {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: cartNumberChangeResult.msg\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdispatchTitle,\r\n\t\t\t\t\tisShowToHomeBtn,\r\n\r\n\t\t\t\t\tsellerIsShowDiscounts,\r\n\t\t\t\t\tsellerDiscountsTitle,\r\n\t\t\t\t\tsellerDiscountsTotalPrice,\r\n\t\t\t\t\tsellerDiscountsList,\r\n\r\n\t\t\t\t\tsellerTotalPrice,\r\n\t\t\t\t\tsellerTotalNum,\r\n\r\n\t\t\t\t\tbottomIsShowDiscounts,\r\n\t\t\t\t\tbottomDiscountsTitle,\r\n\t\t\t\t\tbottomDiscountsTotalPrice,\r\n\t\t\t\t\tbottomDiscountsList,\r\n\r\n\t\t\t\t\tbottomTotalPrice,\r\n\t\t\t\t\tbottomTotalNum\r\n\t\t\t\t} = cartNumberChangeResult.result;\r\n\r\n\t\t\t\t// 更新商品失效样式\r\n\t\t\t\tchangeGoods.isInvalid = true;\r\n\r\n\t\t\t\t// 更新当前门店信息\r\n\t\t\t\tchangeSeller.dispatchTitle = dispatchTitle;\r\n\t\t\t\tchangeSeller.isShowToHomeBtn = isShowToHomeBtn;\r\n\r\n\t\t\t\tchangeSeller.sellerIsShowDiscounts = sellerIsShowDiscounts;\r\n\t\t\t\tchangeSeller.sellerDiscountsTitle = sellerDiscountsTitle;\r\n\t\t\t\tchangeSeller.sellerDiscountsTotalPrice = sellerDiscountsTotalPrice;\r\n\t\t\t\tchangeSeller.sellerDiscountsList = sellerDiscountsList;\r\n\r\n\t\t\t\tchangeSeller.sellerTotalPrice = sellerTotalPrice;\r\n\t\t\t\tchangeSeller.sellerTotalNum = sellerTotalNum;\r\n\r\n\t\t\t\t// 更新购物车底部信息\r\n\t\t\t\tthat.bottomIsShowDiscounts = bottomIsShowDiscounts;\r\n\t\t\t\tthat.bottomDiscountsTitle = bottomDiscountsTitle;\r\n\t\t\t\tthat.bottomDiscountsTotalPrice = bottomDiscountsTotalPrice;\r\n\t\t\t\tthat.bottomDiscountsList = bottomDiscountsList;\r\n\r\n\t\t\t\tthat.bottomTotalPrice = bottomTotalPrice;\r\n\t\t\t\tthat.bottomTotalNum = bottomTotalNum;\r\n\t\t\t} else {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: cartNumberChangeResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthat.sendAjaxFlag = false;\r\n\r\n\t\t\tconsole.log('cartNumberChangeResult', cartNumberChangeResult);\r\n\t\t},\r\n\t\t// 删除已加购的购物车商品\r\n\t\tasync delCartGoodsFn(cartId) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet delCartGoodsResult = await that.delCartGoods(cartId);\r\n\t\t\tconsole.log('that.delCartGoods(cartId) delCartGoodsResult', delCartGoodsResult);\r\n\t\t\tif (delCartGoodsResult.type == 'success') {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tlist,\r\n\t\t\t\t\tbottomIsShowDiscounts,\r\n\t\t\t\t\tbottomDiscountsTitle,\r\n\t\t\t\t\tbottomDiscountsTotalPrice,\r\n\t\t\t\t\tbottomDiscountsList,\r\n\t\t\t\t\tbottomTotalPrice,\r\n\t\t\t\t\tbottomTotalNum\r\n\t\t\t\t} = delCartGoodsResult.result;\r\n\r\n\t\t\t\t// 删除成功后把删除的商品加购数量更新到底部的猜你喜欢商品列表\r\n\t\t\t\tlet zeroCartIdList = checkTypeFn(cartId) == 'Array' ? cartId : [cartId];\r\n\t\t\t\tlet zeroGoodsIdList = [];\r\n\r\n\t\t\t\tlet cloneCartGoodsList = cloneFn(that.cartGoodsList);\r\n\r\n\t\t\t\t// 改变数据前先把购物车id对应的商品idpush到zeroGoodsIdList里\r\n\t\t\t\tcloneCartGoodsList.forEach(i => {\r\n\t\t\t\t\ti.sellerCartGoodsList.forEach(j => {\r\n\t\t\t\t\t\tif (zeroCartIdList.includes(j.cartId)) {\r\n\t\t\t\t\t\t\tzeroGoodsIdList.push(j.goodsId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tcloneCartGoodsList.forEach((cartGoodsItem, cartGoodsIndex) => {\r\n\t\t\t\t\tlist.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item.suppId == cartGoodsItem.sellerId) {\r\n\t\t\t\t\t\t\tif (item.isEmpty) {\r\n\t\t\t\t\t\t\t\tcartGoodsItem.sellerCartGoodsList = [];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (checkTypeFn(cartId) == 'Array') {\r\n\t\t\t\t\t\t\t\t\tlet cloneSellerCartGoodsList = cloneFn(cartGoodsItem.sellerCartGoodsList);\r\n\r\n\t\t\t\t\t\t\t\t\tcloneSellerCartGoodsList.forEach(i => (i.del = cartId.includes(i.cartId)));\r\n\t\t\t\t\t\t\t\t\tlet sellerCartGoodsList = cloneSellerCartGoodsList.filter(i => !i.del);\r\n\t\t\t\t\t\t\t\t\tsellerCartGoodsList.forEach(i => delete i.del);\r\n\t\t\t\t\t\t\t\t\tcartGoodsItem.sellerCartGoodsList = sellerCartGoodsList;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlet index = cartGoodsItem.sellerCartGoodsList.findIndex(i => i.cartId == cartId);\r\n\t\t\t\t\t\t\t\t\tcartGoodsItem.sellerCartGoodsList.splice(index, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcartGoodsItem.dispatchTitle = item.dispatchTitle;\r\n\t\t\t\t\t\t\tcartGoodsItem.isShowToHomeBtn = item.isShowToHomeBtn;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerTotalPrice = item.sellerTotalPrice;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerTotalNum = item.sellerTotalNum;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerIsShowDiscounts = item.sellerIsShowDiscounts;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerDiscountsTitle = item.sellerDiscountsTitle;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerDiscountsTotalPrice = item.sellerDiscountsTotalPrice;\r\n\t\t\t\t\t\t\tcartGoodsItem.sellerDiscountsList = item.sellerDiscountsList;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthat.cartGoodsList = cloneCartGoodsList;\r\n\r\n\t\t\t\tthat.bottomIsShowDiscounts = bottomIsShowDiscounts;\r\n\t\t\t\tthat.bottomDiscountsTitle = bottomDiscountsTitle;\r\n\t\t\t\tthat.bottomDiscountsTotalPrice = bottomDiscountsTotalPrice;\r\n\t\t\t\tthat.bottomDiscountsList = bottomDiscountsList;\r\n\t\t\t\tthat.bottomTotalPrice = bottomTotalPrice;\r\n\t\t\t\tthat.bottomTotalNum = bottomTotalNum;\r\n\r\n\t\t\t\tzeroGoodsIdList.map(i => uni.$emit('goodsAddCartEd', { goodsId: i, selectedNum: 0 }));\r\n\t\t\t\t// ↓↓↓ 给tab-bar角标数字 赋值\r\n\t\t\t\tthat.setTabBarCartNumFn();\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: delCartGoodsResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 输入框blur事件后\r\n\t\tsetNumInpFn(e, cartGoodsIndex, sellerGoodsIndex) {\r\n\t\t\tlet that = this;\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\tthat.inputDomFlag = false;\r\n\t\t\t\t\t\tif (e.confirm) {\r\n\t\t\t\t\t\t\tthat.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthat.inputDomFlag = true;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet changeSeller = that.cartGoodsList[cartGoodsIndex];\r\n\t\t\tlet changeGoods = changeSeller.sellerCartGoodsList[sellerGoodsIndex];\r\n\r\n\t\t\tlet setCartNum = assertNumber(transNumFn(e.detail.value)); // 输入的数值\r\n\t\t\tif (setCartNum <= 0) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '您确定删除该商品吗？',\r\n\t\t\t\t\tsuccess({ confirm }) {\r\n\t\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\t\tconsole.log('执行删除操作');\r\n\t\t\t\t\t\t\tthat.delCartGoodsFn(changeGoods.cartId);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('取消');\r\n\t\t\t\t\t\t\tthat.inputDomFlag = false;\r\n\t\t\t\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthat.inputDomFlag = true;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.controlBtnClickFn(setCartNum, cartGoodsIndex, sellerGoodsIndex);\r\n\t\t},\r\n\t\t// 删除选中状态的商品\r\n\t\tdelSelectGoods() {\r\n\t\t\tlet that = this;\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet cartIdList = [];\r\n\t\t\tthat.cartGoodsList.forEach(i => {\r\n\t\t\t\tlet cartIdArr = i.sellerCartGoodsList.filter(i => i.isActive).map(i => i.cartId);\r\n\t\t\t\tcartIdList = cartIdList.concat(cartIdArr);\r\n\t\t\t});\r\n\t\t\tif (cartIdList.length <= 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '您尚未选中的商品'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '您是否要删除已选中的商品',\r\n\t\t\t\tsuccess({ confirm }) {\r\n\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\tconsole.log('要删除的商品 cartIdList', cartIdList);\r\n\t\t\t\t\t\tthat.delCartGoodsFn(cartIdList);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('取消');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提示的气泡被点击\r\n\t\tbubbleTipsClickFn(cartGoodsIndex, sellerGoodsIndex) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.cartGoodsList[cartGoodsIndex].sellerCartGoodsList[sellerGoodsIndex].isShowBubbleTips = false;\r\n\t\t\tconsole.log(\r\n\t\t\t\t'isShowBubbleTips',\r\n\t\t\t\tthat.cartGoodsList[cartGoodsIndex].sellerCartGoodsList[sellerGoodsIndex].isShowBubbleTips\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// 根据id跳转到门店页面\r\n\t\ttoSellerFn(id) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet idNum = transNumFn(id);\r\n\t\t\tif (!that.gongyingshang || idNum <= 0) {\r\n\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\tisTab: true,\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthat.navigateToFn({\r\n\t\t\t\turl: `/packageA/gongyingshang-seller/gongyingshang-seller?gysMdId=${idNum}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 根据商品类型和id跳转到对应的商品详情页面\r\n\t\ttoGoodsDetailPageFn(isInvalid, goodsType, id) {\r\n\t\t\tif (isInvalid) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet pagePath = goodsType\r\n\t\t\t\t? '/packageB/goods-detail/goods-detail-seckill'\r\n\t\t\t\t: '/packageB/goods-detail/goods-detail';\r\n\t\t\tthis.navigateToFn({\r\n\t\t\t\turl: `${pagePath}?goods_id=${id}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 成功清空失效商品\r\n\t\tclearInvalidGoodsFn() {\r\n\t\t\tthis.loseGoodsList = [];\r\n\t\t},\r\n\t\t// 底部的商品添加购物车后更新上面的购物车列表\r\n\t\temitGetCartListFn() {\r\n\t\t\tthis.renderCartListFn();\r\n\t\t},\r\n\t\t// 单个商品切换选中状态\r\n\t\tasync goodsActiveIconClickFn(cartGoodsIndex, sellerGoodsIndex) {\r\n\t\t\tlet that = this;\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet goods = that.cartGoodsList[cartGoodsIndex].sellerCartGoodsList[sellerGoodsIndex];\r\n\t\t\tif (goods.isInvalid) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (that.sendAjaxFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = true;\r\n\r\n\t\t\tthat.hideAllFn();\r\n\t\t\tuni.showLoading();\r\n\r\n\t\t\tlet changeGoodsActiveResult = await that.changeGoodsActive(goods.cartId, !goods.isActive);\r\n\t\t\tif (changeGoodsActiveResult.type == 'success') {\r\n\t\t\t\tthat.renderCartListFn();\r\n\t\t\t} else {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: changeGoodsActiveResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = false;\r\n\t\t},\r\n\t\t// 单个店铺切换选中状态\r\n\t\tasync sellerActiveIconClickFn(cartGoodsIndex) {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (that.sendAjaxFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = true;\r\n\r\n\t\t\tthat.hideAllFn();\r\n\t\t\tuni.showLoading();\r\n\t\t\tlet sellerGoodsList = that.cartGoodsList[cartGoodsIndex].sellerCartGoodsList;\r\n\r\n\t\t\tlet isActive, cartIdList;\r\n\t\t\tif (sellerGoodsList.some(i => i.isInvalid)) {\r\n\t\t\t\tisActive = true;\r\n\t\t\t\tcartIdList = sellerGoodsList.filter(i => !i.isInvalid).map(i => i.cartId);\r\n\t\t\t} else {\r\n\t\t\t\tisActive = !sellerGoodsList.every(i => i.isActive);\r\n\t\t\t\tcartIdList = sellerGoodsList.map(i => i.cartId);\r\n\t\t\t}\r\n\r\n\t\t\tlet changeGoodsActiveResult = await that.changeGoodsActive(cartIdList, isActive);\r\n\t\t\tif (changeGoodsActiveResult.type == 'success') {\r\n\t\t\t\tthat.renderCartListFn();\r\n\t\t\t} else {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: changeGoodsActiveResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = false;\r\n\t\t},\r\n\t\t//点击全选按钮\r\n\t\tasync allSelectFn() {\r\n\t\t\tlet that = this;\r\n\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (that.sendAjaxFlag) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = true;\r\n\r\n\t\t\tif (that.calcCartIsEmpty) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet isActive,\r\n\t\t\t\tisHasInvalid = false,\r\n\t\t\t\tcartIdList;\r\n\r\n\t\t\tthat.cartGoodsList.forEach(i => {\r\n\t\t\t\ti.sellerCartGoodsList.forEach(j => {\r\n\t\t\t\t\tif (j.isInvalid) {\r\n\t\t\t\t\t\tisHasInvalid = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tif (isHasInvalid) {\r\n\t\t\t\tisActive = true;\r\n\t\t\t\tcartIdList = (() => {\r\n\t\t\t\t\tlet temCartIdList = [];\r\n\t\t\t\t\tthat.cartGoodsList.forEach(i => {\r\n\t\t\t\t\t\ti.sellerCartGoodsList.forEach(j => {\r\n\t\t\t\t\t\t\tif (!j.isInvalid) {\r\n\t\t\t\t\t\t\t\ttemCartIdList.push(j.cartId);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn temCartIdList;\r\n\t\t\t\t})();\r\n\t\t\t} else {\r\n\t\t\t\tisActive = !that.allSelectBtnActiveStatus;\r\n\t\t\t\tcartIdList = (() => {\r\n\t\t\t\t\tlet temCartIdList = [];\r\n\r\n\t\t\t\t\tthat.cartGoodsList.forEach(i => {\r\n\t\t\t\t\t\ti.sellerCartGoodsList.forEach(j => {\r\n\t\t\t\t\t\t\ttemCartIdList.push(j.cartId);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn temCartIdList;\r\n\t\t\t\t})();\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('cartIdList, isActive', cartIdList, isActive);\r\n\r\n\t\t\tthat.hideAllFn();\r\n\t\t\tuni.showLoading();\r\n\r\n\t\t\tlet changeGoodsActiveResult = await that.changeGoodsActive(cartIdList, isActive);\r\n\t\t\tif (changeGoodsActiveResult.type == 'success') {\r\n\t\t\t\tthat.renderCartListFn();\r\n\t\t\t} else {\r\n\t\t\t\tthat.hideAllFn();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: changeGoodsActiveResult.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthat.sendAjaxFlag = false;\r\n\t\t},\r\n\t\t// 单店结算按钮\r\n\t\tasync paySellerBtnClickFn(cartGoodsItem) {\r\n\t\t\tlet that = this;\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tif (that.commitBtnTemplateList.length) {\r\n\t\t\t\tlet temIdRes = await that.requestSubscribeMessageFn(that.commitBtnTemplateList);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tthat.navigateToFn({\r\n\t\t\t\turl: `/pages/order/submit-order?storeType=${cartGoodsItem.sellerId}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 选择好商品后去结算\r\n\t\tasync toPayFn() {\r\n\t\t\tlet that = this;\r\n\t\t\t// 未绑定手机号不能操作以下功能\r\n\t\t\tif (!that.isRunBindMobileFunc) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: bindMobileTips,\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\te.confirm && that.navigateToFn({ url: `/packageA/tel-login/user-info` });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tif (that.commitBtnTemplateList.length) {\r\n\t\t\t\tlet temIdRes = await that.requestSubscribeMessageFn(that.commitBtnTemplateList);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\tif (that.gongyingshang) {\r\n\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\turl: `/pages/order/submit-order?storeType=all`\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\turl: `/pages/order/submit-order`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// ↓↓↓ 多规格相关方法 --------------------------------------------------------\r\n\t\t// 设置规格框的显示隐藏\r\n\t\tsetGoodsSpec(bool) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isShowGoodsSpec = bool;\r\n\t\t\tif (!bool) {\r\n\t\t\t\tthat.goodsSpecSelectItemList = addSpecFilterItemActAttrFn(cloneFn(that.goodsSpecSelectItemList));\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 选择规格项 改变展示 状态\r\n\t\tsetSpecFilterItemActiveFn(arg) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet { index, specFilterIndex } = arg;\r\n\r\n\t\t\tconsole.log('外部列表修改', index, specFilterIndex);\r\n\r\n\t\t\tlet goodsSpecSelectItemList = cloneFn(that.goodsSpecSelectItemList);\r\n\r\n\t\t\tgoodsSpecSelectItemList.forEach((item, inde) => {\r\n\t\t\t\tif (inde == index) {\r\n\t\t\t\t\titem.item.forEach((it, inx) => {\r\n\t\t\t\t\t\tif (inx == specFilterIndex) {\r\n\t\t\t\t\t\t\tit.active = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tit.active = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.goodsSpecSelectItemList = goodsSpecSelectItemList;\r\n\t\t},\r\n\t\t// ↑↑↑ 多规格相关方法 --------------------------------------------------------\r\n\t\t// 获取当前位置信息赋值到 storage 里 结算页面的多自提点需要这个位置信息\r\n\t\t// 给页面顶部设置地址\r\n\t\tasync setPageAddressFn(latitude, longitude) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet addressTextResult = await that.getCurrentAddressInfo({\r\n\t\t\t\tlatitude,\r\n\t\t\t\tlongitude\r\n\t\t\t});\r\n\t\t\tconsole.log('getCurrentAddressInfo addressTextResult', addressTextResult);\r\n\t\t\tif(addressTextResult.type == 'success'){\r\n\t\t\t\tthat.currentAddressText = addressTextResult.result.address\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync setLocalAddressFn() {\r\n\t\t\tlet that = this;\r\n\t\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\t\tlet userLocationInfo = await that.settingInfoFn('scope.userLocation'); // 用户授权位置信息\r\n\t\t\tconsole.log('用户授权位置信息 userLocationInfo', userLocationInfo);\r\n\r\n\t\t\tif (userLocationInfo.type == 'success') {\r\n\t\t\t\tif (userLocationInfo.isFirst) {\r\n\t\t\t\t\tlet locationInfo = await that.getLocationInfoFn();\r\n\t\t\t\t\tconsole.log('locationInfo 获取位置 -aa', locationInfo);\r\n\r\n\t\t\t\t\tif (locationInfo.type == 'error') {\r\n\t\t\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\t\t\turl: `/packageA/set-address-page/index?page=cart`\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.setStorageSync('cartAddress', {\r\n\t\t\t\t\t\t\tlatitude: locationInfo.result.latitude,\r\n\t\t\t\t\t\t\tlongitude: locationInfo.result.longitude\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t!that.currentAddressText && that.setPageAddressFn(locationInfo.result.latitude,locationInfo.result.longitude);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (userLocationInfo.isOk) {\r\n\t\t\t\t\t\tlet locationInfo = await that.getLocationInfoFn();\r\n\t\t\t\t\t\tconsole.log('locationInfo 获取位置 -bb', locationInfo);\r\n\r\n\t\t\t\t\t\tif (locationInfo.type == 'success') {\r\n\t\t\t\t\t\t\tuni.setStorageSync('cartAddress', {\r\n\t\t\t\t\t\t\t\tlatitude: locationInfo.result.latitude,\r\n\t\t\t\t\t\t\t\tlongitude: locationInfo.result.longitude\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t!that.currentAddressText && that.setPageAddressFn(locationInfo.result.latitude,locationInfo.result.longitude);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\t\t\t\turl: `/packageA/set-address-page/index?page=cart`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\t\t\turl: `/packageA/set-address-page/index?page=cart`\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: userLocationInfo.msg\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\r\n\t\t\tlet locationInfo = await that.getLocationInfoFn();\r\n\t\t\tconsole.log('locationInfo 获取位置', locationInfo);\r\n\t\t\tif (locationInfo.type == 'success') {\r\n\t\t\t\tuni.setStorageSync('cartAddress', {\r\n\t\t\t\t\tlatitude: locationInfo.result.latitude,\r\n\t\t\t\t\tlongitude: locationInfo.result.longitude\r\n\t\t\t\t});\r\n\t\t\t\t!that.currentAddressText && that.setPageAddressFn(locationInfo.result.latitude,locationInfo.result.longitude);\r\n\t\t\t} else {\r\n\t\t\t\tlet indexAddressInfo = assertObject(uni.getStorageSync('indexAddressInfo'));\r\n\t\t\t\tuni.setStorageSync('cartAddress', {\r\n\t\t\t\t\tlatitude: indexAddressInfo.latitude,\r\n\t\t\t\t\tlongitude: indexAddressInfo.longitude\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tlet locationInfo = await that.getLocationInfoFn();\r\n\t\t\tconsole.log('locationInfo 获取位置', locationInfo);\r\n\t\t\tif (locationInfo.type == success) {\r\n\t\t\t\tuni.setStorageSync('cartAddress', {\r\n\t\t\t\t\tlatitude: locationInfo.result.latitude,\r\n\t\t\t\t\tlongitude: locationInfo.result.longitude\r\n\t\t\t\t});\r\n\t\t\t\t!that.currentAddressText && that.setPageAddressFn(locationInfo.result.latitude,locationInfo.result.longitude);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tuni.showModal({\r\n\t\t\t\tshowCancel: false, //不显示取消按钮\r\n\t\t\t\ttitle: '获取定位失败',\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t//确认后的回调\r\n\t\t\t\t\tthat.toBackFn();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t},\r\n\t}, // ↑↑↑↑↑ methods 结束\r\n\tcomputed: {\r\n\t\t// tab-bar的选中项\r\n\t\ttabCurrent() {\r\n\t\t\tfor (let i = 0; i < this.MenuList.length; i++) {\r\n\t\t\t\tif (this.MenuList[i].field == 'g') {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t},\r\n\t\t// 当前状态是否空购物车\r\n\t\tcalcCartIsEmpty() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.isLogin) {\r\n\t\t\t\tlet goodsCont = 0;\r\n\t\t\t\tthat.cartGoodsList.forEach(i => {\r\n\t\t\t\t\tgoodsCont += i.sellerCartGoodsList.length;\r\n\t\t\t\t});\r\n\t\t\t\tif (goodsCont >= 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// 当前门店的商品是否全部选中\r\n\t\tcalcSellerIsActive() {\r\n\t\t\treturn cartGoodsItem => {\r\n\t\t\t\tif (cartGoodsItem.sellerCartGoodsList.some(i => i.isInvalid)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn cartGoodsItem.sellerCartGoodsList.every(i => i.isActive);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 当前门店是否有选中的商品\r\n\t\tcalcSellerHasActive() {\r\n\t\t\treturn i => i.sellerCartGoodsList.some(o => o.isActive);\r\n\t\t},\r\n\t\t// 底部的全选按钮状态\r\n\t\tallSelectBtnActiveStatus() {\r\n\t\t\tif (this.calcCartIsEmpty) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet active = 0,\r\n\t\t\t\tnotActive = 0,\r\n\t\t\t\tlen = 0,\r\n\t\t\t\tisInvalid = false;\r\n\r\n\t\t\tthis.cartGoodsList.forEach(i => {\r\n\t\t\t\tlen += i.sellerCartGoodsList.length;\r\n\t\t\t\ti.sellerCartGoodsList.forEach(j => {\r\n\t\t\t\t\tif (j.isInvalid) {\r\n\t\t\t\t\t\tisInvalid = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (j.isActive) {\r\n\t\t\t\t\t\tactive += 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotActive += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tif (isInvalid) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (active == len) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page,\r\npage {\r\n\tmin-height: 100vh;\r\n\tbackground: $bg-grey-color;\r\n}\r\n\r\n.user-address {\r\n\tbackground: #ffffff;\r\n\r\n\t.content-wrap {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\r\n\t\t> text {\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t}\r\n\t}\r\n\r\n\t.address-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 88rpx;\r\n\r\n\t\timage {\r\n\t\t\tmargin-left: 5rpx;\r\n\t\t\tmargin-right: 24rpx;\r\n\t\t\twidth: 38rpx;\r\n\t\t\theight: 46rpx;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmin-width: 50vw;\r\n\t\t\tmax-width: 60vw;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.go-home-block {\r\n\tposition: relative;\r\n\twidth: 750rpx;\r\n\theight: 452rpx;\r\n\r\n\t.bg-null-cart {\r\n\t\twidth: 750rpx;\r\n\t\theight: 452rpx;\r\n\t\tposition: absolute;\r\n\t\tz-index: 5;\r\n\t}\r\n\r\n\ttext {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\ttop: 260rpx;\r\n\t\tz-index: 10;\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: $grey1-color;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.navigator {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbottom: 45rpx;\r\n\t\tz-index: 10;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 160rpx;\r\n\t\theight: 66rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 10000rpx;\r\n\t}\r\n}\r\n\r\n.like-goods-list-bar {\r\n\tline-height: 88rpx;\r\n\ttext-align: center;\r\n\tfont-size: 30rpx;\r\n\tfont-weight: 600;\r\n\tcolor: $grey1-color;\r\n\tbackground: $bg-grey-color;\r\n\t.bar-title {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tpadding: 0 20rpx;\r\n\t\t.before-dom,\r\n\t\t.after-dom {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t}\r\n\t\t.icon-O {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\twidth: 7rpx;\r\n\t\t\theight: 7rpx;\r\n\t\t\tbackground: $grey1-color;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t\t.icon-I {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\twidth: 50rpx;\r\n\t\t\theight: 2rpx;\r\n\t\t}\r\n\r\n\t\t.before-dom {\r\n\t\t\tleft: 0;\r\n\t\t\ttransform: translateY(-50%) translateX(-100%);\r\n\t\t\t.icon-I {\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbackground: linear-gradient(90deg, rgba(0, 0, 0, 0), $grey1-color);\r\n\t\t\t}\r\n\t\t\t.icon-O {\r\n\t\t\t\tright: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.after-dom {\r\n\t\t\tright: 0;\r\n\t\t\ttransform: translateY(-50%) translateX(100%);\r\n\t\t\t.icon-I {\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbackground: linear-gradient(-90deg, rgba(0, 0, 0, 0), $grey1-color);\r\n\t\t\t}\r\n\t\t\t.icon-O {\r\n\t\t\t\tleft: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.bottom-shop-list {\r\n\tbackground: $bg-grey-color;\r\n\tfont-size: 0;\r\n\r\n\t.list-goods-item-div {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 19rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t&:nth-child(2n) {\r\n\t\t\tmargin-right: 0;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.order-btn-block {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tposition: fixed;\r\n\tz-index: 500;\r\n\tbottom: 96rpx;\r\n\t/* #ifdef H5 */\r\n\tbottom: 50px;\r\n\t/* #endif */\r\n\tpadding: 0 24rpx;\r\n\twidth: 100%;\r\n\theight: 100rpx;\r\n\tbackground: #ffffff;\r\n\r\n\tbox-shadow: 0px 0px 6rpx #d8d8d8;\r\n\r\n\t.isAll-btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: $grey1-color;\r\n\r\n\t\theight: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\r\n\t\t.text {\r\n\t\t\tmargin-left: 0.3em;\r\n\t\t}\r\n\t}\r\n\r\n\t.price-all {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 78rpx;\r\n\t\tfont-size: 23rpx;\r\n\t\tcolor: $grey2-color;\r\n\t\t&.show-bottom-discounts {\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.top-price-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t.bottom-price-text {\r\n\t\t\t}\r\n\t\t\t.bar-price-block {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: baseline;\r\n\t\t\t\tpadding-left: 0.4em;\r\n\r\n\t\t\t\t.price-icon {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 18rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.price-text {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.bottom-discounts {\r\n\t\t\tdisplay: flex;\r\n\t\t\t.discounts-total-price {\r\n\t\t\t}\r\n\t\t\t.discounts-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding-left: 0.4em;\r\n\t\t\t\t.discounts-title {\r\n\t\t\t\t}\r\n\t\t\t\t.discounts-icon {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\theight: 24rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.order-btn {\r\n\t\t@include btn-green;\r\n\t\t@include flex-center;\r\n\t\twidth: 240rpx;\r\n\t\theight: 88rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n}\r\n.cart-content-block {\r\n\tpadding-top: 20rpx;\r\n\tpadding-bottom: 20rpx;\r\n\t.seller-item-cart {\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 30rpx;\r\n\t\t&:first-child {\r\n\t\t\tmargin-top: 0;\r\n\t\t}\r\n\t\t.seller-name-block {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tposition: relative;\r\n\t\t\theight: 76rpx;\r\n\r\n\t\t\t&.show-dispatch-info {\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\t.bottom-dispatch-info {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&.not-gongyingshang {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\t&.show-dispatch-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpadding-bottom: 20rpx;\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 20rpx;\r\n\t\t\t\tright: 20rpx;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground: #f1f1f1;\r\n\t\t\t}\r\n\r\n\t\t\t.is-select {\r\n\t\t\t\twidth: 76rpx;\r\n\t\t\t}\r\n\t\t\t.seller-name-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\t// width: 602rpx;\r\n\t\t\t\twidth: 626rpx;\r\n\t\t\t\t&.not-gongyingshang {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.top-seller-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t.seller-image {\r\n\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.seller-text {\r\n\t\t\t\t\t\tmax-width: 524rpx;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.bottom-dispatch-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t&.show-dispatch-info {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t.dispatch-title-time {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t&.not-gongyingshang {\r\n\t\t\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.dispatch-title {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.dispatch-shu-dom {\r\n\t\t\t\t\t\t\tmargin: 0 8rpx;\r\n\t\t\t\t\t\t\twidth: 1px;\r\n\t\t\t\t\t\t\theight: 22rpx;\r\n\t\t\t\t\t\t\tbackground: #bdbdbd;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.dispatch-time {\r\n\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.to-home-btn {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.seller-goods-list {\r\n\t\t.seller-goods-item {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\theight: 220rpx;\r\n\t\t\t&.has-discounts {\r\n\t\t\t\t// height: 298rpx;\r\n\t\t\t\theight: 290rpx;\r\n\t\t\t}\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 20rpx;\r\n\t\t\t\tright: 20rpx;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground: #f1f1f1;\r\n\t\t\t}\r\n\t\t\t&:last-child::after {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\t.top-goods-info {\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.is-select-block {\r\n\t\t\t\t\twidth: 76rpx;\r\n\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t.goods-state-text {\r\n\t\t\t\t\t\tpadding: 0 10rpx;\r\n\t\t\t\t\t\tbackground: #929398;\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\tline-height: 36rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.goods-image-wrap-block {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\tborder-radius: 14rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t&.invalid {\r\n\t\t\t\t\t\tfilter: grayscale(30%);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.tag-img-wrap {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tz-index: 15;\r\n\t\t\t\t\t\ttop: 10rpx;\r\n\t\t\t\t\t\tleft: 10rpx;\r\n\t\t\t\t\t\twidth: 54rpx;\r\n\t\t\t\t\t\theight: 54rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.goods-info-block {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tpadding: 0 24rpx 0 20rpx;\r\n\t\t\t\t\twidth: 446rpx;\r\n\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t&.invalid {\r\n\t\t\t\t\t\tfilter: grayscale(30%);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-name {\r\n\t\t\t\t\t\twidth: 402rpx;\r\n\t\t\t\t\t\theight: 46rpx;\r\n\t\t\t\t\t\tline-height: 46rpx;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tcolor: #374050;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.goods-description_spec-key-block {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\twidth: 402rpx;\r\n\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\t.goods-description-text,\r\n\t\t\t\t\t\t.goods-spec-key-name-text {\r\n\t\t\t\t\t\t\twidth: 402rpx;\r\n\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\tcolor: #91939c;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-tag-block {\r\n\t\t\t\t\t\twidth: 402rpx;\r\n\t\t\t\t\t\theight: 52rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t.goods-tag-wrap {\r\n\t\t\t\t\t\t\tpadding-top: 10rpx;\r\n\t\t\t\t\t\t\twidth: 402rpx;\r\n\t\t\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\toverflow-y: hidden;\r\n\t\t\t\t\t\t\tfont-size: 0;\r\n\t\t\t\t\t\t\t.goods-tag {\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\t\tpadding: 0rpx 10rpx;\r\n\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t\tcolor: #ff6128;\r\n\t\t\t\t\t\t\t\tline-height: 32rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 18rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t\t\tborder: 1px solid #ff6128;\r\n\t\t\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.bottom-price-block {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\theight: 42rpx;\r\n\t\t\t\t\t\t.price-block {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-wrap: nowrap;\r\n\t\t\t\t\t\t\talign-items: baseline;\r\n\t\t\t\t\t\t\tpadding: 0 10rpx 0 0;\r\n\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t\tcolor: #eb3c39;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\r\n\t\t\t\t\t\t\t.price-icon {\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\tmargin-right: 2rpx;\r\n\t\t\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 18rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.price-text {\r\n\t\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.control-block {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 24rpx;\r\n\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\theight: 54rpx;\r\n\r\n\t\t\t\t\t\t.input-dom {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.control-btn-block {\r\n\t\t\t\t\t\t\twidth: 54rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.bubble-tips {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tz-index: 20;\r\n\t\t\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\t\t\ttransform: translateX(-50%) translateY(100%);\r\n\t\t\t\t\t\t\tbackground: #374050;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\t\t\t\ttop: 2px;\r\n\t\t\t\t\t\t\t\ttransform: translateX(-50%) translateY(-100%);\r\n\t\t\t\t\t\t\t\tborder: 14rpx solid transparent;\r\n\t\t\t\t\t\t\t\tborder-bottom: 14rpx solid #374050;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.tips-text {\r\n\t\t\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.bottom-goods-discounts-block {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding: 0 76rpx;\r\n\t\t\t\theight: 78rpx;\r\n\t\t\t\t.view-after-dom {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tz-index: 10;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tleft: 156rpx;\r\n\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\ttransform: rotate(45deg);\r\n\t\t\t\t\tborder: 1px solid;\r\n\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\tborder-right: none;\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t\tborder-radius: 5rpx 0 0 0;\r\n\t\t\t\t}\r\n\t\t\t\t.discounts-tips {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 10rpx;\r\n\t\t\t\t\tpadding: 0 16rpx;\r\n\t\t\t\t\twidth: 550rpx;\r\n\t\t\t\t\theight: 58rpx;\r\n\t\t\t\t\tborder-radius: 14rpx;\r\n\t\t\t\t\tborder: 1px solid;\r\n\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t.discounts-tips-icon {\r\n\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tcolor: #ff6128;\r\n\t\t\t\t\t\tbackground: rgba(255, 97, 40, 0.18);\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.discounts-tips-text {\r\n\t\t\t\t\t\twidth: 460rpx;\r\n\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\tcolor: #374050;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.seller-item-commit-btn-block {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 0;\r\n\t\t\tpadding-top: 20rpx;\r\n\t\t\t&.seller-discounts {\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t.seller-discounts-info {\r\n\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\tcolor: #91939c;\r\n\t\t\t\t.discounts-total-price {\r\n\t\t\t\t}\r\n\t\t\t\t.discounts-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t.discounts-title {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.discounts-icon {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\t.seller-commit-btn {\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tbackground: #fef6df;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\t.left-price-block {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: baseline;\r\n\t\t\t\t\tpadding-right: 20rpx;\r\n\t\t\t\t\t.price-icon {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.price-num {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.right-text-block {\r\n\t\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502583392\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}