{"version":3,"sources":["uni-app:///main.js","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?bf52","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?d631","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?c7ed","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?d71f","uni-app:///pages/my/shouhou/shenqingshouhuo.vue","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?0f5f","webpack:///F:/test-uniapp2/万象优鲜商城生鲜配送系统生鲜批发版本APP小程序公众号抖音小程序快手商城小程序/pages/my/shouhou/shenqingshouhuo.vue?b3b1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isShowLoading","type","ordId","reason","id","name","order","ord_bh","status","orderstatus","user_name","user_phone","address","add_time","peisong_time","pay_time","pay_type","pay_price","ord_price","redpacket_sale_money","coupon_sale_money","goods_sale_money","vip_sale_money","post_fee","goods","original_img","goods_name","tag_name","single_price","buy_num","goods_id","textarea","templateId","onLoad","console","that","methods","seleCtcancelFn","item","selectGoodsFn","getApplySaleDataFn","obj","url","Platform","edit","result","filter","map","getTemplateResult","uni","tmplIds","success","resFn","fail","rejFn","afterSaleFn","icon","title","join","method","tui_bh","ms","spec_id","ord_id","delta"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,wBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACsC;;;AAGpG;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA2uB,CAAgB,gwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACiH/vB;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACA;QACAC;QACAC;MACA,EACA;MACAC;QACA;QACAF;QACAG;QAAA;QACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACAC;MACA;MACA;QACApB;QACAqB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA,EACA;;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;IACAC;IACAA;IACAA;IACAA;IAEAA;IACAD;EACA;EACAE;IACA;IACAC;MACA;MACAF;QACAG;MACA;;MAEA;IACA;IACA;IACAC;MACA;MACA;QACAJ;MACA;IACA;IACA;IACAK;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAL;gBACAM;gBAEA;kBACAA;gBACA;kBACA;oBACAA;kBACA;gBACA;gBACAP;gBAAA;gBAAA,OAEAC;kBACAO;kBACA3C;oBACAK;oBACAuC;oBACAC;kBAAA,GACAH;gBAEA;cAAA;gBARAI;gBAUA;kBACAJ;kBAEAN;gBACA;gBAEAA;;gBAEA;gBACAU;kBACA;;kBAEA;oBACA;sBACAP;oBACA;sBACAA;oBACA;kBACA;oBACA;sBACAA;oBACA;sBACAA;oBACA;kBACA;gBACA;gBAEAH;;gBAEA;gBACAU;kBACA;kBACAP;gBACA;gBACAH;;gBAEA;gBACAA;;gBAEA;;gBAEA;kBACAU;gBACA;gBACAb,yCACAc;kBACA;gBACA,GACAC;kBACA;gBACA;gBACAZ;gBAEAD;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAc;MACA;MACA;QACAC;UACAC;UACAC;YACAjB;YACAkB;UACA;UACAC;YACAnB;YACAoB;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApB,eAWA;gBACA/B;kBACA;gBACA;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACA6C;kBACAO;kBACAC;gBACA;gBAAA,kCACA;cAAA;gBAEArD,QACA2C;kBACA;gBACA,GACAW;;gBAEA;gBACAvD;kBACA;gBACA;gBAEAA;gBACA+B;gBAAA,MAMAC;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACAA;kBACAwB;kBACAjB;kBACA3C;oBACAK;oBACAwD;oBACAzD;oBACA;oBACA0D;kBACA;gBACA;cAAA;gBAVAhB;gBAAA;gBAAA;cAAA;gBAYAzC,iBACA0C;kBACA;gBACA,GACAC;kBACA;oBACAjB;oBACAgC;kBACA;gBACA;gBAAA;gBAAA,OAEA3B;kBACAwB;kBACAjB;kBACA3C;oBACAK;oBACA2D;oBACA5D;oBACA;oBACA0D;kBACA;gBACA;cAAA;gBAVAhB;cAAA;gBAaA;kBACAV;oBACAO;oBACAsB;oBACA/D;kBACA;gBACA;kBACAgD;oBACAQ;oBACAD;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5XA;AAAA;AAAA;AAAA;AAAs5C,CAAgB,m3CAAG,EAAC,C;;;;;;;;;;;ACA16C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/shouhou/shenqingshouhuo.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/shouhou/shenqingshouhuo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shenqingshouhuo.vue?vue&type=template&id=4f40c572&scoped=true&\"\nvar renderjs\nimport script from \"./shenqingshouhuo.vue?vue&type=script&lang=js&\"\nexport * from \"./shenqingshouhuo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shenqingshouhuo.vue?vue&type=style&index=0&id=4f40c572&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f40c572\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/shouhou/shenqingshouhuo.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shenqingshouhuo.vue?vue&type=template&id=4f40c572&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.goods, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = item.goods_remark && _vm.trimFn(item.goods_remark)\n    var m1 = item.tag_name && _vm.trimFn(item.tag_name)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shenqingshouhuo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shenqingshouhuo.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"cancel-block\">\r\n\t\t\t<view class=\"content-wrap\">\r\n\t\t\t\t<view class=\"cancel-content border-radius20\">\r\n\t\t\t\t\t<view class=\"before\" :style=\"{ background: configInfo.web_site_color }\"></view>\r\n\t\t\t\t\t<view class=\"h3-block\">\r\n\t\t\t\t\t\t<view class=\"h3-1\">申请售后</view>\r\n\t\t\t\t\t\t<view class=\"h3-2\">若您使用了优惠券，将返回到账户</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"h4\">请选择售后商品</view>\r\n\t\t\t\t\t<view class=\"my-goods-block\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"item\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in goods\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"selectGoodsFn(item, index)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<view class=\"goods-image-block\">\r\n\t\t\t\t\t\t\t\t<view class=\"zzc\" v-if=\"item.is_selected == 0\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text\">{{ item.not_allow_refund }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<image :src=\"item.original_img\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"goods-description-block\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-name\">{{ item.goods_name }}</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"goods-description\" v-if=\"item.goods_remark && trimFn(item.goods_remark)\">\r\n\t\t\t\t\t\t\t\t\t{{ item.goods_remark }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-tab-block\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tag-block\" v-if=\"item.tag_name && trimFn(item.tag_name)\">\r\n\t\t\t\t\t\t\t\t\t\t{{ item.tag_name }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-price\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"shop-price-block-lr\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"origin-price\">\r\n\t\t\t\t\t\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ item.single_price }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-number\" v-if=\"item.buy_num > 1\">×{{ item.buy_num }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t\t\titem.is_selected==0不显示\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\titem.is_selected!=0显示\r\n\t\t\t\t\t\t\t -->\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"flag-icon\"\r\n\t\t\t\t\t\t\t\tv-if=\"item.is_selected != 0\"\r\n\t\t\t\t\t\t\t\t:style=\"{ display: type == '修改申请' ? 'none' : 'flex' }\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t\t\t\tv-if=\"item.isSelect\"\r\n\t\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t\t\tsize=\"20\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox-filled\"\r\n\t\t\t\t\t\t\t\t></uni-icons>\r\n\t\t\t\t\t\t\t\t<uni-icons v-else color=\"#91939c\" size=\"20\" type=\"circle\"></uni-icons>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"h4\">请选择售后原因,并添加备注</view>\r\n\t\t\t\t\t<view class=\"cancel-list\">\r\n\t\t\t\t\t\t<view class=\"item\" v-for=\"(item, index) in reason\" :key=\"index\" @click=\"seleCtcancelFn(index)\">\r\n\t\t\t\t\t\t\t<text>{{ item.name }}</text>\r\n\t\t\t\t\t\t\t<view class=\"icon-block\">\r\n\t\t\t\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t\t\t\tv-if=\"item.isSelect\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox-filled\"\r\n\t\t\t\t\t\t\t\t\tsize=\"20\"\r\n\t\t\t\t\t\t\t\t\t:color=\"configInfo.web_site_color\"\r\n\t\t\t\t\t\t\t\t></uni-icons>\r\n\t\t\t\t\t\t\t\t<uni-icons v-else type=\"circle\" size=\"20\" color=\"#91939c\"></uni-icons>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"item\"><text>备注</text></view>\r\n\r\n\t\t\t\t\t\t<view class=\"textarea-block\">\r\n\t\t\t\t\t\t\t<textarea maxlength=\"1200\" class=\"textarea\" v-model=\"textarea\"></textarea>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- \r\n\r\n\t\t\t\t<navigator url=\"./tuikuan\" class=\"bottom-btn-block\" hover-class=\"none\">\r\n\t\t\t\t\t<button class=\"pay-btn\">\r\n\t\t\t\t\t\t提交\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t -->\r\n\t\t\t\t<view class=\"bottom-btn-block\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"pay-btn\"\r\n\t\t\t\t\t\t:class=\"[isAllAngle ? 'border-radius-style-all-arg' : 'border-radius-style-half-arg']\"\r\n\t\t\t\t\t\t@click=\"afterSaleFn\"\r\n\t\t\t\t\t\t:style=\"{ background: configInfo.web_site_color }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t提交\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<loading-css :is-show=\"isShowLoading\"></loading-css>\r\n\t</view>\r\n</template>\r\n<script>\r\n// 工具库 相关\r\nimport { checkTypeFn } from '@/tools/tools';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisShowLoading: true,\r\n\t\t\ttype: '',\r\n\t\t\tordId: null,\r\n\t\t\treason: [\r\n\t\t\t\t//申请退款原因\r\n\t\t\t\t{\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\torder: {\r\n\t\t\t\t//订单信息\r\n\t\t\t\tid: '',\r\n\t\t\t\tord_bh: '', //订单编号\r\n\t\t\t\tstatus: '',\r\n\t\t\t\torderstatus: '', //订单状态\r\n\t\t\t\tuser_name: '', //收货人姓名\r\n\t\t\t\tuser_phone: '', //收货人手机号\r\n\t\t\t\taddress: '', //收货地址\r\n\t\t\t\tadd_time: '', //下单时间\r\n\t\t\t\tpeisong_time: '', //配送时间\r\n\t\t\t\tpay_time: '', //支付时间\r\n\t\t\t\tpay_type: '', //支付方式\r\n\t\t\t\tpay_price: '', //支付金额\r\n\t\t\t\tord_price: '', //订单金额\r\n\t\t\t\tredpacket_sale_money: '', //红包抵扣金额\r\n\t\t\t\tcoupon_sale_money: '', //优惠券优惠金额\r\n\t\t\t\tgoods_sale_money: '', //商品活动优惠金额\r\n\t\t\t\tvip_sale_money: '', //会员优惠金额\r\n\t\t\t\tpost_fee: '' //配送费\r\n\t\t\t},\r\n\t\t\tgoods: [\r\n\t\t\t\t//订单的商品信息\r\n\t\t\t\t{\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\toriginal_img: '', //商品封面图\r\n\t\t\t\t\tgoods_name: '', //商品名称\r\n\t\t\t\t\ttag_name: '', //标签\r\n\t\t\t\t\tsingle_price: '', //售价\r\n\t\t\t\t\tbuy_num: '', //购买数量\r\n\t\t\t\t\tgoods_id: '' //商品id\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\ttextarea: '',\r\n\t\t\ttemplateId: []\r\n\t\t};\r\n\t},\r\n\tonLoad(options) {\r\n\t\tlet that = this;\r\n\t\tconsole.log(options, '申请售后页面options', '\\n');\r\n\t\tthat = this;\r\n\t\tthat.ordId = options.id;\r\n\t\tthat.type = options.type;\r\n\t\tthat.tui_bh = options.tui_bh;\r\n\r\n\t\tthat.getApplySaleDataFn();\r\n\t\tconsole.log('售后页面');\r\n\t},\r\n\tmethods: {\r\n\t\t// 选择售后原因 改状态\r\n\t\tseleCtcancelFn(ind) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.reason.forEach((item, index) => {\r\n\t\t\t\titem.isSelect = index == ind ? true : false;\r\n\t\t\t});\r\n\r\n\t\t\t// that.reason[index].isSelect = !that.reason[index].isSelect;\r\n\t\t},\r\n\t\t// 选择售后商品 改状态\r\n\t\tselectGoodsFn(item, index) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (item.is_selected != 0) {\r\n\t\t\t\tthat.goods[index].isSelect = !that.goods[index].isSelect;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 获取退款页 数据 退款原因  退款商品\r\n\t\tasync getApplySaleDataFn() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet obj = {};\r\n\r\n\t\t\tif (that.type == '修改申请') {\r\n\t\t\t\tobj.tui_bh = that.tui_bh;\r\n\t\t\t} else {\r\n\t\t\t\tif (that.tui_bh) {\r\n\t\t\t\t\tobj.tui_bh = that.tui_bh;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(obj, '打印obj参数', '\\n');\r\n\r\n\t\t\tlet result = await that.$request({\r\n\t\t\t\turl: '/api/order/apply_sale_data',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: that.ordId,\r\n\t\t\t\t\tPlatform: 'wxMiniProgram',\r\n\t\t\t\t\tedit: that.type == '修改申请' ? 'yes' : 'no',\r\n\t\t\t\t\t...obj\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (that.type == '修改申请') {\r\n\t\t\t\tobj.tui_bh = that.tui_bh;\r\n\r\n\t\t\t\tthat.textarea = result.data.data.editSelected.tkms;\r\n\t\t\t}\r\n\r\n\t\t\tthat.isShowLoading = false;\r\n\r\n\t\t\t// 售后原因列表\r\n\t\t\tresult.data.data.reason.forEach((item, index) => {\r\n\t\t\t\t//设置选择状态\r\n\r\n\t\t\t\tif (that.type == '修改申请') {\r\n\t\t\t\t\tif (item.id == result.data.data.editSelected.apply_reason) {\r\n\t\t\t\t\t\titem.isSelect = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (index == 0) {\r\n\t\t\t\t\t\titem.isSelect = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isSelect = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthat.reason = result.data.data.reason;\r\n\r\n\t\t\t// 售后商品列表\r\n\t\t\tresult.data.data.goods.forEach(item => {\r\n\t\t\t\t//设置选择状态\r\n\t\t\t\titem.isSelect = false;\r\n\t\t\t});\r\n\t\t\tthat.goods = result.data.data.goods;\r\n\r\n\t\t\t// 订单信息\r\n\t\t\tthat.order = result.data.data.order;\r\n\r\n\t\t\t// 处理模板消息\r\n\r\n\t\t\tif (checkTypeFn(result.data.data.templateId) != 'Array') {\r\n\t\t\t\tresult.data.data.templateId = [];\r\n\t\t\t}\r\n\t\t\tlet templateId = result.data.data.templateId\r\n\t\t\t\t.filter(item => {\r\n\t\t\t\t\treturn item.mini_status == 1;\r\n\t\t\t\t})\r\n\t\t\t\t.map(item => {\r\n\t\t\t\t\treturn item.mini_template_id;\r\n\t\t\t\t});\r\n\t\t\tthat.templateId = templateId;\r\n\r\n\t\t\tconsole.log(result, '结果31');\r\n\t\t},\r\n\t\tgetTemplateResult() {\r\n\t\t\tlet that = this;\r\n\t\t\treturn new Promise((resFn, rejFn) => {\r\n\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\ttmplIds: that.templateId,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log('成功', '\\n');\r\n\t\t\t\t\t\tresFn(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log('失败', '\\n');\r\n\t\t\t\t\t\trejFn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提交售后\r\n\t\tasync afterSaleFn() {\r\n\t\t\tlet that = this;\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\r\n\t\t\tif (that.templateId.length >= 1) {\r\n\t\t\t\tlet templateResult;\r\n\t\t\t\tif (that.type != '修改申请') {\r\n\t\t\t\t\ttemplateResult = await that.getTemplateResult();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// 售后商品id列表\r\n\t\t\tlet id = that.goods.filter(item => {\r\n\t\t\t\treturn item.isSelect == true;\r\n\t\t\t});\r\n\t\t\tif (id.length < 1 && that.type != '修改申请') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '请选择要售后的商品'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tid = id\r\n\t\t\t\t.map(item => {\r\n\t\t\t\t\treturn item.goods_id;\r\n\t\t\t\t})\r\n\t\t\t\t.join(',');\r\n\r\n\t\t\t// 售后原因id\r\n\t\t\tlet reason = that.reason.filter(item => {\r\n\t\t\t\treturn item.isSelect == true;\r\n\t\t\t});\r\n\r\n\t\t\treason = reason[0].id;\r\n\t\t\tconsole.log(id);\r\n\r\n\t\t\tlet result;\r\n\t\t\t/* \r\n\t\t\t\t 返回 商品id\r\n\t\t\t\t */\r\n\t\t\tif (that.type == '修改申请') {\r\n\t\t\t\tresult = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/order/mod_tui_apply',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\ttui_bh: that.tui_bh,\r\n\t\t\t\t\t\treason,\r\n\t\t\t\t\t\t// ms: that.textarea ? that.textarea : '备注',\r\n\t\t\t\t\t\tms: that.textarea\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlet id = that.goods\r\n\t\t\t\t\t.filter(item => {\r\n\t\t\t\t\t\treturn item.isSelect == true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoods_id: item.goods_id,\r\n\t\t\t\t\t\t\tspec_id: item.spec_id\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tresult = await that.$request({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/api/order/apply_after_sale',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: JSON.stringify(id),\r\n\t\t\t\t\t\tord_id: that.ordId,\r\n\t\t\t\t\t\treason,\r\n\t\t\t\t\t\t// ms: that.textarea ? that.textarea : '备注',\r\n\t\t\t\t\t\tms: that.textarea\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (result.data.data == 1) {\r\n\t\t\t\tthat.navigateToFn({\r\n\t\t\t\t\turl: '/pages/my/shouhou/index',\r\n\t\t\t\t\tdelta: 1,\r\n\t\t\t\t\ttype: 'navigateBack'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: result.data.msg,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page,\r\npage {\r\n\toverflow: hidden;\r\n\tmin-height: 100vh;\r\n\tbackground: $bg-grey-color;\r\n}\r\n\r\n@mixin border {\r\n\tborder-bottom: 1px solid #f8f8f8;\r\n}\r\n\r\n.cancel-content {\r\n\tposition: relative;\r\n\tmargin-top: 20rpx;\r\n\tpadding: 0 20rpx;\r\n\tmargin-bottom: 46rpx;\r\n\toverflow: hidden;\r\n\tbackground: #ffffff;\r\n\r\n\t.before {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 24rpx;\r\n\t}\r\n\r\n\t.h3-block {\r\n\t\tmargin-top: 50rpx;\r\n\t\t@include border;\r\n\r\n\t\t.h3-1 {\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: $grey1-color;\r\n\t\t}\r\n\r\n\t\t.h3-2 {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: $grey2-color;\r\n\t\t\tline-height: 70rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.h4 {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $grey1-color;\r\n\t\tline-height: 80rpx;\r\n\t}\r\n\r\n\t.cancel-list {\r\n\t\tpadding-bottom: 20rpx;\r\n\r\n\t\t.item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 118rpx;\r\n\t\t\t@include border;\r\n\t\t\tcolor: $grey2-color;\r\n\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t&:last-of-type {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.textarea-block {\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 12em;\r\n\t\tborder: 1px solid #f8f8f8;\r\n\t\tborder-top: none;\r\n\t}\r\n\r\n\t.textarea {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 28rpx;\r\n\t\theight: 100%;\r\n\t}\r\n}\r\n\r\n.bottom-btn-block {\r\n\t@include flex-center;\r\n\twidth: 100%;\r\n\theight: 100rpx;\r\n\r\n\t.pay-btn {\r\n\t\t@include btn-green;\r\n\t}\r\n}\r\n\r\n.my-goods-block {\r\n\t.item {\r\n\t\tborder-top: 1px solid #f1f1f1;\r\n\t\theight: 220rpx;\r\n\t\tpadding-top: 19rpx 20rpx 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\t.flag-icon {\r\n\t\t\twidth: 56rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t\t.goods-number {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #91939c;\r\n\r\n\t\t\tmargin-top: 0.2em;\r\n\t\t\ttext-indent: 0.2em;\r\n\t\t}\r\n\r\n\t\t.goods-image-block {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 200rpx;\r\n\t\t\theight: 182rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\t// justify-content: center;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 180rpx;\r\n\t\t\t\theight: 180rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.zzc {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\twidth: 180rpx;\r\n\t\t\t\theight: 180rpx;\r\n\t\t\t\tbackground: rgba(255, 255, 255, 0.6);\r\n\t\t\t\t@include flex-center;\r\n\t\t\t\t.text {\r\n\t\t\t\t\t@include flex-center;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: rgba(0, 0, 0, 0.4);\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.goods-description-block {\r\n\t\t\twidth: 404rpx;\r\n\t\t\theight: 182rpx;\r\n\r\n\t\t\t.goods-name {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\t@include text-ellipsis;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-description {\r\n\t\t\t\theight: 34rpx;\r\n\t\t\t\t@include text-ellipsis;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: $grey2-color;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-tab-block {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-price {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t@include shop-price-block-lr;\r\n\t\t\t}\r\n\r\n\t\t\t.control-block {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\twidth: 160rpx;\r\n\r\n\t\t\t\tinput {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: $grey1-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shenqingshouhuo.vue?vue&type=style&index=0&id=4f40c572&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.9.20200403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shenqingshouhuo.vue?vue&type=style&index=0&id=4f40c572&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675502582078\n      var cssReload = require(\"E:/HBuilderX.2.6.9.20200403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}